(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var iu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var jE={exports:{}},Gf={},BE={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vl=Symbol.for("react.element"),Zk=Symbol.for("react.portal"),eR=Symbol.for("react.fragment"),tR=Symbol.for("react.strict_mode"),nR=Symbol.for("react.profiler"),rR=Symbol.for("react.provider"),iR=Symbol.for("react.context"),oR=Symbol.for("react.forward_ref"),aR=Symbol.for("react.suspense"),sR=Symbol.for("react.memo"),lR=Symbol.for("react.lazy"),O0=Symbol.iterator;function uR(e){return e===null||typeof e!="object"?null:(e=O0&&e[O0]||e["@@iterator"],typeof e=="function"?e:null)}var VE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},GE=Object.assign,HE={};function Aa(e,t,n){this.props=e,this.context=t,this.refs=HE,this.updater=n||VE}Aa.prototype.isReactComponent={};Aa.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Aa.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function qE(){}qE.prototype=Aa.prototype;function mv(e,t,n){this.props=e,this.context=t,this.refs=HE,this.updater=n||VE}var gv=mv.prototype=new qE;gv.constructor=mv;GE(gv,Aa.prototype);gv.isPureReactComponent=!0;var k0=Array.isArray,zE=Object.prototype.hasOwnProperty,vv={current:null},WE={key:!0,ref:!0,__self:!0,__source:!0};function KE(e,t,n){var r,i={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)zE.call(t,r)&&!WE.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Vl,type:e,key:o,ref:a,props:i,_owner:vv.current}}function cR(e,t){return{$$typeof:Vl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function yv(e){return typeof e=="object"&&e!==null&&e.$$typeof===Vl}function fR(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var R0=/\/+/g;function fh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?fR(""+e.key):t.toString(36)}function Ku(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Vl:case Zk:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+fh(a,0):r,k0(i)?(n="",e!=null&&(n=e.replace(R0,"$&/")+"/"),Ku(i,t,n,"",function(u){return u})):i!=null&&(yv(i)&&(i=cR(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(R0,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",k0(e))for(var s=0;s<e.length;s++){o=e[s];var l=r+fh(o,s);a+=Ku(o,t,n,l,i)}else if(l=uR(e),typeof l=="function")for(e=l.call(e),s=0;!(o=e.next()).done;)o=o.value,l=r+fh(o,s++),a+=Ku(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function ou(e,t,n){if(e==null)return e;var r=[],i=0;return Ku(e,r,"","",function(o){return t.call(n,o,i++)}),r}function dR(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Rt={current:null},Ju={transition:null},hR={ReactCurrentDispatcher:Rt,ReactCurrentBatchConfig:Ju,ReactCurrentOwner:vv};function JE(){throw Error("act(...) is not supported in production builds of React.")}ce.Children={map:ou,forEach:function(e,t,n){ou(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ou(e,function(){t++}),t},toArray:function(e){return ou(e,function(t){return t})||[]},only:function(e){if(!yv(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ce.Component=Aa;ce.Fragment=eR;ce.Profiler=nR;ce.PureComponent=mv;ce.StrictMode=tR;ce.Suspense=aR;ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hR;ce.act=JE;ce.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=GE({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=vv.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)zE.call(t,l)&&!WE.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:Vl,type:e.type,key:i,ref:o,props:r,_owner:a}};ce.createContext=function(e){return e={$$typeof:iR,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:rR,_context:e},e.Consumer=e};ce.createElement=KE;ce.createFactory=function(e){var t=KE.bind(null,e);return t.type=e,t};ce.createRef=function(){return{current:null}};ce.forwardRef=function(e){return{$$typeof:oR,render:e}};ce.isValidElement=yv;ce.lazy=function(e){return{$$typeof:lR,_payload:{_status:-1,_result:e},_init:dR}};ce.memo=function(e,t){return{$$typeof:sR,type:e,compare:t===void 0?null:t}};ce.startTransition=function(e){var t=Ju.transition;Ju.transition={};try{e()}finally{Ju.transition=t}};ce.unstable_act=JE;ce.useCallback=function(e,t){return Rt.current.useCallback(e,t)};ce.useContext=function(e){return Rt.current.useContext(e)};ce.useDebugValue=function(){};ce.useDeferredValue=function(e){return Rt.current.useDeferredValue(e)};ce.useEffect=function(e,t){return Rt.current.useEffect(e,t)};ce.useId=function(){return Rt.current.useId()};ce.useImperativeHandle=function(e,t,n){return Rt.current.useImperativeHandle(e,t,n)};ce.useInsertionEffect=function(e,t){return Rt.current.useInsertionEffect(e,t)};ce.useLayoutEffect=function(e,t){return Rt.current.useLayoutEffect(e,t)};ce.useMemo=function(e,t){return Rt.current.useMemo(e,t)};ce.useReducer=function(e,t,n){return Rt.current.useReducer(e,t,n)};ce.useRef=function(e){return Rt.current.useRef(e)};ce.useState=function(e){return Rt.current.useState(e)};ce.useSyncExternalStore=function(e,t,n){return Rt.current.useSyncExternalStore(e,t,n)};ce.useTransition=function(){return Rt.current.useTransition()};ce.version="18.3.1";BE.exports=ce;var U=BE.exports;const I=_e(U);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pR=U,mR=Symbol.for("react.element"),gR=Symbol.for("react.fragment"),vR=Object.prototype.hasOwnProperty,yR=pR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_R={key:!0,ref:!0,__self:!0,__source:!0};function YE(e,t,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)vR.call(t,r)&&!_R.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:mR,type:e,key:o,ref:a,props:i,_owner:yR.current}}Gf.Fragment=gR;Gf.jsx=YE;Gf.jsxs=YE;jE.exports=Gf;var A=jE.exports,Sp={},XE={exports:{}},Zt={},QE={exports:{}},ZE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,j){var B=N.length;N.push(j);e:for(;0<B;){var W=B-1>>>1,q=N[W];if(0<i(q,j))N[W]=j,N[B]=q,B=W;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var j=N[0],B=N.pop();if(B!==j){N[0]=B;e:for(var W=0,q=N.length,Z=q>>>1;W<Z;){var fe=2*(W+1)-1,Ne=N[fe],Ge=fe+1,tn=N[Ge];if(0>i(Ne,B))Ge<q&&0>i(tn,Ne)?(N[W]=tn,N[Ge]=B,W=Ge):(N[W]=Ne,N[fe]=B,W=fe);else if(Ge<q&&0>i(tn,B))N[W]=tn,N[Ge]=B,W=Ge;else break e}}return j}function i(N,j){var B=N.sortIndex-j.sortIndex;return B!==0?B:N.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,f=null,h=3,m=!1,g=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(N){for(var j=n(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=N)r(u),j.sortIndex=j.expirationTime,t(l,j);else break;j=n(u)}}function T(N){if(v=!1,b(N),!g)if(n(l)!==null)g=!0,F(S);else{var j=n(u);j!==null&&V(T,j.startTime-N)}}function S(N,j){g=!1,v&&(v=!1,y(C),C=-1),m=!0;var B=h;try{for(b(j),f=n(l);f!==null&&(!(f.expirationTime>j)||N&&!R());){var W=f.callback;if(typeof W=="function"){f.callback=null,h=f.priorityLevel;var q=W(f.expirationTime<=j);j=e.unstable_now(),typeof q=="function"?f.callback=q:f===n(l)&&r(l),b(j)}else r(l);f=n(l)}if(f!==null)var Z=!0;else{var fe=n(u);fe!==null&&V(T,fe.startTime-j),Z=!1}return Z}finally{f=null,h=B,m=!1}}var x=!1,E=null,C=-1,P=5,O=-1;function R(){return!(e.unstable_now()-O<P)}function k(){if(E!==null){var N=e.unstable_now();O=N;var j=!0;try{j=E(!0,N)}finally{j?$():(x=!1,E=null)}}else x=!1}var $;if(typeof w=="function")$=function(){w(k)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,D=M.port2;M.port1.onmessage=k,$=function(){D.postMessage(null)}}else $=function(){_(k,0)};function F(N){E=N,x||(x=!0,$())}function V(N,j){C=_(function(){N(e.unstable_now())},j)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,F(S))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(N){switch(h){case 1:case 2:case 3:var j=3;break;default:j=h}var B=h;h=j;try{return N()}finally{h=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,j){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var B=h;h=N;try{return j()}finally{h=B}},e.unstable_scheduleCallback=function(N,j,B){var W=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?W+B:W):B=W,N){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=B+q,N={id:c++,callback:j,priorityLevel:N,startTime:B,expirationTime:q,sortIndex:-1},B>W?(N.sortIndex=B,t(u,N),n(l)===null&&N===n(u)&&(v?(y(C),C=-1):v=!0,V(T,B-W))):(N.sortIndex=q,t(l,N),g||m||(g=!0,F(S))),N},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(N){var j=h;return function(){var B=h;h=j;try{return N.apply(this,arguments)}finally{h=B}}}})(ZE);QE.exports=ZE;var wR=QE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bR=U,Qt=wR;function H(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var eA=new Set,Ls={};function Wi(e,t){Jo(e,t),Jo(e+"Capture",t)}function Jo(e,t){for(Ls[e]=t,e=0;e<t.length;e++)eA.add(t[e])}var cr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xp=Object.prototype.hasOwnProperty,SR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,N0={},M0={};function xR(e){return xp.call(M0,e)?!0:xp.call(N0,e)?!1:SR.test(e)?M0[e]=!0:(N0[e]=!0,!1)}function TR(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ER(e,t,n,r){if(t===null||typeof t>"u"||TR(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Nt(e,t,n,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){gt[e]=new Nt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];gt[t]=new Nt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){gt[e]=new Nt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){gt[e]=new Nt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){gt[e]=new Nt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){gt[e]=new Nt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){gt[e]=new Nt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){gt[e]=new Nt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){gt[e]=new Nt(e,5,!1,e.toLowerCase(),null,!1,!1)});var _v=/[\-:]([a-z])/g;function wv(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(_v,wv);gt[t]=new Nt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(_v,wv);gt[t]=new Nt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(_v,wv);gt[t]=new Nt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){gt[e]=new Nt(e,1,!1,e.toLowerCase(),null,!1,!1)});gt.xlinkHref=new Nt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){gt[e]=new Nt(e,1,!1,e.toLowerCase(),null,!0,!0)});function bv(e,t,n,r){var i=gt.hasOwnProperty(t)?gt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ER(t,n,i,r)&&(n=null),r||i===null?xR(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var _r=bR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,au=Symbol.for("react.element"),vo=Symbol.for("react.portal"),yo=Symbol.for("react.fragment"),Sv=Symbol.for("react.strict_mode"),Tp=Symbol.for("react.profiler"),tA=Symbol.for("react.provider"),nA=Symbol.for("react.context"),xv=Symbol.for("react.forward_ref"),Ep=Symbol.for("react.suspense"),Ap=Symbol.for("react.suspense_list"),Tv=Symbol.for("react.memo"),Pr=Symbol.for("react.lazy"),rA=Symbol.for("react.offscreen"),$0=Symbol.iterator;function za(e){return e===null||typeof e!="object"?null:(e=$0&&e[$0]||e["@@iterator"],typeof e=="function"?e:null)}var Ue=Object.assign,dh;function hs(e){if(dh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);dh=t&&t[1]||""}return`
`+dh+e}var hh=!1;function ph(e,t){if(!e||hh)return"";hh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=s);break}}}finally{hh=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?hs(e):""}function AR(e){switch(e.tag){case 5:return hs(e.type);case 16:return hs("Lazy");case 13:return hs("Suspense");case 19:return hs("SuspenseList");case 0:case 2:case 15:return e=ph(e.type,!1),e;case 11:return e=ph(e.type.render,!1),e;case 1:return e=ph(e.type,!0),e;default:return""}}function Cp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case yo:return"Fragment";case vo:return"Portal";case Tp:return"Profiler";case Sv:return"StrictMode";case Ep:return"Suspense";case Ap:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case nA:return(e.displayName||"Context")+".Consumer";case tA:return(e._context.displayName||"Context")+".Provider";case xv:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Tv:return t=e.displayName||null,t!==null?t:Cp(e.type)||"Memo";case Pr:t=e._payload,e=e._init;try{return Cp(e(t))}catch{}}return null}function CR(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cp(t);case 8:return t===Sv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Yr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function iA(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function PR(e){var t=iA(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function su(e){e._valueTracker||(e._valueTracker=PR(e))}function oA(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=iA(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function uc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Pp(e,t){var n=t.checked;return Ue({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function D0(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Yr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function aA(e,t){t=t.checked,t!=null&&bv(e,"checked",t,!1)}function Ip(e,t){aA(e,t);var n=Yr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Op(e,t.type,n):t.hasOwnProperty("defaultValue")&&Op(e,t.type,Yr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function L0(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Op(e,t,n){(t!=="number"||uc(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ps=Array.isArray;function Lo(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Yr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function kp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(H(91));return Ue({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function U0(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(H(92));if(ps(n)){if(1<n.length)throw Error(H(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Yr(n)}}function sA(e,t){var n=Yr(t.value),r=Yr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function F0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function lA(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?lA(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var lu,uA=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(lu=lu||document.createElement("div"),lu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=lu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Us(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ws={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},IR=["Webkit","ms","Moz","O"];Object.keys(ws).forEach(function(e){IR.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ws[t]=ws[e]})});function cA(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ws.hasOwnProperty(e)&&ws[e]?(""+t).trim():t+"px"}function fA(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=cA(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var OR=Ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Np(e,t){if(t){if(OR[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(H(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(H(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(H(61))}if(t.style!=null&&typeof t.style!="object")throw Error(H(62))}}function Mp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $p=null;function Ev(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Dp=null,Uo=null,Fo=null;function j0(e){if(e=ql(e)){if(typeof Dp!="function")throw Error(H(280));var t=e.stateNode;t&&(t=Kf(t),Dp(e.stateNode,e.type,t))}}function dA(e){Uo?Fo?Fo.push(e):Fo=[e]:Uo=e}function hA(){if(Uo){var e=Uo,t=Fo;if(Fo=Uo=null,j0(e),t)for(e=0;e<t.length;e++)j0(t[e])}}function pA(e,t){return e(t)}function mA(){}var mh=!1;function gA(e,t,n){if(mh)return e(t,n);mh=!0;try{return pA(e,t,n)}finally{mh=!1,(Uo!==null||Fo!==null)&&(mA(),hA())}}function Fs(e,t){var n=e.stateNode;if(n===null)return null;var r=Kf(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(H(231,t,typeof n));return n}var Lp=!1;if(cr)try{var Wa={};Object.defineProperty(Wa,"passive",{get:function(){Lp=!0}}),window.addEventListener("test",Wa,Wa),window.removeEventListener("test",Wa,Wa)}catch{Lp=!1}function kR(e,t,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var bs=!1,cc=null,fc=!1,Up=null,RR={onError:function(e){bs=!0,cc=e}};function NR(e,t,n,r,i,o,a,s,l){bs=!1,cc=null,kR.apply(RR,arguments)}function MR(e,t,n,r,i,o,a,s,l){if(NR.apply(this,arguments),bs){if(bs){var u=cc;bs=!1,cc=null}else throw Error(H(198));fc||(fc=!0,Up=u)}}function Ki(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function vA(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function B0(e){if(Ki(e)!==e)throw Error(H(188))}function $R(e){var t=e.alternate;if(!t){if(t=Ki(e),t===null)throw Error(H(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return B0(i),e;if(o===r)return B0(i),t;o=o.sibling}throw Error(H(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?e:t}function yA(e){return e=$R(e),e!==null?_A(e):null}function _A(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=_A(e);if(t!==null)return t;e=e.sibling}return null}var wA=Qt.unstable_scheduleCallback,V0=Qt.unstable_cancelCallback,DR=Qt.unstable_shouldYield,LR=Qt.unstable_requestPaint,He=Qt.unstable_now,UR=Qt.unstable_getCurrentPriorityLevel,Av=Qt.unstable_ImmediatePriority,bA=Qt.unstable_UserBlockingPriority,dc=Qt.unstable_NormalPriority,FR=Qt.unstable_LowPriority,SA=Qt.unstable_IdlePriority,Hf=null,Gn=null;function jR(e){if(Gn&&typeof Gn.onCommitFiberRoot=="function")try{Gn.onCommitFiberRoot(Hf,e,void 0,(e.current.flags&128)===128)}catch{}}var kn=Math.clz32?Math.clz32:GR,BR=Math.log,VR=Math.LN2;function GR(e){return e>>>=0,e===0?32:31-(BR(e)/VR|0)|0}var uu=64,cu=4194304;function ms(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function hc(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=ms(s):(o&=a,o!==0&&(r=ms(o)))}else a=n&~i,a!==0?r=ms(a):o!==0&&(r=ms(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-kn(t),i=1<<n,r|=e[n],t&=~i;return r}function HR(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qR(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-kn(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=HR(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}function Fp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function xA(){var e=uu;return uu<<=1,!(uu&4194240)&&(uu=64),e}function gh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Gl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-kn(t),e[t]=n}function zR(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-kn(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Cv(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-kn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var ye=0;function TA(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var EA,Pv,AA,CA,PA,jp=!1,fu=[],jr=null,Br=null,Vr=null,js=new Map,Bs=new Map,Nr=[],WR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function G0(e,t){switch(e){case"focusin":case"focusout":jr=null;break;case"dragenter":case"dragleave":Br=null;break;case"mouseover":case"mouseout":Vr=null;break;case"pointerover":case"pointerout":js.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bs.delete(t.pointerId)}}function Ka(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=ql(t),t!==null&&Pv(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function KR(e,t,n,r,i){switch(t){case"focusin":return jr=Ka(jr,e,t,n,r,i),!0;case"dragenter":return Br=Ka(Br,e,t,n,r,i),!0;case"mouseover":return Vr=Ka(Vr,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return js.set(o,Ka(js.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Bs.set(o,Ka(Bs.get(o)||null,e,t,n,r,i)),!0}return!1}function IA(e){var t=xi(e.target);if(t!==null){var n=Ki(t);if(n!==null){if(t=n.tag,t===13){if(t=vA(n),t!==null){e.blockedOn=t,PA(e.priority,function(){AA(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Yu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Bp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);$p=r,n.target.dispatchEvent(r),$p=null}else return t=ql(n),t!==null&&Pv(t),e.blockedOn=n,!1;t.shift()}return!0}function H0(e,t,n){Yu(e)&&n.delete(t)}function JR(){jp=!1,jr!==null&&Yu(jr)&&(jr=null),Br!==null&&Yu(Br)&&(Br=null),Vr!==null&&Yu(Vr)&&(Vr=null),js.forEach(H0),Bs.forEach(H0)}function Ja(e,t){e.blockedOn===t&&(e.blockedOn=null,jp||(jp=!0,Qt.unstable_scheduleCallback(Qt.unstable_NormalPriority,JR)))}function Vs(e){function t(i){return Ja(i,e)}if(0<fu.length){Ja(fu[0],e);for(var n=1;n<fu.length;n++){var r=fu[n];r.blockedOn===e&&(r.blockedOn=null)}}for(jr!==null&&Ja(jr,e),Br!==null&&Ja(Br,e),Vr!==null&&Ja(Vr,e),js.forEach(t),Bs.forEach(t),n=0;n<Nr.length;n++)r=Nr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Nr.length&&(n=Nr[0],n.blockedOn===null);)IA(n),n.blockedOn===null&&Nr.shift()}var jo=_r.ReactCurrentBatchConfig,pc=!0;function YR(e,t,n,r){var i=ye,o=jo.transition;jo.transition=null;try{ye=1,Iv(e,t,n,r)}finally{ye=i,jo.transition=o}}function XR(e,t,n,r){var i=ye,o=jo.transition;jo.transition=null;try{ye=4,Iv(e,t,n,r)}finally{ye=i,jo.transition=o}}function Iv(e,t,n,r){if(pc){var i=Bp(e,t,n,r);if(i===null)Ah(e,t,r,mc,n),G0(e,r);else if(KR(i,e,t,n,r))r.stopPropagation();else if(G0(e,r),t&4&&-1<WR.indexOf(e)){for(;i!==null;){var o=ql(i);if(o!==null&&EA(o),o=Bp(e,t,n,r),o===null&&Ah(e,t,r,mc,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Ah(e,t,r,null,n)}}var mc=null;function Bp(e,t,n,r){if(mc=null,e=Ev(r),e=xi(e),e!==null)if(t=Ki(e),t===null)e=null;else if(n=t.tag,n===13){if(e=vA(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return mc=e,null}function OA(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(UR()){case Av:return 1;case bA:return 4;case dc:case FR:return 16;case SA:return 536870912;default:return 16}default:return 16}}var Lr=null,Ov=null,Xu=null;function kA(){if(Xu)return Xu;var e,t=Ov,n=t.length,r,i="value"in Lr?Lr.value:Lr.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[o-r];r++);return Xu=i.slice(e,1<r?1-r:void 0)}function Qu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function du(){return!0}function q0(){return!1}function en(e){function t(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?du:q0,this.isPropagationStopped=q0,this}return Ue(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=du)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=du)},persist:function(){},isPersistent:du}),t}var Ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kv=en(Ca),Hl=Ue({},Ca,{view:0,detail:0}),QR=en(Hl),vh,yh,Ya,qf=Ue({},Hl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ya&&(Ya&&e.type==="mousemove"?(vh=e.screenX-Ya.screenX,yh=e.screenY-Ya.screenY):yh=vh=0,Ya=e),vh)},movementY:function(e){return"movementY"in e?e.movementY:yh}}),z0=en(qf),ZR=Ue({},qf,{dataTransfer:0}),eN=en(ZR),tN=Ue({},Hl,{relatedTarget:0}),_h=en(tN),nN=Ue({},Ca,{animationName:0,elapsedTime:0,pseudoElement:0}),rN=en(nN),iN=Ue({},Ca,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),oN=en(iN),aN=Ue({},Ca,{data:0}),W0=en(aN),sN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cN(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=uN[e])?!!t[e]:!1}function Rv(){return cN}var fN=Ue({},Hl,{key:function(e){if(e.key){var t=sN[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Qu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lN[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rv,charCode:function(e){return e.type==="keypress"?Qu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Qu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),dN=en(fN),hN=Ue({},qf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),K0=en(hN),pN=Ue({},Hl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rv}),mN=en(pN),gN=Ue({},Ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),vN=en(gN),yN=Ue({},qf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_N=en(yN),wN=[9,13,27,32],Nv=cr&&"CompositionEvent"in window,Ss=null;cr&&"documentMode"in document&&(Ss=document.documentMode);var bN=cr&&"TextEvent"in window&&!Ss,RA=cr&&(!Nv||Ss&&8<Ss&&11>=Ss),J0=" ",Y0=!1;function NA(e,t){switch(e){case"keyup":return wN.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function MA(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _o=!1;function SN(e,t){switch(e){case"compositionend":return MA(t);case"keypress":return t.which!==32?null:(Y0=!0,J0);case"textInput":return e=t.data,e===J0&&Y0?null:e;default:return null}}function xN(e,t){if(_o)return e==="compositionend"||!Nv&&NA(e,t)?(e=kA(),Xu=Ov=Lr=null,_o=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return RA&&t.locale!=="ko"?null:t.data;default:return null}}var TN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function X0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!TN[e.type]:t==="textarea"}function $A(e,t,n,r){dA(r),t=gc(t,"onChange"),0<t.length&&(n=new kv("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var xs=null,Gs=null;function EN(e){zA(e,0)}function zf(e){var t=So(e);if(oA(t))return e}function AN(e,t){if(e==="change")return t}var DA=!1;if(cr){var wh;if(cr){var bh="oninput"in document;if(!bh){var Q0=document.createElement("div");Q0.setAttribute("oninput","return;"),bh=typeof Q0.oninput=="function"}wh=bh}else wh=!1;DA=wh&&(!document.documentMode||9<document.documentMode)}function Z0(){xs&&(xs.detachEvent("onpropertychange",LA),Gs=xs=null)}function LA(e){if(e.propertyName==="value"&&zf(Gs)){var t=[];$A(t,Gs,e,Ev(e)),gA(EN,t)}}function CN(e,t,n){e==="focusin"?(Z0(),xs=t,Gs=n,xs.attachEvent("onpropertychange",LA)):e==="focusout"&&Z0()}function PN(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zf(Gs)}function IN(e,t){if(e==="click")return zf(t)}function ON(e,t){if(e==="input"||e==="change")return zf(t)}function kN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Dn=typeof Object.is=="function"?Object.is:kN;function Hs(e,t){if(Dn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!xp.call(t,i)||!Dn(e[i],t[i]))return!1}return!0}function e_(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function t_(e,t){var n=e_(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=e_(n)}}function UA(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?UA(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function FA(){for(var e=window,t=uc();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=uc(e.document)}return t}function Mv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function RN(e){var t=FA(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&UA(n.ownerDocument.documentElement,n)){if(r!==null&&Mv(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=t_(n,o);var a=t_(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var NN=cr&&"documentMode"in document&&11>=document.documentMode,wo=null,Vp=null,Ts=null,Gp=!1;function n_(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Gp||wo==null||wo!==uc(r)||(r=wo,"selectionStart"in r&&Mv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ts&&Hs(Ts,r)||(Ts=r,r=gc(Vp,"onSelect"),0<r.length&&(t=new kv("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=wo)))}function hu(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var bo={animationend:hu("Animation","AnimationEnd"),animationiteration:hu("Animation","AnimationIteration"),animationstart:hu("Animation","AnimationStart"),transitionend:hu("Transition","TransitionEnd")},Sh={},jA={};cr&&(jA=document.createElement("div").style,"AnimationEvent"in window||(delete bo.animationend.animation,delete bo.animationiteration.animation,delete bo.animationstart.animation),"TransitionEvent"in window||delete bo.transitionend.transition);function Wf(e){if(Sh[e])return Sh[e];if(!bo[e])return e;var t=bo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in jA)return Sh[e]=t[n];return e}var BA=Wf("animationend"),VA=Wf("animationiteration"),GA=Wf("animationstart"),HA=Wf("transitionend"),qA=new Map,r_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qr(e,t){qA.set(e,t),Wi(t,[e])}for(var xh=0;xh<r_.length;xh++){var Th=r_[xh],MN=Th.toLowerCase(),$N=Th[0].toUpperCase()+Th.slice(1);Qr(MN,"on"+$N)}Qr(BA,"onAnimationEnd");Qr(VA,"onAnimationIteration");Qr(GA,"onAnimationStart");Qr("dblclick","onDoubleClick");Qr("focusin","onFocus");Qr("focusout","onBlur");Qr(HA,"onTransitionEnd");Jo("onMouseEnter",["mouseout","mouseover"]);Jo("onMouseLeave",["mouseout","mouseover"]);Jo("onPointerEnter",["pointerout","pointerover"]);Jo("onPointerLeave",["pointerout","pointerover"]);Wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DN=new Set("cancel close invalid load scroll toggle".split(" ").concat(gs));function i_(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,MR(r,t,void 0,e),e.currentTarget=null}function zA(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;i_(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;i_(i,s,u),o=l}}}if(fc)throw e=Up,fc=!1,Up=null,e}function Pe(e,t){var n=t[Kp];n===void 0&&(n=t[Kp]=new Set);var r=e+"__bubble";n.has(r)||(WA(t,e,2,!1),n.add(r))}function Eh(e,t,n){var r=0;t&&(r|=4),WA(n,e,r,t)}var pu="_reactListening"+Math.random().toString(36).slice(2);function qs(e){if(!e[pu]){e[pu]=!0,eA.forEach(function(n){n!=="selectionchange"&&(DN.has(n)||Eh(n,!1,e),Eh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[pu]||(t[pu]=!0,Eh("selectionchange",!1,t))}}function WA(e,t,n,r){switch(OA(t)){case 1:var i=YR;break;case 4:i=XR;break;default:i=Iv}n=i.bind(null,t,n,e),i=void 0,!Lp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ah(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=xi(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}gA(function(){var u=o,c=Ev(n),f=[];e:{var h=qA.get(e);if(h!==void 0){var m=kv,g=e;switch(e){case"keypress":if(Qu(n)===0)break e;case"keydown":case"keyup":m=dN;break;case"focusin":g="focus",m=_h;break;case"focusout":g="blur",m=_h;break;case"beforeblur":case"afterblur":m=_h;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=z0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=eN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=mN;break;case BA:case VA:case GA:m=rN;break;case HA:m=vN;break;case"scroll":m=QR;break;case"wheel":m=_N;break;case"copy":case"cut":case"paste":m=oN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=K0}var v=(t&4)!==0,_=!v&&e==="scroll",y=v?h!==null?h+"Capture":null:h;v=[];for(var w=u,b;w!==null;){b=w;var T=b.stateNode;if(b.tag===5&&T!==null&&(b=T,y!==null&&(T=Fs(w,y),T!=null&&v.push(zs(w,T,b)))),_)break;w=w.return}0<v.length&&(h=new m(h,g,null,n,c),f.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==$p&&(g=n.relatedTarget||n.fromElement)&&(xi(g)||g[fr]))break e;if((m||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=u,g=g?xi(g):null,g!==null&&(_=Ki(g),g!==_||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(v=z0,T="onMouseLeave",y="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(v=K0,T="onPointerLeave",y="onPointerEnter",w="pointer"),_=m==null?h:So(m),b=g==null?h:So(g),h=new v(T,w+"leave",m,n,c),h.target=_,h.relatedTarget=b,T=null,xi(c)===u&&(v=new v(y,w+"enter",g,n,c),v.target=b,v.relatedTarget=_,T=v),_=T,m&&g)t:{for(v=m,y=g,w=0,b=v;b;b=no(b))w++;for(b=0,T=y;T;T=no(T))b++;for(;0<w-b;)v=no(v),w--;for(;0<b-w;)y=no(y),b--;for(;w--;){if(v===y||y!==null&&v===y.alternate)break t;v=no(v),y=no(y)}v=null}else v=null;m!==null&&o_(f,h,m,v,!1),g!==null&&_!==null&&o_(f,_,g,v,!0)}}e:{if(h=u?So(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var S=AN;else if(X0(h))if(DA)S=ON;else{S=PN;var x=CN}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=IN);if(S&&(S=S(e,u))){$A(f,S,n,c);break e}x&&x(e,h,u),e==="focusout"&&(x=h._wrapperState)&&x.controlled&&h.type==="number"&&Op(h,"number",h.value)}switch(x=u?So(u):window,e){case"focusin":(X0(x)||x.contentEditable==="true")&&(wo=x,Vp=u,Ts=null);break;case"focusout":Ts=Vp=wo=null;break;case"mousedown":Gp=!0;break;case"contextmenu":case"mouseup":case"dragend":Gp=!1,n_(f,n,c);break;case"selectionchange":if(NN)break;case"keydown":case"keyup":n_(f,n,c)}var E;if(Nv)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else _o?NA(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(RA&&n.locale!=="ko"&&(_o||C!=="onCompositionStart"?C==="onCompositionEnd"&&_o&&(E=kA()):(Lr=c,Ov="value"in Lr?Lr.value:Lr.textContent,_o=!0)),x=gc(u,C),0<x.length&&(C=new W0(C,e,null,n,c),f.push({event:C,listeners:x}),E?C.data=E:(E=MA(n),E!==null&&(C.data=E)))),(E=bN?SN(e,n):xN(e,n))&&(u=gc(u,"onBeforeInput"),0<u.length&&(c=new W0("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=E))}zA(f,t)})}function zs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function gc(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Fs(e,n),o!=null&&r.unshift(zs(e,o,i)),o=Fs(e,t),o!=null&&r.push(zs(e,o,i))),e=e.return}return r}function no(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function o_(e,t,n,r,i){for(var o=t._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=Fs(n,o),l!=null&&a.unshift(zs(n,l,s))):i||(l=Fs(n,o),l!=null&&a.push(zs(n,l,s)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var LN=/\r\n?/g,UN=/\u0000|\uFFFD/g;function a_(e){return(typeof e=="string"?e:""+e).replace(LN,`
`).replace(UN,"")}function mu(e,t,n){if(t=a_(t),a_(e)!==t&&n)throw Error(H(425))}function vc(){}var Hp=null,qp=null;function zp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Wp=typeof setTimeout=="function"?setTimeout:void 0,FN=typeof clearTimeout=="function"?clearTimeout:void 0,s_=typeof Promise=="function"?Promise:void 0,jN=typeof queueMicrotask=="function"?queueMicrotask:typeof s_<"u"?function(e){return s_.resolve(null).then(e).catch(BN)}:Wp;function BN(e){setTimeout(function(){throw e})}function Ch(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Vs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Vs(t)}function Gr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function l_(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Pa=Math.random().toString(36).slice(2),Bn="__reactFiber$"+Pa,Ws="__reactProps$"+Pa,fr="__reactContainer$"+Pa,Kp="__reactEvents$"+Pa,VN="__reactListeners$"+Pa,GN="__reactHandles$"+Pa;function xi(e){var t=e[Bn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fr]||n[Bn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=l_(e);e!==null;){if(n=e[Bn])return n;e=l_(e)}return t}e=n,n=e.parentNode}return null}function ql(e){return e=e[Bn]||e[fr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function So(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(H(33))}function Kf(e){return e[Ws]||null}var Jp=[],xo=-1;function Zr(e){return{current:e}}function ke(e){0>xo||(e.current=Jp[xo],Jp[xo]=null,xo--)}function Ae(e,t){xo++,Jp[xo]=e.current,e.current=t}var Xr={},Tt=Zr(Xr),Ft=Zr(!1),Di=Xr;function Yo(e,t){var n=e.type.contextTypes;if(!n)return Xr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function jt(e){return e=e.childContextTypes,e!=null}function yc(){ke(Ft),ke(Tt)}function u_(e,t,n){if(Tt.current!==Xr)throw Error(H(168));Ae(Tt,t),Ae(Ft,n)}function KA(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(H(108,CR(e)||"Unknown",i));return Ue({},n,r)}function _c(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Xr,Di=Tt.current,Ae(Tt,e),Ae(Ft,Ft.current),!0}function c_(e,t,n){var r=e.stateNode;if(!r)throw Error(H(169));n?(e=KA(e,t,Di),r.__reactInternalMemoizedMergedChildContext=e,ke(Ft),ke(Tt),Ae(Tt,e)):ke(Ft),Ae(Ft,n)}var tr=null,Jf=!1,Ph=!1;function JA(e){tr===null?tr=[e]:tr.push(e)}function HN(e){Jf=!0,JA(e)}function ei(){if(!Ph&&tr!==null){Ph=!0;var e=0,t=ye;try{var n=tr;for(ye=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}tr=null,Jf=!1}catch(i){throw tr!==null&&(tr=tr.slice(e+1)),wA(Av,ei),i}finally{ye=t,Ph=!1}}return null}var To=[],Eo=0,wc=null,bc=0,sn=[],ln=0,Li=null,nr=1,rr="";function hi(e,t){To[Eo++]=bc,To[Eo++]=wc,wc=e,bc=t}function YA(e,t,n){sn[ln++]=nr,sn[ln++]=rr,sn[ln++]=Li,Li=e;var r=nr;e=rr;var i=32-kn(r)-1;r&=~(1<<i),n+=1;var o=32-kn(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,nr=1<<32-kn(t)+i|n<<i|r,rr=o+e}else nr=1<<o|n<<i|r,rr=e}function $v(e){e.return!==null&&(hi(e,1),YA(e,1,0))}function Dv(e){for(;e===wc;)wc=To[--Eo],To[Eo]=null,bc=To[--Eo],To[Eo]=null;for(;e===Li;)Li=sn[--ln],sn[ln]=null,rr=sn[--ln],sn[ln]=null,nr=sn[--ln],sn[ln]=null}var Yt=null,Jt=null,Me=!1,In=null;function XA(e,t){var n=cn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function f_(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Yt=e,Jt=Gr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Yt=e,Jt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Li!==null?{id:nr,overflow:rr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=cn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Yt=e,Jt=null,!0):!1;default:return!1}}function Yp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Xp(e){if(Me){var t=Jt;if(t){var n=t;if(!f_(e,t)){if(Yp(e))throw Error(H(418));t=Gr(n.nextSibling);var r=Yt;t&&f_(e,t)?XA(r,n):(e.flags=e.flags&-4097|2,Me=!1,Yt=e)}}else{if(Yp(e))throw Error(H(418));e.flags=e.flags&-4097|2,Me=!1,Yt=e}}}function d_(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Yt=e}function gu(e){if(e!==Yt)return!1;if(!Me)return d_(e),Me=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!zp(e.type,e.memoizedProps)),t&&(t=Jt)){if(Yp(e))throw QA(),Error(H(418));for(;t;)XA(e,t),t=Gr(t.nextSibling)}if(d_(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(H(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Jt=Gr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Jt=null}}else Jt=Yt?Gr(e.stateNode.nextSibling):null;return!0}function QA(){for(var e=Jt;e;)e=Gr(e.nextSibling)}function Xo(){Jt=Yt=null,Me=!1}function Lv(e){In===null?In=[e]:In.push(e)}var qN=_r.ReactCurrentBatchConfig;function Xa(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,e))}return e}function vu(e,t){throw e=Object.prototype.toString.call(t),Error(H(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function h_(e){var t=e._init;return t(e._payload)}function ZA(e){function t(y,w){if(e){var b=y.deletions;b===null?(y.deletions=[w],y.flags|=16):b.push(w)}}function n(y,w){if(!e)return null;for(;w!==null;)t(y,w),w=w.sibling;return null}function r(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function i(y,w){return y=Wr(y,w),y.index=0,y.sibling=null,y}function o(y,w,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<w?(y.flags|=2,w):b):(y.flags|=2,w)):(y.flags|=1048576,w)}function a(y){return e&&y.alternate===null&&(y.flags|=2),y}function s(y,w,b,T){return w===null||w.tag!==6?(w=$h(b,y.mode,T),w.return=y,w):(w=i(w,b),w.return=y,w)}function l(y,w,b,T){var S=b.type;return S===yo?c(y,w,b.props.children,T,b.key):w!==null&&(w.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Pr&&h_(S)===w.type)?(T=i(w,b.props),T.ref=Xa(y,w,b),T.return=y,T):(T=oc(b.type,b.key,b.props,null,y.mode,T),T.ref=Xa(y,w,b),T.return=y,T)}function u(y,w,b,T){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=Dh(b,y.mode,T),w.return=y,w):(w=i(w,b.children||[]),w.return=y,w)}function c(y,w,b,T,S){return w===null||w.tag!==7?(w=Ri(b,y.mode,T,S),w.return=y,w):(w=i(w,b),w.return=y,w)}function f(y,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=$h(""+w,y.mode,b),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case au:return b=oc(w.type,w.key,w.props,null,y.mode,b),b.ref=Xa(y,null,w),b.return=y,b;case vo:return w=Dh(w,y.mode,b),w.return=y,w;case Pr:var T=w._init;return f(y,T(w._payload),b)}if(ps(w)||za(w))return w=Ri(w,y.mode,b,null),w.return=y,w;vu(y,w)}return null}function h(y,w,b,T){var S=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return S!==null?null:s(y,w,""+b,T);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case au:return b.key===S?l(y,w,b,T):null;case vo:return b.key===S?u(y,w,b,T):null;case Pr:return S=b._init,h(y,w,S(b._payload),T)}if(ps(b)||za(b))return S!==null?null:c(y,w,b,T,null);vu(y,b)}return null}function m(y,w,b,T,S){if(typeof T=="string"&&T!==""||typeof T=="number")return y=y.get(b)||null,s(w,y,""+T,S);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case au:return y=y.get(T.key===null?b:T.key)||null,l(w,y,T,S);case vo:return y=y.get(T.key===null?b:T.key)||null,u(w,y,T,S);case Pr:var x=T._init;return m(y,w,b,x(T._payload),S)}if(ps(T)||za(T))return y=y.get(b)||null,c(w,y,T,S,null);vu(w,T)}return null}function g(y,w,b,T){for(var S=null,x=null,E=w,C=w=0,P=null;E!==null&&C<b.length;C++){E.index>C?(P=E,E=null):P=E.sibling;var O=h(y,E,b[C],T);if(O===null){E===null&&(E=P);break}e&&E&&O.alternate===null&&t(y,E),w=o(O,w,C),x===null?S=O:x.sibling=O,x=O,E=P}if(C===b.length)return n(y,E),Me&&hi(y,C),S;if(E===null){for(;C<b.length;C++)E=f(y,b[C],T),E!==null&&(w=o(E,w,C),x===null?S=E:x.sibling=E,x=E);return Me&&hi(y,C),S}for(E=r(y,E);C<b.length;C++)P=m(E,y,C,b[C],T),P!==null&&(e&&P.alternate!==null&&E.delete(P.key===null?C:P.key),w=o(P,w,C),x===null?S=P:x.sibling=P,x=P);return e&&E.forEach(function(R){return t(y,R)}),Me&&hi(y,C),S}function v(y,w,b,T){var S=za(b);if(typeof S!="function")throw Error(H(150));if(b=S.call(b),b==null)throw Error(H(151));for(var x=S=null,E=w,C=w=0,P=null,O=b.next();E!==null&&!O.done;C++,O=b.next()){E.index>C?(P=E,E=null):P=E.sibling;var R=h(y,E,O.value,T);if(R===null){E===null&&(E=P);break}e&&E&&R.alternate===null&&t(y,E),w=o(R,w,C),x===null?S=R:x.sibling=R,x=R,E=P}if(O.done)return n(y,E),Me&&hi(y,C),S;if(E===null){for(;!O.done;C++,O=b.next())O=f(y,O.value,T),O!==null&&(w=o(O,w,C),x===null?S=O:x.sibling=O,x=O);return Me&&hi(y,C),S}for(E=r(y,E);!O.done;C++,O=b.next())O=m(E,y,C,O.value,T),O!==null&&(e&&O.alternate!==null&&E.delete(O.key===null?C:O.key),w=o(O,w,C),x===null?S=O:x.sibling=O,x=O);return e&&E.forEach(function(k){return t(y,k)}),Me&&hi(y,C),S}function _(y,w,b,T){if(typeof b=="object"&&b!==null&&b.type===yo&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case au:e:{for(var S=b.key,x=w;x!==null;){if(x.key===S){if(S=b.type,S===yo){if(x.tag===7){n(y,x.sibling),w=i(x,b.props.children),w.return=y,y=w;break e}}else if(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Pr&&h_(S)===x.type){n(y,x.sibling),w=i(x,b.props),w.ref=Xa(y,x,b),w.return=y,y=w;break e}n(y,x);break}else t(y,x);x=x.sibling}b.type===yo?(w=Ri(b.props.children,y.mode,T,b.key),w.return=y,y=w):(T=oc(b.type,b.key,b.props,null,y.mode,T),T.ref=Xa(y,w,b),T.return=y,y=T)}return a(y);case vo:e:{for(x=b.key;w!==null;){if(w.key===x)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){n(y,w.sibling),w=i(w,b.children||[]),w.return=y,y=w;break e}else{n(y,w);break}else t(y,w);w=w.sibling}w=Dh(b,y.mode,T),w.return=y,y=w}return a(y);case Pr:return x=b._init,_(y,w,x(b._payload),T)}if(ps(b))return g(y,w,b,T);if(za(b))return v(y,w,b,T);vu(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(n(y,w.sibling),w=i(w,b),w.return=y,y=w):(n(y,w),w=$h(b,y.mode,T),w.return=y,y=w),a(y)):n(y,w)}return _}var Qo=ZA(!0),eC=ZA(!1),Sc=Zr(null),xc=null,Ao=null,Uv=null;function Fv(){Uv=Ao=xc=null}function jv(e){var t=Sc.current;ke(Sc),e._currentValue=t}function Qp(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Bo(e,t){xc=e,Uv=Ao=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Lt=!0),e.firstContext=null)}function mn(e){var t=e._currentValue;if(Uv!==e)if(e={context:e,memoizedValue:t,next:null},Ao===null){if(xc===null)throw Error(H(308));Ao=e,xc.dependencies={lanes:0,firstContext:e}}else Ao=Ao.next=e;return t}var Ti=null;function Bv(e){Ti===null?Ti=[e]:Ti.push(e)}function tC(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Bv(t)):(n.next=i.next,i.next=n),t.interleaved=n,dr(e,r)}function dr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ir=!1;function Vv(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nC(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function sr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Hr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,he&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,dr(e,n)}return i=r.interleaved,i===null?(t.next=t,Bv(r)):(t.next=i.next,i.next=t),r.interleaved=t,dr(e,n)}function Zu(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Cv(e,n)}}function p_(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Tc(e,t,n,r){var i=e.updateQueue;Ir=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var c=e.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;a=0,c=u=l=null,s=o;do{var h=s.lane,m=s.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=e,v=s;switch(h=t,m=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){f=g.call(m,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,h=typeof g=="function"?g.call(m,f,h):g,h==null)break e;f=Ue({},f,h);break e;case 2:Ir=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else m={eventTime:m,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=m,l=f):c=c.next=m,a|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Fi|=a,e.lanes=a,e.memoizedState=f}}function m_(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(H(191,i));i.call(r)}}}var zl={},Hn=Zr(zl),Ks=Zr(zl),Js=Zr(zl);function Ei(e){if(e===zl)throw Error(H(174));return e}function Gv(e,t){switch(Ae(Js,t),Ae(Ks,e),Ae(Hn,zl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Rp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Rp(t,e)}ke(Hn),Ae(Hn,t)}function Zo(){ke(Hn),ke(Ks),ke(Js)}function rC(e){Ei(Js.current);var t=Ei(Hn.current),n=Rp(t,e.type);t!==n&&(Ae(Ks,e),Ae(Hn,n))}function Hv(e){Ks.current===e&&(ke(Hn),ke(Ks))}var De=Zr(0);function Ec(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ih=[];function qv(){for(var e=0;e<Ih.length;e++)Ih[e]._workInProgressVersionPrimary=null;Ih.length=0}var ec=_r.ReactCurrentDispatcher,Oh=_r.ReactCurrentBatchConfig,Ui=0,Le=null,tt=null,at=null,Ac=!1,Es=!1,Ys=0,zN=0;function vt(){throw Error(H(321))}function zv(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Dn(e[n],t[n]))return!1;return!0}function Wv(e,t,n,r,i,o){if(Ui=o,Le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ec.current=e===null||e.memoizedState===null?YN:XN,e=n(r,i),Es){o=0;do{if(Es=!1,Ys=0,25<=o)throw Error(H(301));o+=1,at=tt=null,t.updateQueue=null,ec.current=QN,e=n(r,i)}while(Es)}if(ec.current=Cc,t=tt!==null&&tt.next!==null,Ui=0,at=tt=Le=null,Ac=!1,t)throw Error(H(300));return e}function Kv(){var e=Ys!==0;return Ys=0,e}function jn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?Le.memoizedState=at=e:at=at.next=e,at}function gn(){if(tt===null){var e=Le.alternate;e=e!==null?e.memoizedState:null}else e=tt.next;var t=at===null?Le.memoizedState:at.next;if(t!==null)at=t,tt=e;else{if(e===null)throw Error(H(310));tt=e,e={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},at===null?Le.memoizedState=at=e:at=at.next=e}return at}function Xs(e,t){return typeof t=="function"?t(e):t}function kh(e){var t=gn(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=tt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var c=u.lane;if((Ui&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,a=r):l=l.next=f,Le.lanes|=c,Fi|=c}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,Dn(r,t.memoizedState)||(Lt=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Le.lanes|=o,Fi|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Rh(e){var t=gn(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);Dn(o,t.memoizedState)||(Lt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function iC(){}function oC(e,t){var n=Le,r=gn(),i=t(),o=!Dn(r.memoizedState,i);if(o&&(r.memoizedState=i,Lt=!0),r=r.queue,Jv(lC.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||at!==null&&at.memoizedState.tag&1){if(n.flags|=2048,Qs(9,sC.bind(null,n,r,i,t),void 0,null),lt===null)throw Error(H(349));Ui&30||aC(n,t,i)}return i}function aC(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Le.updateQueue,t===null?(t={lastEffect:null,stores:null},Le.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function sC(e,t,n,r){t.value=n,t.getSnapshot=r,uC(t)&&cC(e)}function lC(e,t,n){return n(function(){uC(t)&&cC(e)})}function uC(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Dn(e,n)}catch{return!0}}function cC(e){var t=dr(e,1);t!==null&&Rn(t,e,1,-1)}function g_(e){var t=jn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xs,lastRenderedState:e},t.queue=e,e=e.dispatch=JN.bind(null,Le,e),[t.memoizedState,e]}function Qs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Le.updateQueue,t===null?(t={lastEffect:null,stores:null},Le.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function fC(){return gn().memoizedState}function tc(e,t,n,r){var i=jn();Le.flags|=e,i.memoizedState=Qs(1|t,n,void 0,r===void 0?null:r)}function Yf(e,t,n,r){var i=gn();r=r===void 0?null:r;var o=void 0;if(tt!==null){var a=tt.memoizedState;if(o=a.destroy,r!==null&&zv(r,a.deps)){i.memoizedState=Qs(t,n,o,r);return}}Le.flags|=e,i.memoizedState=Qs(1|t,n,o,r)}function v_(e,t){return tc(8390656,8,e,t)}function Jv(e,t){return Yf(2048,8,e,t)}function dC(e,t){return Yf(4,2,e,t)}function hC(e,t){return Yf(4,4,e,t)}function pC(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function mC(e,t,n){return n=n!=null?n.concat([e]):null,Yf(4,4,pC.bind(null,t,e),n)}function Yv(){}function gC(e,t){var n=gn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&zv(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function vC(e,t){var n=gn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&zv(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function yC(e,t,n){return Ui&21?(Dn(n,t)||(n=xA(),Le.lanes|=n,Fi|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Lt=!0),e.memoizedState=n)}function WN(e,t){var n=ye;ye=n!==0&&4>n?n:4,e(!0);var r=Oh.transition;Oh.transition={};try{e(!1),t()}finally{ye=n,Oh.transition=r}}function _C(){return gn().memoizedState}function KN(e,t,n){var r=zr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},wC(e))bC(t,n);else if(n=tC(e,t,n,r),n!==null){var i=Ot();Rn(n,e,r,i),SC(n,t,r)}}function JN(e,t,n){var r=zr(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(wC(e))bC(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,Dn(s,a)){var l=t.interleaved;l===null?(i.next=i,Bv(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=tC(e,t,i,r),n!==null&&(i=Ot(),Rn(n,e,r,i),SC(n,t,r))}}function wC(e){var t=e.alternate;return e===Le||t!==null&&t===Le}function bC(e,t){Es=Ac=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function SC(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Cv(e,n)}}var Cc={readContext:mn,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useInsertionEffect:vt,useLayoutEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useMutableSource:vt,useSyncExternalStore:vt,useId:vt,unstable_isNewReconciler:!1},YN={readContext:mn,useCallback:function(e,t){return jn().memoizedState=[e,t===void 0?null:t],e},useContext:mn,useEffect:v_,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,tc(4194308,4,pC.bind(null,t,e),n)},useLayoutEffect:function(e,t){return tc(4194308,4,e,t)},useInsertionEffect:function(e,t){return tc(4,2,e,t)},useMemo:function(e,t){var n=jn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=jn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=KN.bind(null,Le,e),[r.memoizedState,e]},useRef:function(e){var t=jn();return e={current:e},t.memoizedState=e},useState:g_,useDebugValue:Yv,useDeferredValue:function(e){return jn().memoizedState=e},useTransition:function(){var e=g_(!1),t=e[0];return e=WN.bind(null,e[1]),jn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Le,i=jn();if(Me){if(n===void 0)throw Error(H(407));n=n()}else{if(n=t(),lt===null)throw Error(H(349));Ui&30||aC(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,v_(lC.bind(null,r,o,e),[e]),r.flags|=2048,Qs(9,sC.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=jn(),t=lt.identifierPrefix;if(Me){var n=rr,r=nr;n=(r&~(1<<32-kn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ys++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=zN++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},XN={readContext:mn,useCallback:gC,useContext:mn,useEffect:Jv,useImperativeHandle:mC,useInsertionEffect:dC,useLayoutEffect:hC,useMemo:vC,useReducer:kh,useRef:fC,useState:function(){return kh(Xs)},useDebugValue:Yv,useDeferredValue:function(e){var t=gn();return yC(t,tt.memoizedState,e)},useTransition:function(){var e=kh(Xs)[0],t=gn().memoizedState;return[e,t]},useMutableSource:iC,useSyncExternalStore:oC,useId:_C,unstable_isNewReconciler:!1},QN={readContext:mn,useCallback:gC,useContext:mn,useEffect:Jv,useImperativeHandle:mC,useInsertionEffect:dC,useLayoutEffect:hC,useMemo:vC,useReducer:Rh,useRef:fC,useState:function(){return Rh(Xs)},useDebugValue:Yv,useDeferredValue:function(e){var t=gn();return tt===null?t.memoizedState=e:yC(t,tt.memoizedState,e)},useTransition:function(){var e=Rh(Xs)[0],t=gn().memoizedState;return[e,t]},useMutableSource:iC,useSyncExternalStore:oC,useId:_C,unstable_isNewReconciler:!1};function Tn(e,t){if(e&&e.defaultProps){t=Ue({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Zp(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ue({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Xf={isMounted:function(e){return(e=e._reactInternals)?Ki(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ot(),i=zr(e),o=sr(r,i);o.payload=t,n!=null&&(o.callback=n),t=Hr(e,o,i),t!==null&&(Rn(t,e,i,r),Zu(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ot(),i=zr(e),o=sr(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Hr(e,o,i),t!==null&&(Rn(t,e,i,r),Zu(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ot(),r=zr(e),i=sr(n,r);i.tag=2,t!=null&&(i.callback=t),t=Hr(e,i,r),t!==null&&(Rn(t,e,r,n),Zu(t,e,r))}};function y_(e,t,n,r,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!Hs(n,r)||!Hs(i,o):!0}function xC(e,t,n){var r=!1,i=Xr,o=t.contextType;return typeof o=="object"&&o!==null?o=mn(o):(i=jt(t)?Di:Tt.current,r=t.contextTypes,o=(r=r!=null)?Yo(e,i):Xr),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Xf,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function __(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Xf.enqueueReplaceState(t,t.state,null)}function em(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Vv(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=mn(o):(o=jt(t)?Di:Tt.current,i.context=Yo(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Zp(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Xf.enqueueReplaceState(i,i.state,null),Tc(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ea(e,t){try{var n="",r=t;do n+=AR(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function Nh(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function tm(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ZN=typeof WeakMap=="function"?WeakMap:Map;function TC(e,t,n){n=sr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ic||(Ic=!0,fm=r),tm(e,t)},n}function EC(e,t,n){n=sr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){tm(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){tm(e,t),typeof r!="function"&&(qr===null?qr=new Set([this]):qr.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function w_(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new ZN;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=hM.bind(null,e,t,n),t.then(e,e))}function b_(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function S_(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=sr(-1,1),t.tag=2,Hr(n,t,1))),n.lanes|=1),e)}var eM=_r.ReactCurrentOwner,Lt=!1;function At(e,t,n,r){t.child=e===null?eC(t,null,n,r):Qo(t,e.child,n,r)}function x_(e,t,n,r,i){n=n.render;var o=t.ref;return Bo(t,i),r=Wv(e,t,n,r,o,i),n=Kv(),e!==null&&!Lt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,hr(e,t,i)):(Me&&n&&$v(t),t.flags|=1,At(e,t,r,i),t.child)}function T_(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!iy(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,AC(e,t,o,r,i)):(e=oc(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Hs,n(a,r)&&e.ref===t.ref)return hr(e,t,i)}return t.flags|=1,e=Wr(o,r),e.ref=t.ref,e.return=t,t.child=e}function AC(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Hs(o,r)&&e.ref===t.ref)if(Lt=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Lt=!0);else return t.lanes=e.lanes,hr(e,t,i)}return nm(e,t,n,r,i)}function CC(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ae(Po,qt),qt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ae(Po,qt),qt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ae(Po,qt),qt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ae(Po,qt),qt|=r;return At(e,t,i,n),t.child}function PC(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function nm(e,t,n,r,i){var o=jt(n)?Di:Tt.current;return o=Yo(t,o),Bo(t,i),n=Wv(e,t,n,r,o,i),r=Kv(),e!==null&&!Lt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,hr(e,t,i)):(Me&&r&&$v(t),t.flags|=1,At(e,t,n,i),t.child)}function E_(e,t,n,r,i){if(jt(n)){var o=!0;_c(t)}else o=!1;if(Bo(t,i),t.stateNode===null)nc(e,t),xC(t,n,r),em(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=mn(u):(u=jt(n)?Di:Tt.current,u=Yo(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&__(t,a,r,u),Ir=!1;var h=t.memoizedState;a.state=h,Tc(t,r,a,i),l=t.memoizedState,s!==r||h!==l||Ft.current||Ir?(typeof c=="function"&&(Zp(t,n,c,r),l=t.memoizedState),(s=Ir||y_(t,n,s,r,h,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,nC(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Tn(t.type,s),a.props=u,f=t.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=mn(l):(l=jt(n)?Di:Tt.current,l=Yo(t,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||h!==l)&&__(t,a,r,l),Ir=!1,h=t.memoizedState,a.state=h,Tc(t,r,a,i);var g=t.memoizedState;s!==f||h!==g||Ft.current||Ir?(typeof m=="function"&&(Zp(t,n,m,r),g=t.memoizedState),(u=Ir||y_(t,n,u,r,h,g,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),a.props=r,a.state=g,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return rm(e,t,n,r,o,i)}function rm(e,t,n,r,i,o){PC(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&c_(t,n,!1),hr(e,t,o);r=t.stateNode,eM.current=t;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Qo(t,e.child,null,o),t.child=Qo(t,null,s,o)):At(e,t,s,o),t.memoizedState=r.state,i&&c_(t,n,!0),t.child}function IC(e){var t=e.stateNode;t.pendingContext?u_(e,t.pendingContext,t.pendingContext!==t.context):t.context&&u_(e,t.context,!1),Gv(e,t.containerInfo)}function A_(e,t,n,r,i){return Xo(),Lv(i),t.flags|=256,At(e,t,n,r),t.child}var im={dehydrated:null,treeContext:null,retryLane:0};function om(e){return{baseLanes:e,cachePool:null,transitions:null}}function OC(e,t,n){var r=t.pendingProps,i=De.current,o=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ae(De,i&1),e===null)return Xp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=ed(a,r,0,null),e=Ri(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=om(n),t.memoizedState=im,e):Xv(t,a));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return tM(e,t,a,r,s,i,n);if(o){o=r.fallback,a=t.mode,i=e.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Wr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Wr(s,o):(o=Ri(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?om(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=im,r}return o=e.child,e=o.sibling,r=Wr(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Xv(e,t){return t=ed({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function yu(e,t,n,r){return r!==null&&Lv(r),Qo(t,e.child,null,n),e=Xv(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function tM(e,t,n,r,i,o,a){if(n)return t.flags&256?(t.flags&=-257,r=Nh(Error(H(422))),yu(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=ed({mode:"visible",children:r.children},i,0,null),o=Ri(o,i,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Qo(t,e.child,null,a),t.child.memoizedState=om(a),t.memoizedState=im,o);if(!(t.mode&1))return yu(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(H(419)),r=Nh(o,r,void 0),yu(e,t,a,r)}if(s=(a&e.childLanes)!==0,Lt||s){if(r=lt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,dr(e,i),Rn(r,e,i,-1))}return ry(),r=Nh(Error(H(421))),yu(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=pM.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Jt=Gr(i.nextSibling),Yt=t,Me=!0,In=null,e!==null&&(sn[ln++]=nr,sn[ln++]=rr,sn[ln++]=Li,nr=e.id,rr=e.overflow,Li=t),t=Xv(t,r.children),t.flags|=4096,t)}function C_(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Qp(e.return,t,n)}function Mh(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function kC(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(At(e,t,r.children,n),r=De.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&C_(e,n,t);else if(e.tag===19)C_(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ae(De,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Ec(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Mh(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ec(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Mh(t,!0,n,null,o);break;case"together":Mh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function nc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function hr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Fi|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(H(153));if(t.child!==null){for(e=t.child,n=Wr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Wr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function nM(e,t,n){switch(t.tag){case 3:IC(t),Xo();break;case 5:rC(t);break;case 1:jt(t.type)&&_c(t);break;case 4:Gv(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ae(Sc,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ae(De,De.current&1),t.flags|=128,null):n&t.child.childLanes?OC(e,t,n):(Ae(De,De.current&1),e=hr(e,t,n),e!==null?e.sibling:null);Ae(De,De.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return kC(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ae(De,De.current),r)break;return null;case 22:case 23:return t.lanes=0,CC(e,t,n)}return hr(e,t,n)}var RC,am,NC,MC;RC=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};am=function(){};NC=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ei(Hn.current);var o=null;switch(n){case"input":i=Pp(e,i),r=Pp(e,r),o=[];break;case"select":i=Ue({},i,{value:void 0}),r=Ue({},r,{value:void 0}),o=[];break;case"textarea":i=kp(e,i),r=kp(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=vc)}Np(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ls.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ls.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Pe("scroll",e),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};MC=function(e,t,n,r){n!==r&&(t.flags|=4)};function Qa(e,t){if(!Me)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function yt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rM(e,t,n){var r=t.pendingProps;switch(Dv(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(t),null;case 1:return jt(t.type)&&yc(),yt(t),null;case 3:return r=t.stateNode,Zo(),ke(Ft),ke(Tt),qv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(gu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,In!==null&&(pm(In),In=null))),am(e,t),yt(t),null;case 5:Hv(t);var i=Ei(Js.current);if(n=t.type,e!==null&&t.stateNode!=null)NC(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(H(166));return yt(t),null}if(e=Ei(Hn.current),gu(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Bn]=t,r[Ws]=o,e=(t.mode&1)!==0,n){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(i=0;i<gs.length;i++)Pe(gs[i],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":D0(r,o),Pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Pe("invalid",r);break;case"textarea":U0(r,o),Pe("invalid",r)}Np(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&mu(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&mu(r.textContent,s,e),i=["children",""+s]):Ls.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&Pe("scroll",r)}switch(n){case"input":su(r),L0(r,o,!0);break;case"textarea":su(r),F0(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=vc)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=lA(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Bn]=t,e[Ws]=r,RC(e,t,!1,!1),t.stateNode=e;e:{switch(a=Mp(n,r),n){case"dialog":Pe("cancel",e),Pe("close",e),i=r;break;case"iframe":case"object":case"embed":Pe("load",e),i=r;break;case"video":case"audio":for(i=0;i<gs.length;i++)Pe(gs[i],e);i=r;break;case"source":Pe("error",e),i=r;break;case"img":case"image":case"link":Pe("error",e),Pe("load",e),i=r;break;case"details":Pe("toggle",e),i=r;break;case"input":D0(e,r),i=Pp(e,r),Pe("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Ue({},r,{value:void 0}),Pe("invalid",e);break;case"textarea":U0(e,r),i=kp(e,r),Pe("invalid",e);break;default:i=r}Np(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?fA(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&uA(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Us(e,l):typeof l=="number"&&Us(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ls.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Pe("scroll",e):l!=null&&bv(e,o,l,a))}switch(n){case"input":su(e),L0(e,r,!1);break;case"textarea":su(e),F0(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Yr(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Lo(e,!!r.multiple,o,!1):r.defaultValue!=null&&Lo(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=vc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return yt(t),null;case 6:if(e&&t.stateNode!=null)MC(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(H(166));if(n=Ei(Js.current),Ei(Hn.current),gu(t)){if(r=t.stateNode,n=t.memoizedProps,r[Bn]=t,(o=r.nodeValue!==n)&&(e=Yt,e!==null))switch(e.tag){case 3:mu(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&mu(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Bn]=t,t.stateNode=r}return yt(t),null;case 13:if(ke(De),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Me&&Jt!==null&&t.mode&1&&!(t.flags&128))QA(),Xo(),t.flags|=98560,o=!1;else if(o=gu(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(H(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(H(317));o[Bn]=t}else Xo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;yt(t),o=!1}else In!==null&&(pm(In),In=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||De.current&1?nt===0&&(nt=3):ry())),t.updateQueue!==null&&(t.flags|=4),yt(t),null);case 4:return Zo(),am(e,t),e===null&&qs(t.stateNode.containerInfo),yt(t),null;case 10:return jv(t.type._context),yt(t),null;case 17:return jt(t.type)&&yc(),yt(t),null;case 19:if(ke(De),o=t.memoizedState,o===null)return yt(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)Qa(o,!1);else{if(nt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Ec(e),a!==null){for(t.flags|=128,Qa(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ae(De,De.current&1|2),t.child}e=e.sibling}o.tail!==null&&He()>ta&&(t.flags|=128,r=!0,Qa(o,!1),t.lanes=4194304)}else{if(!r)if(e=Ec(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Qa(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Me)return yt(t),null}else 2*He()-o.renderingStartTime>ta&&n!==1073741824&&(t.flags|=128,r=!0,Qa(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=He(),t.sibling=null,n=De.current,Ae(De,r?n&1|2:n&1),t):(yt(t),null);case 22:case 23:return ny(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?qt&1073741824&&(yt(t),t.subtreeFlags&6&&(t.flags|=8192)):yt(t),null;case 24:return null;case 25:return null}throw Error(H(156,t.tag))}function iM(e,t){switch(Dv(t),t.tag){case 1:return jt(t.type)&&yc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Zo(),ke(Ft),ke(Tt),qv(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Hv(t),null;case 13:if(ke(De),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(H(340));Xo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ke(De),null;case 4:return Zo(),null;case 10:return jv(t.type._context),null;case 22:case 23:return ny(),null;case 24:return null;default:return null}}var _u=!1,wt=!1,oM=typeof WeakSet=="function"?WeakSet:Set,Y=null;function Co(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Be(e,t,r)}else n.current=null}function sm(e,t,n){try{n()}catch(r){Be(e,t,r)}}var P_=!1;function aM(e,t){if(Hp=pc,e=FA(),Mv(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,c=0,f=e,h=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(s=a+i),f!==o||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===n&&++u===i&&(s=a),h===o&&++c===r&&(l=a),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(qp={focusedElem:e,selectionRange:n},pc=!1,Y=t;Y!==null;)if(t=Y,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Y=e;else for(;Y!==null;){t=Y;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,_=g.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:Tn(t.type,v),_);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(T){Be(t,t.return,T)}if(e=t.sibling,e!==null){e.return=t.return,Y=e;break}Y=t.return}return g=P_,P_=!1,g}function As(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&sm(t,n,o)}i=i.next}while(i!==r)}}function Qf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function lm(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function $C(e){var t=e.alternate;t!==null&&(e.alternate=null,$C(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Bn],delete t[Ws],delete t[Kp],delete t[VN],delete t[GN])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function DC(e){return e.tag===5||e.tag===3||e.tag===4}function I_(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||DC(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function um(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=vc));else if(r!==4&&(e=e.child,e!==null))for(um(e,t,n),e=e.sibling;e!==null;)um(e,t,n),e=e.sibling}function cm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(cm(e,t,n),e=e.sibling;e!==null;)cm(e,t,n),e=e.sibling}var pt=null,An=!1;function Cr(e,t,n){for(n=n.child;n!==null;)LC(e,t,n),n=n.sibling}function LC(e,t,n){if(Gn&&typeof Gn.onCommitFiberUnmount=="function")try{Gn.onCommitFiberUnmount(Hf,n)}catch{}switch(n.tag){case 5:wt||Co(n,t);case 6:var r=pt,i=An;pt=null,Cr(e,t,n),pt=r,An=i,pt!==null&&(An?(e=pt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):pt.removeChild(n.stateNode));break;case 18:pt!==null&&(An?(e=pt,n=n.stateNode,e.nodeType===8?Ch(e.parentNode,n):e.nodeType===1&&Ch(e,n),Vs(e)):Ch(pt,n.stateNode));break;case 4:r=pt,i=An,pt=n.stateNode.containerInfo,An=!0,Cr(e,t,n),pt=r,An=i;break;case 0:case 11:case 14:case 15:if(!wt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&sm(n,t,a),i=i.next}while(i!==r)}Cr(e,t,n);break;case 1:if(!wt&&(Co(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Be(n,t,s)}Cr(e,t,n);break;case 21:Cr(e,t,n);break;case 22:n.mode&1?(wt=(r=wt)||n.memoizedState!==null,Cr(e,t,n),wt=r):Cr(e,t,n);break;default:Cr(e,t,n)}}function O_(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new oM),t.forEach(function(r){var i=mM.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function bn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,s=a;e:for(;s!==null;){switch(s.tag){case 5:pt=s.stateNode,An=!1;break e;case 3:pt=s.stateNode.containerInfo,An=!0;break e;case 4:pt=s.stateNode.containerInfo,An=!0;break e}s=s.return}if(pt===null)throw Error(H(160));LC(o,a,i),pt=null,An=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Be(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)UC(t,e),t=t.sibling}function UC(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(bn(t,e),Fn(e),r&4){try{As(3,e,e.return),Qf(3,e)}catch(v){Be(e,e.return,v)}try{As(5,e,e.return)}catch(v){Be(e,e.return,v)}}break;case 1:bn(t,e),Fn(e),r&512&&n!==null&&Co(n,n.return);break;case 5:if(bn(t,e),Fn(e),r&512&&n!==null&&Co(n,n.return),e.flags&32){var i=e.stateNode;try{Us(i,"")}catch(v){Be(e,e.return,v)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&aA(i,o),Mp(s,a);var u=Mp(s,o);for(a=0;a<l.length;a+=2){var c=l[a],f=l[a+1];c==="style"?fA(i,f):c==="dangerouslySetInnerHTML"?uA(i,f):c==="children"?Us(i,f):bv(i,c,f,u)}switch(s){case"input":Ip(i,o);break;case"textarea":sA(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?Lo(i,!!o.multiple,m,!1):h!==!!o.multiple&&(o.defaultValue!=null?Lo(i,!!o.multiple,o.defaultValue,!0):Lo(i,!!o.multiple,o.multiple?[]:"",!1))}i[Ws]=o}catch(v){Be(e,e.return,v)}}break;case 6:if(bn(t,e),Fn(e),r&4){if(e.stateNode===null)throw Error(H(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(v){Be(e,e.return,v)}}break;case 3:if(bn(t,e),Fn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Vs(t.containerInfo)}catch(v){Be(e,e.return,v)}break;case 4:bn(t,e),Fn(e);break;case 13:bn(t,e),Fn(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(ey=He())),r&4&&O_(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(wt=(u=wt)||c,bn(t,e),wt=u):bn(t,e),Fn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(Y=e,c=e.child;c!==null;){for(f=Y=c;Y!==null;){switch(h=Y,m=h.child,h.tag){case 0:case 11:case 14:case 15:As(4,h,h.return);break;case 1:Co(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){Be(r,n,v)}}break;case 5:Co(h,h.return);break;case 22:if(h.memoizedState!==null){R_(f);continue}}m!==null?(m.return=h,Y=m):R_(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=cA("display",a))}catch(v){Be(e,e.return,v)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){Be(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:bn(t,e),Fn(e),r&4&&O_(e);break;case 21:break;default:bn(t,e),Fn(e)}}function Fn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(DC(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Us(i,""),r.flags&=-33);var o=I_(e);cm(e,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=I_(e);um(e,s,a);break;default:throw Error(H(161))}}catch(l){Be(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function sM(e,t,n){Y=e,FC(e)}function FC(e,t,n){for(var r=(e.mode&1)!==0;Y!==null;){var i=Y,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||_u;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||wt;s=_u;var u=wt;if(_u=a,(wt=l)&&!u)for(Y=i;Y!==null;)a=Y,l=a.child,a.tag===22&&a.memoizedState!==null?N_(i):l!==null?(l.return=a,Y=l):N_(i);for(;o!==null;)Y=o,FC(o),o=o.sibling;Y=i,_u=s,wt=u}k_(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Y=o):k_(e)}}function k_(e){for(;Y!==null;){var t=Y;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:wt||Qf(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!wt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Tn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&m_(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}m_(t,a,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Vs(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}wt||t.flags&512&&lm(t)}catch(h){Be(t,t.return,h)}}if(t===e){Y=null;break}if(n=t.sibling,n!==null){n.return=t.return,Y=n;break}Y=t.return}}function R_(e){for(;Y!==null;){var t=Y;if(t===e){Y=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Y=n;break}Y=t.return}}function N_(e){for(;Y!==null;){var t=Y;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Qf(4,t)}catch(l){Be(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Be(t,i,l)}}var o=t.return;try{lm(t)}catch(l){Be(t,o,l)}break;case 5:var a=t.return;try{lm(t)}catch(l){Be(t,a,l)}}}catch(l){Be(t,t.return,l)}if(t===e){Y=null;break}var s=t.sibling;if(s!==null){s.return=t.return,Y=s;break}Y=t.return}}var lM=Math.ceil,Pc=_r.ReactCurrentDispatcher,Qv=_r.ReactCurrentOwner,dn=_r.ReactCurrentBatchConfig,he=0,lt=null,We=null,mt=0,qt=0,Po=Zr(0),nt=0,Zs=null,Fi=0,Zf=0,Zv=0,Cs=null,Dt=null,ey=0,ta=1/0,Qn=null,Ic=!1,fm=null,qr=null,wu=!1,Ur=null,Oc=0,Ps=0,dm=null,rc=-1,ic=0;function Ot(){return he&6?He():rc!==-1?rc:rc=He()}function zr(e){return e.mode&1?he&2&&mt!==0?mt&-mt:qN.transition!==null?(ic===0&&(ic=xA()),ic):(e=ye,e!==0||(e=window.event,e=e===void 0?16:OA(e.type)),e):1}function Rn(e,t,n,r){if(50<Ps)throw Ps=0,dm=null,Error(H(185));Gl(e,n,r),(!(he&2)||e!==lt)&&(e===lt&&(!(he&2)&&(Zf|=n),nt===4&&Mr(e,mt)),Bt(e,r),n===1&&he===0&&!(t.mode&1)&&(ta=He()+500,Jf&&ei()))}function Bt(e,t){var n=e.callbackNode;qR(e,t);var r=hc(e,e===lt?mt:0);if(r===0)n!==null&&V0(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&V0(n),t===1)e.tag===0?HN(M_.bind(null,e)):JA(M_.bind(null,e)),jN(function(){!(he&6)&&ei()}),n=null;else{switch(TA(r)){case 1:n=Av;break;case 4:n=bA;break;case 16:n=dc;break;case 536870912:n=SA;break;default:n=dc}n=WC(n,jC.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function jC(e,t){if(rc=-1,ic=0,he&6)throw Error(H(327));var n=e.callbackNode;if(Vo()&&e.callbackNode!==n)return null;var r=hc(e,e===lt?mt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=kc(e,r);else{t=r;var i=he;he|=2;var o=VC();(lt!==e||mt!==t)&&(Qn=null,ta=He()+500,ki(e,t));do try{fM();break}catch(s){BC(e,s)}while(!0);Fv(),Pc.current=o,he=i,We!==null?t=0:(lt=null,mt=0,t=nt)}if(t!==0){if(t===2&&(i=Fp(e),i!==0&&(r=i,t=hm(e,i))),t===1)throw n=Zs,ki(e,0),Mr(e,r),Bt(e,He()),n;if(t===6)Mr(e,r);else{if(i=e.current.alternate,!(r&30)&&!uM(i)&&(t=kc(e,r),t===2&&(o=Fp(e),o!==0&&(r=o,t=hm(e,o))),t===1))throw n=Zs,ki(e,0),Mr(e,r),Bt(e,He()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(H(345));case 2:pi(e,Dt,Qn);break;case 3:if(Mr(e,r),(r&130023424)===r&&(t=ey+500-He(),10<t)){if(hc(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Ot(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Wp(pi.bind(null,e,Dt,Qn),t);break}pi(e,Dt,Qn);break;case 4:if(Mr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-kn(r);o=1<<a,a=t[a],a>i&&(i=a),r&=~o}if(r=i,r=He()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*lM(r/1960))-r,10<r){e.timeoutHandle=Wp(pi.bind(null,e,Dt,Qn),r);break}pi(e,Dt,Qn);break;case 5:pi(e,Dt,Qn);break;default:throw Error(H(329))}}}return Bt(e,He()),e.callbackNode===n?jC.bind(null,e):null}function hm(e,t){var n=Cs;return e.current.memoizedState.isDehydrated&&(ki(e,t).flags|=256),e=kc(e,t),e!==2&&(t=Dt,Dt=n,t!==null&&pm(t)),e}function pm(e){Dt===null?Dt=e:Dt.push.apply(Dt,e)}function uM(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Dn(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Mr(e,t){for(t&=~Zv,t&=~Zf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-kn(t),r=1<<n;e[n]=-1,t&=~r}}function M_(e){if(he&6)throw Error(H(327));Vo();var t=hc(e,0);if(!(t&1))return Bt(e,He()),null;var n=kc(e,t);if(e.tag!==0&&n===2){var r=Fp(e);r!==0&&(t=r,n=hm(e,r))}if(n===1)throw n=Zs,ki(e,0),Mr(e,t),Bt(e,He()),n;if(n===6)throw Error(H(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,pi(e,Dt,Qn),Bt(e,He()),null}function ty(e,t){var n=he;he|=1;try{return e(t)}finally{he=n,he===0&&(ta=He()+500,Jf&&ei())}}function ji(e){Ur!==null&&Ur.tag===0&&!(he&6)&&Vo();var t=he;he|=1;var n=dn.transition,r=ye;try{if(dn.transition=null,ye=1,e)return e()}finally{ye=r,dn.transition=n,he=t,!(he&6)&&ei()}}function ny(){qt=Po.current,ke(Po)}function ki(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,FN(n)),We!==null)for(n=We.return;n!==null;){var r=n;switch(Dv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&yc();break;case 3:Zo(),ke(Ft),ke(Tt),qv();break;case 5:Hv(r);break;case 4:Zo();break;case 13:ke(De);break;case 19:ke(De);break;case 10:jv(r.type._context);break;case 22:case 23:ny()}n=n.return}if(lt=e,We=e=Wr(e.current,null),mt=qt=t,nt=0,Zs=null,Zv=Zf=Fi=0,Dt=Cs=null,Ti!==null){for(t=0;t<Ti.length;t++)if(n=Ti[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}Ti=null}return e}function BC(e,t){do{var n=We;try{if(Fv(),ec.current=Cc,Ac){for(var r=Le.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ac=!1}if(Ui=0,at=tt=Le=null,Es=!1,Ys=0,Qv.current=null,n===null||n.return===null){nt=1,Zs=t,We=null;break}e:{var o=e,a=n.return,s=n,l=t;if(t=mt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=b_(a);if(m!==null){m.flags&=-257,S_(m,a,s,o,t),m.mode&1&&w_(o,u,t),t=m,l=u;var g=t.updateQueue;if(g===null){var v=new Set;v.add(l),t.updateQueue=v}else g.add(l);break e}else{if(!(t&1)){w_(o,u,t),ry();break e}l=Error(H(426))}}else if(Me&&s.mode&1){var _=b_(a);if(_!==null){!(_.flags&65536)&&(_.flags|=256),S_(_,a,s,o,t),Lv(ea(l,s));break e}}o=l=ea(l,s),nt!==4&&(nt=2),Cs===null?Cs=[o]:Cs.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=TC(o,l,t);p_(o,y);break e;case 1:s=l;var w=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(qr===null||!qr.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t;var T=EC(o,s,t);p_(o,T);break e}}o=o.return}while(o!==null)}HC(n)}catch(S){t=S,We===n&&n!==null&&(We=n=n.return);continue}break}while(!0)}function VC(){var e=Pc.current;return Pc.current=Cc,e===null?Cc:e}function ry(){(nt===0||nt===3||nt===2)&&(nt=4),lt===null||!(Fi&268435455)&&!(Zf&268435455)||Mr(lt,mt)}function kc(e,t){var n=he;he|=2;var r=VC();(lt!==e||mt!==t)&&(Qn=null,ki(e,t));do try{cM();break}catch(i){BC(e,i)}while(!0);if(Fv(),he=n,Pc.current=r,We!==null)throw Error(H(261));return lt=null,mt=0,nt}function cM(){for(;We!==null;)GC(We)}function fM(){for(;We!==null&&!DR();)GC(We)}function GC(e){var t=zC(e.alternate,e,qt);e.memoizedProps=e.pendingProps,t===null?HC(e):We=t,Qv.current=null}function HC(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=iM(n,t),n!==null){n.flags&=32767,We=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{nt=6,We=null;return}}else if(n=rM(n,t,qt),n!==null){We=n;return}if(t=t.sibling,t!==null){We=t;return}We=t=e}while(t!==null);nt===0&&(nt=5)}function pi(e,t,n){var r=ye,i=dn.transition;try{dn.transition=null,ye=1,dM(e,t,n,r)}finally{dn.transition=i,ye=r}return null}function dM(e,t,n,r){do Vo();while(Ur!==null);if(he&6)throw Error(H(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(H(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(zR(e,o),e===lt&&(We=lt=null,mt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||wu||(wu=!0,WC(dc,function(){return Vo(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=dn.transition,dn.transition=null;var a=ye;ye=1;var s=he;he|=4,Qv.current=null,aM(e,n),UC(n,e),RN(qp),pc=!!Hp,qp=Hp=null,e.current=n,sM(n),LR(),he=s,ye=a,dn.transition=o}else e.current=n;if(wu&&(wu=!1,Ur=e,Oc=i),o=e.pendingLanes,o===0&&(qr=null),jR(n.stateNode),Bt(e,He()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ic)throw Ic=!1,e=fm,fm=null,e;return Oc&1&&e.tag!==0&&Vo(),o=e.pendingLanes,o&1?e===dm?Ps++:(Ps=0,dm=e):Ps=0,ei(),null}function Vo(){if(Ur!==null){var e=TA(Oc),t=dn.transition,n=ye;try{if(dn.transition=null,ye=16>e?16:e,Ur===null)var r=!1;else{if(e=Ur,Ur=null,Oc=0,he&6)throw Error(H(331));var i=he;for(he|=4,Y=e.current;Y!==null;){var o=Y,a=o.child;if(Y.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(Y=u;Y!==null;){var c=Y;switch(c.tag){case 0:case 11:case 15:As(8,c,o)}var f=c.child;if(f!==null)f.return=c,Y=f;else for(;Y!==null;){c=Y;var h=c.sibling,m=c.return;if($C(c),c===u){Y=null;break}if(h!==null){h.return=m,Y=h;break}Y=m}}}var g=o.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}Y=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,Y=a;else e:for(;Y!==null;){if(o=Y,o.flags&2048)switch(o.tag){case 0:case 11:case 15:As(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,Y=y;break e}Y=o.return}}var w=e.current;for(Y=w;Y!==null;){a=Y;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,Y=b;else e:for(a=w;Y!==null;){if(s=Y,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Qf(9,s)}}catch(S){Be(s,s.return,S)}if(s===a){Y=null;break e}var T=s.sibling;if(T!==null){T.return=s.return,Y=T;break e}Y=s.return}}if(he=i,ei(),Gn&&typeof Gn.onPostCommitFiberRoot=="function")try{Gn.onPostCommitFiberRoot(Hf,e)}catch{}r=!0}return r}finally{ye=n,dn.transition=t}}return!1}function $_(e,t,n){t=ea(n,t),t=TC(e,t,1),e=Hr(e,t,1),t=Ot(),e!==null&&(Gl(e,1,t),Bt(e,t))}function Be(e,t,n){if(e.tag===3)$_(e,e,n);else for(;t!==null;){if(t.tag===3){$_(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(qr===null||!qr.has(r))){e=ea(n,e),e=EC(t,e,1),t=Hr(t,e,1),e=Ot(),t!==null&&(Gl(t,1,e),Bt(t,e));break}}t=t.return}}function hM(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ot(),e.pingedLanes|=e.suspendedLanes&n,lt===e&&(mt&n)===n&&(nt===4||nt===3&&(mt&130023424)===mt&&500>He()-ey?ki(e,0):Zv|=n),Bt(e,t)}function qC(e,t){t===0&&(e.mode&1?(t=cu,cu<<=1,!(cu&130023424)&&(cu=4194304)):t=1);var n=Ot();e=dr(e,t),e!==null&&(Gl(e,t,n),Bt(e,n))}function pM(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),qC(e,n)}function mM(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(t),qC(e,n)}var zC;zC=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ft.current)Lt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Lt=!1,nM(e,t,n);Lt=!!(e.flags&131072)}else Lt=!1,Me&&t.flags&1048576&&YA(t,bc,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;nc(e,t),e=t.pendingProps;var i=Yo(t,Tt.current);Bo(t,n),i=Wv(null,t,r,e,i,n);var o=Kv();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,jt(r)?(o=!0,_c(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Vv(t),i.updater=Xf,t.stateNode=i,i._reactInternals=t,em(t,r,e,n),t=rm(null,t,r,!0,o,n)):(t.tag=0,Me&&o&&$v(t),At(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(nc(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=vM(r),e=Tn(r,e),i){case 0:t=nm(null,t,r,e,n);break e;case 1:t=E_(null,t,r,e,n);break e;case 11:t=x_(null,t,r,e,n);break e;case 14:t=T_(null,t,r,Tn(r.type,e),n);break e}throw Error(H(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Tn(r,i),nm(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Tn(r,i),E_(e,t,r,i,n);case 3:e:{if(IC(t),e===null)throw Error(H(387));r=t.pendingProps,o=t.memoizedState,i=o.element,nC(e,t),Tc(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=ea(Error(H(423)),t),t=A_(e,t,r,n,i);break e}else if(r!==i){i=ea(Error(H(424)),t),t=A_(e,t,r,n,i);break e}else for(Jt=Gr(t.stateNode.containerInfo.firstChild),Yt=t,Me=!0,In=null,n=eC(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xo(),r===i){t=hr(e,t,n);break e}At(e,t,r,n)}t=t.child}return t;case 5:return rC(t),e===null&&Xp(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,zp(r,i)?a=null:o!==null&&zp(r,o)&&(t.flags|=32),PC(e,t),At(e,t,a,n),t.child;case 6:return e===null&&Xp(t),null;case 13:return OC(e,t,n);case 4:return Gv(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Qo(t,null,r,n):At(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Tn(r,i),x_(e,t,r,i,n);case 7:return At(e,t,t.pendingProps,n),t.child;case 8:return At(e,t,t.pendingProps.children,n),t.child;case 12:return At(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,Ae(Sc,r._currentValue),r._currentValue=a,o!==null)if(Dn(o.value,a)){if(o.children===i.children&&!Ft.current){t=hr(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=sr(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Qp(o.return,n,t),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(H(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Qp(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}At(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Bo(t,n),i=mn(i),r=r(i),t.flags|=1,At(e,t,r,n),t.child;case 14:return r=t.type,i=Tn(r,t.pendingProps),i=Tn(r.type,i),T_(e,t,r,i,n);case 15:return AC(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Tn(r,i),nc(e,t),t.tag=1,jt(r)?(e=!0,_c(t)):e=!1,Bo(t,n),xC(t,r,i),em(t,r,i,n),rm(null,t,r,!0,e,n);case 19:return kC(e,t,n);case 22:return CC(e,t,n)}throw Error(H(156,t.tag))};function WC(e,t){return wA(e,t)}function gM(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(e,t,n,r){return new gM(e,t,n,r)}function iy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function vM(e){if(typeof e=="function")return iy(e)?1:0;if(e!=null){if(e=e.$$typeof,e===xv)return 11;if(e===Tv)return 14}return 2}function Wr(e,t){var n=e.alternate;return n===null?(n=cn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function oc(e,t,n,r,i,o){var a=2;if(r=e,typeof e=="function")iy(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case yo:return Ri(n.children,i,o,t);case Sv:a=8,i|=8;break;case Tp:return e=cn(12,n,t,i|2),e.elementType=Tp,e.lanes=o,e;case Ep:return e=cn(13,n,t,i),e.elementType=Ep,e.lanes=o,e;case Ap:return e=cn(19,n,t,i),e.elementType=Ap,e.lanes=o,e;case rA:return ed(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case tA:a=10;break e;case nA:a=9;break e;case xv:a=11;break e;case Tv:a=14;break e;case Pr:a=16,r=null;break e}throw Error(H(130,e==null?e:typeof e,""))}return t=cn(a,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Ri(e,t,n,r){return e=cn(7,e,r,t),e.lanes=n,e}function ed(e,t,n,r){return e=cn(22,e,r,t),e.elementType=rA,e.lanes=n,e.stateNode={isHidden:!1},e}function $h(e,t,n){return e=cn(6,e,null,t),e.lanes=n,e}function Dh(e,t,n){return t=cn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function yM(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gh(0),this.expirationTimes=gh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function oy(e,t,n,r,i,o,a,s,l){return e=new yM(e,t,n,s,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=cn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vv(o),e}function _M(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vo,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function KC(e){if(!e)return Xr;e=e._reactInternals;e:{if(Ki(e)!==e||e.tag!==1)throw Error(H(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(jt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(H(171))}if(e.tag===1){var n=e.type;if(jt(n))return KA(e,n,t)}return t}function JC(e,t,n,r,i,o,a,s,l){return e=oy(n,r,!0,e,i,o,a,s,l),e.context=KC(null),n=e.current,r=Ot(),i=zr(n),o=sr(r,i),o.callback=t??null,Hr(n,o,i),e.current.lanes=i,Gl(e,i,r),Bt(e,r),e}function td(e,t,n,r){var i=t.current,o=Ot(),a=zr(i);return n=KC(n),t.context===null?t.context=n:t.pendingContext=n,t=sr(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Hr(i,t,a),e!==null&&(Rn(e,i,a,o),Zu(e,i,a)),a}function Rc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function D_(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ay(e,t){D_(e,t),(e=e.alternate)&&D_(e,t)}function wM(){return null}var YC=typeof reportError=="function"?reportError:function(e){console.error(e)};function sy(e){this._internalRoot=e}nd.prototype.render=sy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(H(409));td(e,t,null,null)};nd.prototype.unmount=sy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ji(function(){td(null,e,null,null)}),t[fr]=null}};function nd(e){this._internalRoot=e}nd.prototype.unstable_scheduleHydration=function(e){if(e){var t=CA();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Nr.length&&t!==0&&t<Nr[n].priority;n++);Nr.splice(n,0,e),n===0&&IA(e)}};function ly(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function rd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function L_(){}function bM(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Rc(a);o.call(u)}}var a=JC(t,r,e,0,null,!1,!1,"",L_);return e._reactRootContainer=a,e[fr]=a.current,qs(e.nodeType===8?e.parentNode:e),ji(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=Rc(l);s.call(u)}}var l=oy(e,0,!1,null,null,!1,!1,"",L_);return e._reactRootContainer=l,e[fr]=l.current,qs(e.nodeType===8?e.parentNode:e),ji(function(){td(t,l,n,r)}),l}function id(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=Rc(a);s.call(l)}}td(t,a,e,i)}else a=bM(n,t,e,i,r);return Rc(a)}EA=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ms(t.pendingLanes);n!==0&&(Cv(t,n|1),Bt(t,He()),!(he&6)&&(ta=He()+500,ei()))}break;case 13:ji(function(){var r=dr(e,1);if(r!==null){var i=Ot();Rn(r,e,1,i)}}),ay(e,1)}};Pv=function(e){if(e.tag===13){var t=dr(e,134217728);if(t!==null){var n=Ot();Rn(t,e,134217728,n)}ay(e,134217728)}};AA=function(e){if(e.tag===13){var t=zr(e),n=dr(e,t);if(n!==null){var r=Ot();Rn(n,e,t,r)}ay(e,t)}};CA=function(){return ye};PA=function(e,t){var n=ye;try{return ye=e,t()}finally{ye=n}};Dp=function(e,t,n){switch(t){case"input":if(Ip(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Kf(r);if(!i)throw Error(H(90));oA(r),Ip(r,i)}}}break;case"textarea":sA(e,n);break;case"select":t=n.value,t!=null&&Lo(e,!!n.multiple,t,!1)}};pA=ty;mA=ji;var SM={usingClientEntryPoint:!1,Events:[ql,So,Kf,dA,hA,ty]},Za={findFiberByHostInstance:xi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xM={bundleType:Za.bundleType,version:Za.version,rendererPackageName:Za.rendererPackageName,rendererConfig:Za.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_r.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=yA(e),e===null?null:e.stateNode},findFiberByHostInstance:Za.findFiberByHostInstance||wM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bu.isDisabled&&bu.supportsFiber)try{Hf=bu.inject(xM),Gn=bu}catch{}}Zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SM;Zt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ly(t))throw Error(H(200));return _M(e,t,null,n)};Zt.createRoot=function(e,t){if(!ly(e))throw Error(H(299));var n=!1,r="",i=YC;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=oy(e,1,!1,null,null,n,!1,r,i),e[fr]=t.current,qs(e.nodeType===8?e.parentNode:e),new sy(t)};Zt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(H(188)):(e=Object.keys(e).join(","),Error(H(268,e)));return e=yA(t),e=e===null?null:e.stateNode,e};Zt.flushSync=function(e){return ji(e)};Zt.hydrate=function(e,t,n){if(!rd(t))throw Error(H(200));return id(null,e,t,!0,n)};Zt.hydrateRoot=function(e,t,n){if(!ly(e))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=YC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=JC(t,null,e,1,n??null,i,!1,o,a),e[fr]=t.current,qs(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new nd(t)};Zt.render=function(e,t,n){if(!rd(t))throw Error(H(200));return id(null,e,t,!1,n)};Zt.unmountComponentAtNode=function(e){if(!rd(e))throw Error(H(40));return e._reactRootContainer?(ji(function(){id(null,null,e,!1,function(){e._reactRootContainer=null,e[fr]=null})}),!0):!1};Zt.unstable_batchedUpdates=ty;Zt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!rd(n))throw Error(H(200));if(e==null||e._reactInternals===void 0)throw Error(H(38));return id(e,t,n,!1,r)};Zt.version="18.3.1-next-f1338f8080-20240426";function XC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(XC)}catch(e){console.error(e)}}XC(),XE.exports=Zt;var TM=XE.exports,U_=TM;Sp.createRoot=U_.createRoot,Sp.hydrateRoot=U_.hydrateRoot;var EM={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let AM,CM;function PM(){return{geminiUrl:AM,vertexUrl:CM}}function IM(e,t,n,r){var i,o;if(!(e!=null&&e.baseUrl)){const a=PM();return t?(i=a.vertexUrl)!==null&&i!==void 0?i:n:(o=a.geminiUrl)!==null&&o!==void 0?o:r}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wr{}function K(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(t,i)){const o=t[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function p(e,t,n){for(let o=0;o<t.length-1;o++){const a=t[o];if(a.endsWith("[]")){const s=a.slice(0,-2);if(!(s in e))if(Array.isArray(n))e[s]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(e[s])){const l=e[s];if(Array.isArray(n))for(let u=0;u<l.length;u++){const c=l[u];p(c,t.slice(o+1),n[u])}else for(const u of l)p(u,t.slice(o+1),n)}return}else if(a.endsWith("[0]")){const s=a.slice(0,-3);s in e||(e[s]=[{}]);const l=e[s];p(l[0],t.slice(o+1),n);return}(!e[a]||typeof e[a]!="object")&&(e[a]={}),e=e[a]}const r=t[t.length-1],i=e[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[r]=n}function d(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let r=0;r<t.length;r++){if(typeof e!="object"||e===null)return n;const i=t[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in e){const a=e[o];return Array.isArray(a)?a.map(s=>d(s,t.slice(r+1),n)):n}else return n}else e=e[i]}return e}catch(r){if(r instanceof TypeError)return n;throw r}}function OM(e,t){for(const[n,r]of Object.entries(t)){const i=n.split("."),o=r.split("."),a=new Set;let s=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){s=l;break}if(s!==-1&&o.length>s)for(let l=s;l<o.length;l++){const u=o[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&a.add(u)}mm(e,i,o,0,a)}}function mm(e,t,n,r,i){if(r>=t.length||typeof e!="object"||e===null)return;const o=t[r];if(o.endsWith("[]")){const a=o.slice(0,-2),s=e;if(a in s&&Array.isArray(s[a]))for(const l of s[a])mm(l,t,n,r+1,i)}else if(o==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const a=e,s=Object.keys(a).filter(u=>!u.startsWith("_")&&!i.has(u)),l={};for(const u of s)l[u]=a[u];for(const[u,c]of Object.entries(l)){const f=[];for(const h of n.slice(r))h==="*"?f.push(u):f.push(h);p(a,f,c)}for(const u of s)delete a[u]}}else{const a=e;o in a&&mm(a[o],t,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uy(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kM(e){const t={},n=d(e,["operationName"]);n!=null&&p(t,["operationName"],n);const r=d(e,["resourceName"]);return r!=null&&p(t,["_url","resourceName"],r),t}function RM(e){const t={},n=d(e,["name"]);n!=null&&p(t,["name"],n);const r=d(e,["metadata"]);r!=null&&p(t,["metadata"],r);const i=d(e,["done"]);i!=null&&p(t,["done"],i);const o=d(e,["error"]);o!=null&&p(t,["error"],o);const a=d(e,["response","generateVideoResponse"]);return a!=null&&p(t,["response"],MM(a)),t}function NM(e){const t={},n=d(e,["name"]);n!=null&&p(t,["name"],n);const r=d(e,["metadata"]);r!=null&&p(t,["metadata"],r);const i=d(e,["done"]);i!=null&&p(t,["done"],i);const o=d(e,["error"]);o!=null&&p(t,["error"],o);const a=d(e,["response"]);return a!=null&&p(t,["response"],$M(a)),t}function MM(e){const t={},n=d(e,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>DM(a))),p(t,["generatedVideos"],o)}const r=d(e,["raiMediaFilteredCount"]);r!=null&&p(t,["raiMediaFilteredCount"],r);const i=d(e,["raiMediaFilteredReasons"]);return i!=null&&p(t,["raiMediaFilteredReasons"],i),t}function $M(e){const t={},n=d(e,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>LM(a))),p(t,["generatedVideos"],o)}const r=d(e,["raiMediaFilteredCount"]);r!=null&&p(t,["raiMediaFilteredCount"],r);const i=d(e,["raiMediaFilteredReasons"]);return i!=null&&p(t,["raiMediaFilteredReasons"],i),t}function DM(e){const t={},n=d(e,["video"]);return n!=null&&p(t,["video"],GM(n)),t}function LM(e){const t={},n=d(e,["_self"]);return n!=null&&p(t,["video"],HM(n)),t}function UM(e){const t={},n=d(e,["operationName"]);return n!=null&&p(t,["_url","operationName"],n),t}function FM(e){const t={},n=d(e,["operationName"]);return n!=null&&p(t,["_url","operationName"],n),t}function jM(e){const t={},n=d(e,["name"]);n!=null&&p(t,["name"],n);const r=d(e,["metadata"]);r!=null&&p(t,["metadata"],r);const i=d(e,["done"]);i!=null&&p(t,["done"],i);const o=d(e,["error"]);o!=null&&p(t,["error"],o);const a=d(e,["response"]);return a!=null&&p(t,["response"],BM(a)),t}function BM(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=d(e,["parent"]);r!=null&&p(t,["parent"],r);const i=d(e,["documentName"]);return i!=null&&p(t,["documentName"],i),t}function QC(e){const t={},n=d(e,["name"]);n!=null&&p(t,["name"],n);const r=d(e,["metadata"]);r!=null&&p(t,["metadata"],r);const i=d(e,["done"]);i!=null&&p(t,["done"],i);const o=d(e,["error"]);o!=null&&p(t,["error"],o);const a=d(e,["response"]);return a!=null&&p(t,["response"],VM(a)),t}function VM(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=d(e,["parent"]);r!=null&&p(t,["parent"],r);const i=d(e,["documentName"]);return i!=null&&p(t,["documentName"],i),t}function GM(e){const t={},n=d(e,["uri"]);n!=null&&p(t,["uri"],n);const r=d(e,["encodedVideo"]);r!=null&&p(t,["videoBytes"],uy(r));const i=d(e,["encoding"]);return i!=null&&p(t,["mimeType"],i),t}function HM(e){const t={},n=d(e,["gcsUri"]);n!=null&&p(t,["uri"],n);const r=d(e,["bytesBase64Encoded"]);r!=null&&p(t,["videoBytes"],uy(r));const i=d(e,["mimeType"]);return i!=null&&p(t,["mimeType"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var F_;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(F_||(F_={}));var j_;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(j_||(j_={}));var B_;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(B_||(B_={}));var et;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(et||(et={}));var V_;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(V_||(V_={}));var G_;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(G_||(G_={}));var H_;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(H_||(H_={}));var q_;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(q_||(q_={}));var z_;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(z_||(z_={}));var W_;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(W_||(W_={}));var K_;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(K_||(K_={}));var J_;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"})(J_||(J_={}));var Y_;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Y_||(Y_={}));var X_;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(X_||(X_={}));var Q_;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(Q_||(Q_={}));var Z_;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(Z_||(Z_={}));var ew;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(ew||(ew={}));var tw;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(tw||(tw={}));var nw;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(nw||(nw={}));var rw;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(rw||(rw={}));var iw;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(iw||(iw={}));var Nc;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(Nc||(Nc={}));var ow;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(ow||(ow={}));var aw;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(aw||(aw={}));var sw;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(sw||(sw={}));var gm;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(gm||(gm={}));var lw;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(lw||(lw={}));var uw;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(uw||(uw={}));var vm;(function(e){e.COLLECTION="COLLECTION"})(vm||(vm={}));var cw;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(cw||(cw={}));var fw;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(fw||(fw={}));var dw;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(dw||(dw={}));var hw;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(hw||(hw={}));var pw;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(pw||(pw={}));var mw;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(mw||(mw={}));var gw;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(gw||(gw={}));var vw;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(vw||(vw={}));var yw;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(yw||(yw={}));var _w;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(_w||(_w={}));var ww;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(ww||(ww={}));var bw;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(bw||(bw={}));var Sw;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(Sw||(Sw={}));var xw;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING",e.DISTILLATION="DISTILLATION"})(xw||(xw={}));var Tw;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(Tw||(Tw={}));var Ew;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(Ew||(Ew={}));var Aw;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED",e.REGISTERED="REGISTERED"})(Aw||(Aw={}));var Cw;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Cw||(Cw={}));var Pw;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(Pw||(Pw={}));var Iw;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Iw||(Iw={}));var Ow;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.ACTIVITY_START="ACTIVITY_START",e.ACTIVITY_END="ACTIVITY_END"})(Ow||(Ow={}));var kw;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(kw||(kw={}));var Rw;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Rw||(Rw={}));var Nw;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(Nw||(Nw={}));var Mw;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Mw||(Mw={}));var $w;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})($w||($w={}));var Dw;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(Dw||(Dw={}));var Io;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(Io||(Io={}));class ym{constructor(t){const n={};for(const r of t.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class es{get text(){var t,n,r,i,o,a,s,l;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",c=!1;const f=[];for(const h of(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[m,g]of Object.entries(h))m!=="text"&&m!=="thought"&&m!=="thoughtSignature"&&(g!==null||g!==void 0)&&f.push(m);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;c=!0,u+=h.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?u:void 0}get data(){var t,n,r,i,o,a,s,l;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const c=[];for(const f of(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[h,m]of Object.entries(f))h!=="inlineData"&&(m!==null||m!==void 0)&&c.push(h);f.inlineData&&typeof f.inlineData.data=="string"&&(u+=atob(f.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var t,n,r,i,o,a,s,l;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(c=>c.functionCall).map(c=>c.functionCall).filter(c=>c!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var t,n,r,i,o,a,s,l,u;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const c=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var t,n,r,i,o,a,s,l,u;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const c=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.output}}class Lw{}class Uw{}class qM{}class zM{}class WM{}class KM{}class Fw{}class jw{}class Bw{}class JM{}class Mc{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new Mc;let i;const o=t;return n?i=NM(o):i=RM(o),Object.assign(r,i),r}}class Vw{}class Gw{}class Hw{}class qw{}class YM{}class XM{}class QM{}class cy{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new cy,o=jM(t);return Object.assign(r,o),r}}class ZM{}class e${}class t${}class n${}class zw{}class r${get text(){var t,n,r;let i="",o=!1;const a=[];for(const s of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(s))l!=="text"&&l!=="thought"&&u!==null&&a.push(l);if(typeof s.text=="string"){if(typeof s.thought=="boolean"&&s.thought)continue;o=!0,i+=s.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var t,n,r;let i="";const o=[];for(const a of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[s,l]of Object.entries(a))s!=="inlineData"&&l!==null&&o.push(s);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class i${get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class fy{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new fy,o=QC(t);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pe(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function ZC(e,t){const n=pe(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function eP(e){return Array.isArray(e)?e.map(t=>$c(t)):[$c(e)]}function $c(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function tP(e){const t=$c(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function nP(e){const t=$c(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Ww(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function rP(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>Ww(t)):[Ww(e)]}function _m(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function Kw(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function Jw(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function xt(e){if(e==null)throw new Error("ContentUnion is required");return _m(e)?e:{role:"user",parts:rP(e)}}function dy(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const r=xt(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(e.isVertexAI()){const n=xt(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>xt(n)):[xt(t)]}function hn(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(Kw(e)||Jw(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[xt(e)]}const t=[],n=[],r=_m(e[0]);for(const i of e){const o=_m(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)t.push(i);else{if(Kw(i)||Jw(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||t.push({role:"user",parts:rP(n)}),t}function o$(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(r=>r!=="null");if(n.length===1)t.type=Object.values(et).includes(n[0].toUpperCase())?n[0].toUpperCase():et.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const r of n)t.anyOf.push({type:Object.values(et).includes(r.toUpperCase())?r.toUpperCase():et.TYPE_UNSPECIFIED})}}function Go(e){const t={},n=["items"],r=["anyOf"],i=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=e.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(t.nullable=!0,e=o[1]):o[1].type==="null"&&(t.nullable=!0,e=o[0])),e.type instanceof Array&&o$(e.type,t);for(const[a,s]of Object.entries(e))if(s!=null)if(a=="type"){if(s==="null")throw new Error("type: null can not be the only possible type for the field.");if(s instanceof Array)continue;t.type=Object.values(et).includes(s.toUpperCase())?s.toUpperCase():et.TYPE_UNSPECIFIED}else if(n.includes(a))t[a]=Go(s);else if(r.includes(a)){const l=[];for(const u of s){if(u.type=="null"){t.nullable=!0;continue}l.push(Go(u))}t[a]=l}else if(i.includes(a)){const l={};for(const[u,c]of Object.entries(s))l[u]=Go(c);t[a]=l}else{if(a==="additionalProperties")continue;t[a]=s}return t}function hy(e){return Go(e)}function py(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function my(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Ia(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Go(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Go(t.response));return e}function Oa(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function a$(e,t,n,r=1){const i=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:i?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:i?`${n}/${t}`:t}function br(e,t){if(typeof t!="string")throw new Error("name must be a string");return a$(e,t,"cachedContents")}function iP(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function ti(e){return uy(e)}function s$(e){return e!=null&&typeof e=="object"&&"name"in e}function l$(e){return e!=null&&typeof e=="object"&&"video"in e}function u$(e){return e!=null&&typeof e=="object"&&"uri"in e}function oP(e){var t;let n;if(s$(e)&&(n=e.name),!(u$(e)&&(n=e.uri,n===void 0))&&!(l$(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function aP(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function sP(e){for(const t of["models","tunedModels","publisherModels"])if(c$(e,t))return e[t];return[]}function c$(e,t){return e!==null&&typeof e=="object"&&t in e}function f$(e,t={}){const n=e,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),t.behavior&&(r.behavior=t.behavior),{functionDeclarations:[r]}}function d$(e,t={}){const n=[],r=new Set;for(const i of e){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const a=f$(i,t);a.functionDeclarations&&n.push(...a.functionDeclarations)}return{functionDeclarations:n}}function lP(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function h$(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function uP(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return e;let o=!1;for(const a of i){if(typeof a!="object"||a===null)continue;const l=a.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){o=!0;break}}return o&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function ka(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function cP(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function p$(e){const t={},n=d(e,["responsesFile"]);n!=null&&p(t,["fileName"],n);const r=d(e,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>K$(a))),p(t,["inlinedResponses"],o)}const i=d(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(t,["inlinedEmbedContentResponses"],o)}return t}function m$(e){const t={},n=d(e,["predictionsFormat"]);n!=null&&p(t,["format"],n);const r=d(e,["gcsDestination","outputUriPrefix"]);r!=null&&p(t,["gcsUri"],r);const i=d(e,["bigqueryDestination","outputUri"]);return i!=null&&p(t,["bigqueryUri"],i),t}function g$(e){const t={},n=d(e,["format"]);n!=null&&p(t,["predictionsFormat"],n);const r=d(e,["gcsUri"]);r!=null&&p(t,["gcsDestination","outputUriPrefix"],r);const i=d(e,["bigqueryUri"]);if(i!=null&&p(t,["bigqueryDestination","outputUri"],i),d(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(d(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function ac(e){const t={},n=d(e,["name"]);n!=null&&p(t,["name"],n);const r=d(e,["metadata","displayName"]);r!=null&&p(t,["displayName"],r);const i=d(e,["metadata","state"]);i!=null&&p(t,["state"],cP(i));const o=d(e,["metadata","createTime"]);o!=null&&p(t,["createTime"],o);const a=d(e,["metadata","endTime"]);a!=null&&p(t,["endTime"],a);const s=d(e,["metadata","updateTime"]);s!=null&&p(t,["updateTime"],s);const l=d(e,["metadata","model"]);l!=null&&p(t,["model"],l);const u=d(e,["metadata","output"]);return u!=null&&p(t,["dest"],p$(uP(u))),t}function wm(e){const t={},n=d(e,["name"]);n!=null&&p(t,["name"],n);const r=d(e,["displayName"]);r!=null&&p(t,["displayName"],r);const i=d(e,["state"]);i!=null&&p(t,["state"],cP(i));const o=d(e,["error"]);o!=null&&p(t,["error"],o);const a=d(e,["createTime"]);a!=null&&p(t,["createTime"],a);const s=d(e,["startTime"]);s!=null&&p(t,["startTime"],s);const l=d(e,["endTime"]);l!=null&&p(t,["endTime"],l);const u=d(e,["updateTime"]);u!=null&&p(t,["updateTime"],u);const c=d(e,["model"]);c!=null&&p(t,["model"],c);const f=d(e,["inputConfig"]);f!=null&&p(t,["src"],v$(f));const h=d(e,["outputConfig"]);h!=null&&p(t,["dest"],m$(uP(h)));const m=d(e,["completionStats"]);return m!=null&&p(t,["completionStats"],m),t}function v$(e){const t={},n=d(e,["instancesFormat"]);n!=null&&p(t,["format"],n);const r=d(e,["gcsSource","uris"]);r!=null&&p(t,["gcsUri"],r);const i=d(e,["bigquerySource","inputUri"]);return i!=null&&p(t,["bigqueryUri"],i),t}function y$(e,t){const n={};if(d(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=d(t,["fileName"]);r!=null&&p(n,["fileName"],r);const i=d(t,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>W$(e,a))),p(n,["requests","requests"],o)}return n}function _$(e){const t={},n=d(e,["format"]);n!=null&&p(t,["instancesFormat"],n);const r=d(e,["gcsUri"]);r!=null&&p(t,["gcsSource","uris"],r);const i=d(e,["bigqueryUri"]);if(i!=null&&p(t,["bigquerySource","inputUri"],i),d(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function w$(e){const t={},n=d(e,["data"]);if(n!=null&&p(t,["data"],n),d(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(e,["mimeType"]);return r!=null&&p(t,["mimeType"],r),t}function b$(e,t){const n={},r=d(t,["name"]);return r!=null&&p(n,["_url","name"],ka(e,r)),n}function S$(e,t){const n={},r=d(t,["name"]);return r!=null&&p(n,["_url","name"],ka(e,r)),n}function x$(e){const t={},n=d(e,["content"]);n!=null&&p(t,["content"],n);const r=d(e,["citationMetadata"]);r!=null&&p(t,["citationMetadata"],T$(r));const i=d(e,["tokenCount"]);i!=null&&p(t,["tokenCount"],i);const o=d(e,["finishReason"]);o!=null&&p(t,["finishReason"],o);const a=d(e,["avgLogprobs"]);a!=null&&p(t,["avgLogprobs"],a);const s=d(e,["groundingMetadata"]);s!=null&&p(t,["groundingMetadata"],s);const l=d(e,["index"]);l!=null&&p(t,["index"],l);const u=d(e,["logprobsResult"]);u!=null&&p(t,["logprobsResult"],u);const c=d(e,["safetyRatings"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(m=>m)),p(t,["safetyRatings"],h)}const f=d(e,["urlContextMetadata"]);return f!=null&&p(t,["urlContextMetadata"],f),t}function T$(e){const t={},n=d(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),p(t,["citations"],r)}return t}function fP(e){const t={},n=d(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>tD(o))),p(t,["parts"],i)}const r=d(e,["role"]);return r!=null&&p(t,["role"],r),t}function E$(e,t){const n={},r=d(e,["displayName"]);if(t!==void 0&&r!=null&&p(t,["batch","displayName"],r),d(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function A$(e,t){const n={},r=d(e,["displayName"]);t!==void 0&&r!=null&&p(t,["displayName"],r);const i=d(e,["dest"]);return t!==void 0&&i!=null&&p(t,["outputConfig"],g$(h$(i))),n}function Yw(e,t){const n={},r=d(t,["model"]);r!=null&&p(n,["_url","model"],pe(e,r));const i=d(t,["src"]);i!=null&&p(n,["batch","inputConfig"],y$(e,lP(e,i)));const o=d(t,["config"]);return o!=null&&E$(o,n),n}function C$(e,t){const n={},r=d(t,["model"]);r!=null&&p(n,["model"],pe(e,r));const i=d(t,["src"]);i!=null&&p(n,["inputConfig"],_$(lP(e,i)));const o=d(t,["config"]);return o!=null&&A$(o,n),n}function P$(e,t){const n={},r=d(e,["displayName"]);return t!==void 0&&r!=null&&p(t,["batch","displayName"],r),n}function I$(e,t){const n={},r=d(t,["model"]);r!=null&&p(n,["_url","model"],pe(e,r));const i=d(t,["src"]);i!=null&&p(n,["batch","inputConfig"],D$(e,i));const o=d(t,["config"]);return o!=null&&P$(o,n),n}function O$(e,t){const n={},r=d(t,["name"]);return r!=null&&p(n,["_url","name"],ka(e,r)),n}function k$(e,t){const n={},r=d(t,["name"]);return r!=null&&p(n,["_url","name"],ka(e,r)),n}function R$(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=d(e,["name"]);r!=null&&p(t,["name"],r);const i=d(e,["done"]);i!=null&&p(t,["done"],i);const o=d(e,["error"]);return o!=null&&p(t,["error"],o),t}function N$(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=d(e,["name"]);r!=null&&p(t,["name"],r);const i=d(e,["done"]);i!=null&&p(t,["done"],i);const o=d(e,["error"]);return o!=null&&p(t,["error"],o),t}function M$(e,t){const n={},r=d(t,["contents"]);if(r!=null){let o=dy(e,r);Array.isArray(o)&&(o=o.map(a=>a)),p(n,["requests[]","request","content"],o)}const i=d(t,["config"]);return i!=null&&(p(n,["_self"],$$(i,n)),OM(n,{"requests[].*":"requests[].request.*"})),n}function $$(e,t){const n={},r=d(e,["taskType"]);t!==void 0&&r!=null&&p(t,["requests[]","taskType"],r);const i=d(e,["title"]);t!==void 0&&i!=null&&p(t,["requests[]","title"],i);const o=d(e,["outputDimensionality"]);if(t!==void 0&&o!=null&&p(t,["requests[]","outputDimensionality"],o),d(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function D$(e,t){const n={},r=d(t,["fileName"]);r!=null&&p(n,["file_name"],r);const i=d(t,["inlinedRequests"]);return i!=null&&p(n,["requests"],M$(e,i)),n}function L$(e){const t={};if(d(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(e,["fileUri"]);n!=null&&p(t,["fileUri"],n);const r=d(e,["mimeType"]);return r!=null&&p(t,["mimeType"],r),t}function U$(e){const t={},n=d(e,["id"]);n!=null&&p(t,["id"],n);const r=d(e,["args"]);r!=null&&p(t,["args"],r);const i=d(e,["name"]);if(i!=null&&p(t,["name"],i),d(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function F$(e){const t={},n=d(e,["allowedFunctionNames"]);n!=null&&p(t,["allowedFunctionNames"],n);const r=d(e,["mode"]);if(r!=null&&p(t,["mode"],r),d(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function j$(e,t,n){const r={},i=d(t,["systemInstruction"]);n!==void 0&&i!=null&&p(n,["systemInstruction"],fP(xt(i)));const o=d(t,["temperature"]);o!=null&&p(r,["temperature"],o);const a=d(t,["topP"]);a!=null&&p(r,["topP"],a);const s=d(t,["topK"]);s!=null&&p(r,["topK"],s);const l=d(t,["candidateCount"]);l!=null&&p(r,["candidateCount"],l);const u=d(t,["maxOutputTokens"]);u!=null&&p(r,["maxOutputTokens"],u);const c=d(t,["stopSequences"]);c!=null&&p(r,["stopSequences"],c);const f=d(t,["responseLogprobs"]);f!=null&&p(r,["responseLogprobs"],f);const h=d(t,["logprobs"]);h!=null&&p(r,["logprobs"],h);const m=d(t,["presencePenalty"]);m!=null&&p(r,["presencePenalty"],m);const g=d(t,["frequencyPenalty"]);g!=null&&p(r,["frequencyPenalty"],g);const v=d(t,["seed"]);v!=null&&p(r,["seed"],v);const _=d(t,["responseMimeType"]);_!=null&&p(r,["responseMimeType"],_);const y=d(t,["responseSchema"]);y!=null&&p(r,["responseSchema"],hy(y));const w=d(t,["responseJsonSchema"]);if(w!=null&&p(r,["responseJsonSchema"],w),d(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const b=d(t,["safetySettings"]);if(n!==void 0&&b!=null){let $=b;Array.isArray($)&&($=$.map(M=>nD(M))),p(n,["safetySettings"],$)}const T=d(t,["tools"]);if(n!==void 0&&T!=null){let $=Oa(T);Array.isArray($)&&($=$.map(M=>iD(Ia(M)))),p(n,["tools"],$)}const S=d(t,["toolConfig"]);if(n!==void 0&&S!=null&&p(n,["toolConfig"],rD(S)),d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const x=d(t,["cachedContent"]);n!==void 0&&x!=null&&p(n,["cachedContent"],br(e,x));const E=d(t,["responseModalities"]);E!=null&&p(r,["responseModalities"],E);const C=d(t,["mediaResolution"]);C!=null&&p(r,["mediaResolution"],C);const P=d(t,["speechConfig"]);if(P!=null&&p(r,["speechConfig"],py(P)),d(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const O=d(t,["thinkingConfig"]);O!=null&&p(r,["thinkingConfig"],O);const R=d(t,["imageConfig"]);R!=null&&p(r,["imageConfig"],z$(R));const k=d(t,["enableEnhancedCivicAnswers"]);if(k!=null&&p(r,["enableEnhancedCivicAnswers"],k),d(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function B$(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=d(e,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>x$(u))),p(t,["candidates"],l)}const i=d(e,["modelVersion"]);i!=null&&p(t,["modelVersion"],i);const o=d(e,["promptFeedback"]);o!=null&&p(t,["promptFeedback"],o);const a=d(e,["responseId"]);a!=null&&p(t,["responseId"],a);const s=d(e,["usageMetadata"]);return s!=null&&p(t,["usageMetadata"],s),t}function V$(e,t){const n={},r=d(t,["name"]);return r!=null&&p(n,["_url","name"],ka(e,r)),n}function G$(e,t){const n={},r=d(t,["name"]);return r!=null&&p(n,["_url","name"],ka(e,r)),n}function H$(e){const t={};if(d(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(e,["enableWidget"]);return n!=null&&p(t,["enableWidget"],n),t}function q$(e){const t={};if(d(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(e,["timeRangeFilter"]);return n!=null&&p(t,["timeRangeFilter"],n),t}function z$(e){const t={},n=d(e,["aspectRatio"]);n!=null&&p(t,["aspectRatio"],n);const r=d(e,["imageSize"]);if(r!=null&&p(t,["imageSize"],r),d(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(d(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function W$(e,t){const n={},r=d(t,["model"]);r!=null&&p(n,["request","model"],pe(e,r));const i=d(t,["contents"]);if(i!=null){let s=hn(i);Array.isArray(s)&&(s=s.map(l=>fP(l))),p(n,["request","contents"],s)}const o=d(t,["metadata"]);o!=null&&p(n,["metadata"],o);const a=d(t,["config"]);return a!=null&&p(n,["request","generationConfig"],j$(e,a,d(n,["request"],{}))),n}function K$(e){const t={},n=d(e,["response"]);n!=null&&p(t,["response"],B$(n));const r=d(e,["metadata"]);r!=null&&p(t,["metadata"],r);const i=d(e,["error"]);return i!=null&&p(t,["error"],i),t}function J$(e,t){const n={},r=d(e,["pageSize"]);t!==void 0&&r!=null&&p(t,["_query","pageSize"],r);const i=d(e,["pageToken"]);if(t!==void 0&&i!=null&&p(t,["_query","pageToken"],i),d(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Y$(e,t){const n={},r=d(e,["pageSize"]);t!==void 0&&r!=null&&p(t,["_query","pageSize"],r);const i=d(e,["pageToken"]);t!==void 0&&i!=null&&p(t,["_query","pageToken"],i);const o=d(e,["filter"]);return t!==void 0&&o!=null&&p(t,["_query","filter"],o),n}function X$(e){const t={},n=d(e,["config"]);return n!=null&&J$(n,t),t}function Q$(e){const t={},n=d(e,["config"]);return n!=null&&Y$(n,t),t}function Z$(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=d(e,["nextPageToken"]);r!=null&&p(t,["nextPageToken"],r);const i=d(e,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>ac(a))),p(t,["batchJobs"],o)}return t}function eD(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=d(e,["nextPageToken"]);r!=null&&p(t,["nextPageToken"],r);const i=d(e,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>wm(a))),p(t,["batchJobs"],o)}return t}function tD(e){const t={},n=d(e,["mediaResolution"]);n!=null&&p(t,["mediaResolution"],n);const r=d(e,["codeExecutionResult"]);r!=null&&p(t,["codeExecutionResult"],r);const i=d(e,["executableCode"]);i!=null&&p(t,["executableCode"],i);const o=d(e,["fileData"]);o!=null&&p(t,["fileData"],L$(o));const a=d(e,["functionCall"]);a!=null&&p(t,["functionCall"],U$(a));const s=d(e,["functionResponse"]);s!=null&&p(t,["functionResponse"],s);const l=d(e,["inlineData"]);l!=null&&p(t,["inlineData"],w$(l));const u=d(e,["text"]);u!=null&&p(t,["text"],u);const c=d(e,["thought"]);c!=null&&p(t,["thought"],c);const f=d(e,["thoughtSignature"]);f!=null&&p(t,["thoughtSignature"],f);const h=d(e,["videoMetadata"]);return h!=null&&p(t,["videoMetadata"],h),t}function nD(e){const t={},n=d(e,["category"]);if(n!=null&&p(t,["category"],n),d(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=d(e,["threshold"]);return r!=null&&p(t,["threshold"],r),t}function rD(e){const t={},n=d(e,["retrievalConfig"]);n!=null&&p(t,["retrievalConfig"],n);const r=d(e,["functionCallingConfig"]);return r!=null&&p(t,["functionCallingConfig"],F$(r)),t}function iD(e){const t={};if(d(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=d(e,["computerUse"]);n!=null&&p(t,["computerUse"],n);const r=d(e,["fileSearch"]);r!=null&&p(t,["fileSearch"],r);const i=d(e,["codeExecution"]);if(i!=null&&p(t,["codeExecution"],i),d(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=d(e,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>f)),p(t,["functionDeclarations"],c)}const a=d(e,["googleMaps"]);a!=null&&p(t,["googleMaps"],H$(a));const s=d(e,["googleSearch"]);s!=null&&p(t,["googleSearch"],q$(s));const l=d(e,["googleSearchRetrieval"]);l!=null&&p(t,["googleSearchRetrieval"],l);const u=d(e,["urlContext"]);return u!=null&&p(t,["urlContext"],u),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var pr;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(pr||(pr={}));class Ji{constructor(t,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,r,i)}init(t,n,r){var i,o;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!r||Object.keys(r).length===0?a={config:{}}:typeof r=="object"?a=Object.assign({},r):a=r,a.config&&(a.config.pageToken=n.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(o=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oD extends wr{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Ji(pr.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(t){const n=Yw(this.apiClient,t),r=n._url,i=K("{model}:batchGenerateContent",r),s=n.batch.inputConfig.requests,l=s.requests,u=[];for(const c of l){const f=Object.assign({},c);if(f.systemInstruction){const h=f.systemInstruction;delete f.systemInstruction;const m=f.request;m.systemInstruction=h,f.request=m}u.push(f)}return s.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(t),a=this.getBigqueryUri(t);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(a)r.dest=`${a}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=C$(this.apiClient,t);return s=K("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>wm(c))}else{const u=Yw(this.apiClient,t);return s=K("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>ac(c))}}async createEmbeddingsInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=I$(this.apiClient,t);return o=K("{model}:asyncBatchEmbedContent",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>ac(l))}}async get(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=G$(this.apiClient,t);return s=K("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>wm(c))}else{const u=V$(this.apiClient,t);return s=K("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>ac(c))}}async cancel(t){var n,r,i,o;let a="",s={};if(this.apiClient.isVertexAI()){const l=S$(this.apiClient,t);a=K("batchPredictionJobs/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=b$(this.apiClient,t);a=K("batches/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Q$(t);return s=K("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=eD(c),h=new zw;return Object.assign(h,f),h})}else{const u=X$(t);return s=K("batches",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=Z$(c),h=new zw;return Object.assign(h,f),h})}}async delete(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=k$(this.apiClient,t);return s=K("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>N$(c))}else{const u=O$(this.apiClient,t);return s=K("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>R$(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aD(e){const t={},n=d(e,["data"]);if(n!=null&&p(t,["data"],n),d(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(e,["mimeType"]);return r!=null&&p(t,["mimeType"],r),t}function Xw(e){const t={},n=d(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>ID(o))),p(t,["parts"],i)}const r=d(e,["role"]);return r!=null&&p(t,["role"],r),t}function sD(e,t){const n={},r=d(e,["ttl"]);t!==void 0&&r!=null&&p(t,["ttl"],r);const i=d(e,["expireTime"]);t!==void 0&&i!=null&&p(t,["expireTime"],i);const o=d(e,["displayName"]);t!==void 0&&o!=null&&p(t,["displayName"],o);const a=d(e,["contents"]);if(t!==void 0&&a!=null){let c=hn(a);Array.isArray(c)&&(c=c.map(f=>Xw(f))),p(t,["contents"],c)}const s=d(e,["systemInstruction"]);t!==void 0&&s!=null&&p(t,["systemInstruction"],Xw(xt(s)));const l=d(e,["tools"]);if(t!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>kD(f))),p(t,["tools"],c)}const u=d(e,["toolConfig"]);if(t!==void 0&&u!=null&&p(t,["toolConfig"],OD(u)),d(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function lD(e,t){const n={},r=d(e,["ttl"]);t!==void 0&&r!=null&&p(t,["ttl"],r);const i=d(e,["expireTime"]);t!==void 0&&i!=null&&p(t,["expireTime"],i);const o=d(e,["displayName"]);t!==void 0&&o!=null&&p(t,["displayName"],o);const a=d(e,["contents"]);if(t!==void 0&&a!=null){let f=hn(a);Array.isArray(f)&&(f=f.map(h=>h)),p(t,["contents"],f)}const s=d(e,["systemInstruction"]);t!==void 0&&s!=null&&p(t,["systemInstruction"],xt(s));const l=d(e,["tools"]);if(t!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>RD(h))),p(t,["tools"],f)}const u=d(e,["toolConfig"]);t!==void 0&&u!=null&&p(t,["toolConfig"],u);const c=d(e,["kmsKeyName"]);return t!==void 0&&c!=null&&p(t,["encryption_spec","kmsKeyName"],c),n}function uD(e,t){const n={},r=d(t,["model"]);r!=null&&p(n,["model"],ZC(e,r));const i=d(t,["config"]);return i!=null&&sD(i,n),n}function cD(e,t){const n={},r=d(t,["model"]);r!=null&&p(n,["model"],ZC(e,r));const i=d(t,["config"]);return i!=null&&lD(i,n),n}function fD(e,t){const n={},r=d(t,["name"]);return r!=null&&p(n,["_url","name"],br(e,r)),n}function dD(e,t){const n={},r=d(t,["name"]);return r!=null&&p(n,["_url","name"],br(e,r)),n}function hD(e){const t={},n=d(e,["sdkHttpResponse"]);return n!=null&&p(t,["sdkHttpResponse"],n),t}function pD(e){const t={},n=d(e,["sdkHttpResponse"]);return n!=null&&p(t,["sdkHttpResponse"],n),t}function mD(e){const t={};if(d(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(e,["fileUri"]);n!=null&&p(t,["fileUri"],n);const r=d(e,["mimeType"]);return r!=null&&p(t,["mimeType"],r),t}function gD(e){const t={},n=d(e,["id"]);n!=null&&p(t,["id"],n);const r=d(e,["args"]);r!=null&&p(t,["args"],r);const i=d(e,["name"]);if(i!=null&&p(t,["name"],i),d(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function vD(e){const t={},n=d(e,["allowedFunctionNames"]);n!=null&&p(t,["allowedFunctionNames"],n);const r=d(e,["mode"]);if(r!=null&&p(t,["mode"],r),d(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function yD(e){const t={},n=d(e,["description"]);n!=null&&p(t,["description"],n);const r=d(e,["name"]);r!=null&&p(t,["name"],r);const i=d(e,["parameters"]);i!=null&&p(t,["parameters"],i);const o=d(e,["parametersJsonSchema"]);o!=null&&p(t,["parametersJsonSchema"],o);const a=d(e,["response"]);a!=null&&p(t,["response"],a);const s=d(e,["responseJsonSchema"]);if(s!=null&&p(t,["responseJsonSchema"],s),d(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function _D(e,t){const n={},r=d(t,["name"]);return r!=null&&p(n,["_url","name"],br(e,r)),n}function wD(e,t){const n={},r=d(t,["name"]);return r!=null&&p(n,["_url","name"],br(e,r)),n}function bD(e){const t={};if(d(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(e,["enableWidget"]);return n!=null&&p(t,["enableWidget"],n),t}function SD(e){const t={};if(d(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(e,["timeRangeFilter"]);return n!=null&&p(t,["timeRangeFilter"],n),t}function xD(e,t){const n={},r=d(e,["pageSize"]);t!==void 0&&r!=null&&p(t,["_query","pageSize"],r);const i=d(e,["pageToken"]);return t!==void 0&&i!=null&&p(t,["_query","pageToken"],i),n}function TD(e,t){const n={},r=d(e,["pageSize"]);t!==void 0&&r!=null&&p(t,["_query","pageSize"],r);const i=d(e,["pageToken"]);return t!==void 0&&i!=null&&p(t,["_query","pageToken"],i),n}function ED(e){const t={},n=d(e,["config"]);return n!=null&&xD(n,t),t}function AD(e){const t={},n=d(e,["config"]);return n!=null&&TD(n,t),t}function CD(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=d(e,["nextPageToken"]);r!=null&&p(t,["nextPageToken"],r);const i=d(e,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(t,["cachedContents"],o)}return t}function PD(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=d(e,["nextPageToken"]);r!=null&&p(t,["nextPageToken"],r);const i=d(e,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(t,["cachedContents"],o)}return t}function ID(e){const t={},n=d(e,["mediaResolution"]);n!=null&&p(t,["mediaResolution"],n);const r=d(e,["codeExecutionResult"]);r!=null&&p(t,["codeExecutionResult"],r);const i=d(e,["executableCode"]);i!=null&&p(t,["executableCode"],i);const o=d(e,["fileData"]);o!=null&&p(t,["fileData"],mD(o));const a=d(e,["functionCall"]);a!=null&&p(t,["functionCall"],gD(a));const s=d(e,["functionResponse"]);s!=null&&p(t,["functionResponse"],s);const l=d(e,["inlineData"]);l!=null&&p(t,["inlineData"],aD(l));const u=d(e,["text"]);u!=null&&p(t,["text"],u);const c=d(e,["thought"]);c!=null&&p(t,["thought"],c);const f=d(e,["thoughtSignature"]);f!=null&&p(t,["thoughtSignature"],f);const h=d(e,["videoMetadata"]);return h!=null&&p(t,["videoMetadata"],h),t}function OD(e){const t={},n=d(e,["retrievalConfig"]);n!=null&&p(t,["retrievalConfig"],n);const r=d(e,["functionCallingConfig"]);return r!=null&&p(t,["functionCallingConfig"],vD(r)),t}function kD(e){const t={};if(d(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=d(e,["computerUse"]);n!=null&&p(t,["computerUse"],n);const r=d(e,["fileSearch"]);r!=null&&p(t,["fileSearch"],r);const i=d(e,["codeExecution"]);if(i!=null&&p(t,["codeExecution"],i),d(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=d(e,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>f)),p(t,["functionDeclarations"],c)}const a=d(e,["googleMaps"]);a!=null&&p(t,["googleMaps"],bD(a));const s=d(e,["googleSearch"]);s!=null&&p(t,["googleSearch"],SD(s));const l=d(e,["googleSearchRetrieval"]);l!=null&&p(t,["googleSearchRetrieval"],l);const u=d(e,["urlContext"]);return u!=null&&p(t,["urlContext"],u),t}function RD(e){const t={},n=d(e,["retrieval"]);n!=null&&p(t,["retrieval"],n);const r=d(e,["computerUse"]);if(r!=null&&p(t,["computerUse"],r),d(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=d(e,["codeExecution"]);i!=null&&p(t,["codeExecution"],i);const o=d(e,["enterpriseWebSearch"]);o!=null&&p(t,["enterpriseWebSearch"],o);const a=d(e,["functionDeclarations"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(h=>yD(h))),p(t,["functionDeclarations"],f)}const s=d(e,["googleMaps"]);s!=null&&p(t,["googleMaps"],s);const l=d(e,["googleSearch"]);l!=null&&p(t,["googleSearch"],l);const u=d(e,["googleSearchRetrieval"]);u!=null&&p(t,["googleSearchRetrieval"],u);const c=d(e,["urlContext"]);return c!=null&&p(t,["urlContext"],c),t}function ND(e,t){const n={},r=d(e,["ttl"]);t!==void 0&&r!=null&&p(t,["ttl"],r);const i=d(e,["expireTime"]);return t!==void 0&&i!=null&&p(t,["expireTime"],i),n}function MD(e,t){const n={},r=d(e,["ttl"]);t!==void 0&&r!=null&&p(t,["ttl"],r);const i=d(e,["expireTime"]);return t!==void 0&&i!=null&&p(t,["expireTime"],i),n}function $D(e,t){const n={},r=d(t,["name"]);r!=null&&p(n,["_url","name"],br(e,r));const i=d(t,["config"]);return i!=null&&ND(i,n),n}function DD(e,t){const n={},r=d(t,["name"]);r!=null&&p(n,["_url","name"],br(e,r));const i=d(t,["config"]);return i!=null&&MD(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LD extends wr{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Ji(pr.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=cD(this.apiClient,t);return s=K("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>c)}else{const u=uD(this.apiClient,t);return s=K("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>c)}}async get(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=wD(this.apiClient,t);return s=K("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>c)}else{const u=_D(this.apiClient,t);return s=K("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>c)}}async delete(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=dD(this.apiClient,t);return s=K("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=pD(c),h=new Hw;return Object.assign(h,f),h})}else{const u=fD(this.apiClient,t);return s=K("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=hD(c),h=new Hw;return Object.assign(h,f),h})}}async update(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=DD(this.apiClient,t);return s=K("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>c)}else{const u=$D(this.apiClient,t);return s=K("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>c)}}async listInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=AD(t);return s=K("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=PD(c),h=new qw;return Object.assign(h,f),h})}else{const u=ED(t);return s=K("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=CD(c),h=new qw;return Object.assign(h,f),h})}}}function Dc(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Qw(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function oe(e){return this instanceof oe?(this.v=e,this):new oe(e)}function Nn(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(m){return function(g){return Promise.resolve(g).then(m,f)}}function s(m,g){r[m]&&(i[m]=function(v){return new Promise(function(_,y){o.push([m,v,_,y])>1||l(m,v)})},g&&(i[m]=g(i[m])))}function l(m,g){try{u(r[m](g))}catch(v){h(o[0][3],v)}}function u(m){m.value instanceof oe?Promise.resolve(m.value.v).then(c,f):h(o[0][2],m)}function c(m){l("next",m)}function f(m){l("throw",m)}function h(m,g){m(g),o.shift(),o.length&&l(o[0][0],o[0][1])}}function Mn(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Qw=="function"?Qw(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(a){return new Promise(function(s,l){a=e[o](a),i(s,l,a.done,a.value)})}}function i(o,a,s,l){Promise.resolve(l).then(function(u){o({value:u,done:s})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UD(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:dP(n)}function dP(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function FD(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function Zw(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let r=0;for(;r<n;)if(e[r].role==="user")t.push(e[r]),r++;else{const i=[];let o=!0;for(;r<n&&e[r].role==="model";)i.push(e[r]),o&&!dP(e[r])&&(o=!1),r++;o?t.push(...i):t.pop()}return t}class jD{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new BD(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class BD{constructor(t,n,r,i={},o=[]){this.apiClient=t,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),FD(o)}async sendMessage(t){var n;await this.sendPromise;const r=xt(t.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,a,s;const l=await i,u=(a=(o=l.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content,c=l.automaticFunctionCallingHistory,f=this.getHistory(!0).length;let h=[];c!=null&&(h=(s=c.slice(f))!==null&&s!==void 0?s:[]);const m=u?[u]:[];this.recordHistory(r,m,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(t){var n;await this.sendPromise;const r=xt(t.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(t=!1){const n=t?Zw(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){return Nn(this,arguments,function*(){var i,o,a,s,l,u;const c=[];try{for(var f=!0,h=Mn(t),m;m=yield oe(h.next()),i=m.done,!i;f=!0){s=m.value,f=!1;const g=s;if(UD(g)){const v=(u=(l=g.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content;v!==void 0&&c.push(v)}yield yield oe(g)}}catch(g){o={error:g}}finally{try{!f&&!i&&(a=h.return)&&(yield oe(a.call(h)))}finally{if(o)throw o.error}}this.recordHistory(n,c)})}recordHistory(t,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...Zw(r)):this.history.push(t),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class el extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,el.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VD(e){const t={},n=d(e,["file"]);return n!=null&&p(t,["file"],n),t}function GD(e){const t={},n=d(e,["sdkHttpResponse"]);return n!=null&&p(t,["sdkHttpResponse"],n),t}function HD(e){const t={},n=d(e,["name"]);return n!=null&&p(t,["_url","file"],oP(n)),t}function qD(e){const t={},n=d(e,["sdkHttpResponse"]);return n!=null&&p(t,["sdkHttpResponse"],n),t}function zD(e){const t={},n=d(e,["name"]);return n!=null&&p(t,["_url","file"],oP(n)),t}function WD(e){const t={},n=d(e,["uris"]);return n!=null&&p(t,["uris"],n),t}function KD(e,t){const n={},r=d(e,["pageSize"]);t!==void 0&&r!=null&&p(t,["_query","pageSize"],r);const i=d(e,["pageToken"]);return t!==void 0&&i!=null&&p(t,["_query","pageToken"],i),n}function JD(e){const t={},n=d(e,["config"]);return n!=null&&KD(n,t),t}function YD(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=d(e,["nextPageToken"]);r!=null&&p(t,["nextPageToken"],r);const i=d(e,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(t,["files"],o)}return t}function XD(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=d(e,["files"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),p(t,["files"],i)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class QD extends wr{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Ji(pr.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async registerFiles(t){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(t){return this.registerFilesInternal(t)}async listInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=JD(t);return o=K("files",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=YD(l),c=new ZM;return Object.assign(c,u),c})}}async createInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=VD(t);return o=K("upload/v1beta/files",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=GD(l),c=new e$;return Object.assign(c,u),c})}}async get(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=zD(t);return o=K("files/{file}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=HD(t);return o=K("files/{file}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=qD(l),c=new t$;return Object.assign(c,u),c})}}async registerFilesInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=WD(t);return o=K("files:register",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=XD(l),c=new n$;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sc(e){const t={},n=d(e,["data"]);if(n!=null&&p(t,["data"],n),d(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(e,["mimeType"]);return r!=null&&p(t,["mimeType"],r),t}function ZD(e){const t={},n=d(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>mL(o))),p(t,["parts"],i)}const r=d(e,["role"]);return r!=null&&p(t,["role"],r),t}function eL(e){const t={};if(d(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(e,["fileUri"]);n!=null&&p(t,["fileUri"],n);const r=d(e,["mimeType"]);return r!=null&&p(t,["mimeType"],r),t}function tL(e){const t={},n=d(e,["id"]);n!=null&&p(t,["id"],n);const r=d(e,["args"]);r!=null&&p(t,["args"],r);const i=d(e,["name"]);if(i!=null&&p(t,["name"],i),d(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function nL(e){const t={},n=d(e,["description"]);n!=null&&p(t,["description"],n);const r=d(e,["name"]);r!=null&&p(t,["name"],r);const i=d(e,["parameters"]);i!=null&&p(t,["parameters"],i);const o=d(e,["parametersJsonSchema"]);o!=null&&p(t,["parametersJsonSchema"],o);const a=d(e,["response"]);a!=null&&p(t,["response"],a);const s=d(e,["responseJsonSchema"]);if(s!=null&&p(t,["responseJsonSchema"],s),d(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function rL(e){const t={},n=d(e,["modelSelectionConfig"]);n!=null&&p(t,["modelConfig"],n);const r=d(e,["responseJsonSchema"]);r!=null&&p(t,["responseJsonSchema"],r);const i=d(e,["audioTimestamp"]);i!=null&&p(t,["audioTimestamp"],i);const o=d(e,["candidateCount"]);o!=null&&p(t,["candidateCount"],o);const a=d(e,["enableAffectiveDialog"]);a!=null&&p(t,["enableAffectiveDialog"],a);const s=d(e,["frequencyPenalty"]);s!=null&&p(t,["frequencyPenalty"],s);const l=d(e,["logprobs"]);l!=null&&p(t,["logprobs"],l);const u=d(e,["maxOutputTokens"]);u!=null&&p(t,["maxOutputTokens"],u);const c=d(e,["mediaResolution"]);c!=null&&p(t,["mediaResolution"],c);const f=d(e,["presencePenalty"]);f!=null&&p(t,["presencePenalty"],f);const h=d(e,["responseLogprobs"]);h!=null&&p(t,["responseLogprobs"],h);const m=d(e,["responseMimeType"]);m!=null&&p(t,["responseMimeType"],m);const g=d(e,["responseModalities"]);g!=null&&p(t,["responseModalities"],g);const v=d(e,["responseSchema"]);v!=null&&p(t,["responseSchema"],v);const _=d(e,["routingConfig"]);_!=null&&p(t,["routingConfig"],_);const y=d(e,["seed"]);y!=null&&p(t,["seed"],y);const w=d(e,["speechConfig"]);w!=null&&p(t,["speechConfig"],w);const b=d(e,["stopSequences"]);b!=null&&p(t,["stopSequences"],b);const T=d(e,["temperature"]);T!=null&&p(t,["temperature"],T);const S=d(e,["thinkingConfig"]);S!=null&&p(t,["thinkingConfig"],S);const x=d(e,["topK"]);x!=null&&p(t,["topK"],x);const E=d(e,["topP"]);if(E!=null&&p(t,["topP"],E),d(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function iL(e){const t={};if(d(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(e,["enableWidget"]);return n!=null&&p(t,["enableWidget"],n),t}function oL(e){const t={};if(d(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(e,["timeRangeFilter"]);return n!=null&&p(t,["timeRangeFilter"],n),t}function aL(e,t){const n={},r=d(e,["generationConfig"]);t!==void 0&&r!=null&&p(t,["setup","generationConfig"],r);const i=d(e,["responseModalities"]);t!==void 0&&i!=null&&p(t,["setup","generationConfig","responseModalities"],i);const o=d(e,["temperature"]);t!==void 0&&o!=null&&p(t,["setup","generationConfig","temperature"],o);const a=d(e,["topP"]);t!==void 0&&a!=null&&p(t,["setup","generationConfig","topP"],a);const s=d(e,["topK"]);t!==void 0&&s!=null&&p(t,["setup","generationConfig","topK"],s);const l=d(e,["maxOutputTokens"]);t!==void 0&&l!=null&&p(t,["setup","generationConfig","maxOutputTokens"],l);const u=d(e,["mediaResolution"]);t!==void 0&&u!=null&&p(t,["setup","generationConfig","mediaResolution"],u);const c=d(e,["seed"]);t!==void 0&&c!=null&&p(t,["setup","generationConfig","seed"],c);const f=d(e,["speechConfig"]);t!==void 0&&f!=null&&p(t,["setup","generationConfig","speechConfig"],my(f));const h=d(e,["thinkingConfig"]);t!==void 0&&h!=null&&p(t,["setup","generationConfig","thinkingConfig"],h);const m=d(e,["enableAffectiveDialog"]);t!==void 0&&m!=null&&p(t,["setup","generationConfig","enableAffectiveDialog"],m);const g=d(e,["systemInstruction"]);t!==void 0&&g!=null&&p(t,["setup","systemInstruction"],ZD(xt(g)));const v=d(e,["tools"]);if(t!==void 0&&v!=null){let x=Oa(v);Array.isArray(x)&&(x=x.map(E=>vL(Ia(E)))),p(t,["setup","tools"],x)}const _=d(e,["sessionResumption"]);t!==void 0&&_!=null&&p(t,["setup","sessionResumption"],gL(_));const y=d(e,["inputAudioTranscription"]);t!==void 0&&y!=null&&p(t,["setup","inputAudioTranscription"],y);const w=d(e,["outputAudioTranscription"]);t!==void 0&&w!=null&&p(t,["setup","outputAudioTranscription"],w);const b=d(e,["realtimeInputConfig"]);t!==void 0&&b!=null&&p(t,["setup","realtimeInputConfig"],b);const T=d(e,["contextWindowCompression"]);t!==void 0&&T!=null&&p(t,["setup","contextWindowCompression"],T);const S=d(e,["proactivity"]);if(t!==void 0&&S!=null&&p(t,["setup","proactivity"],S),d(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function sL(e,t){const n={},r=d(e,["generationConfig"]);t!==void 0&&r!=null&&p(t,["setup","generationConfig"],rL(r));const i=d(e,["responseModalities"]);t!==void 0&&i!=null&&p(t,["setup","generationConfig","responseModalities"],i);const o=d(e,["temperature"]);t!==void 0&&o!=null&&p(t,["setup","generationConfig","temperature"],o);const a=d(e,["topP"]);t!==void 0&&a!=null&&p(t,["setup","generationConfig","topP"],a);const s=d(e,["topK"]);t!==void 0&&s!=null&&p(t,["setup","generationConfig","topK"],s);const l=d(e,["maxOutputTokens"]);t!==void 0&&l!=null&&p(t,["setup","generationConfig","maxOutputTokens"],l);const u=d(e,["mediaResolution"]);t!==void 0&&u!=null&&p(t,["setup","generationConfig","mediaResolution"],u);const c=d(e,["seed"]);t!==void 0&&c!=null&&p(t,["setup","generationConfig","seed"],c);const f=d(e,["speechConfig"]);t!==void 0&&f!=null&&p(t,["setup","generationConfig","speechConfig"],my(f));const h=d(e,["thinkingConfig"]);t!==void 0&&h!=null&&p(t,["setup","generationConfig","thinkingConfig"],h);const m=d(e,["enableAffectiveDialog"]);t!==void 0&&m!=null&&p(t,["setup","generationConfig","enableAffectiveDialog"],m);const g=d(e,["systemInstruction"]);t!==void 0&&g!=null&&p(t,["setup","systemInstruction"],xt(g));const v=d(e,["tools"]);if(t!==void 0&&v!=null){let E=Oa(v);Array.isArray(E)&&(E=E.map(C=>yL(Ia(C)))),p(t,["setup","tools"],E)}const _=d(e,["sessionResumption"]);t!==void 0&&_!=null&&p(t,["setup","sessionResumption"],_);const y=d(e,["inputAudioTranscription"]);t!==void 0&&y!=null&&p(t,["setup","inputAudioTranscription"],y);const w=d(e,["outputAudioTranscription"]);t!==void 0&&w!=null&&p(t,["setup","outputAudioTranscription"],w);const b=d(e,["realtimeInputConfig"]);t!==void 0&&b!=null&&p(t,["setup","realtimeInputConfig"],b);const T=d(e,["contextWindowCompression"]);t!==void 0&&T!=null&&p(t,["setup","contextWindowCompression"],T);const S=d(e,["proactivity"]);t!==void 0&&S!=null&&p(t,["setup","proactivity"],S);const x=d(e,["explicitVadSignal"]);return t!==void 0&&x!=null&&p(t,["setup","explicitVadSignal"],x),n}function lL(e,t){const n={},r=d(t,["model"]);r!=null&&p(n,["setup","model"],pe(e,r));const i=d(t,["config"]);return i!=null&&p(n,["config"],aL(i,n)),n}function uL(e,t){const n={},r=d(t,["model"]);r!=null&&p(n,["setup","model"],pe(e,r));const i=d(t,["config"]);return i!=null&&p(n,["config"],sL(i,n)),n}function cL(e){const t={},n=d(e,["musicGenerationConfig"]);return n!=null&&p(t,["musicGenerationConfig"],n),t}function fL(e){const t={},n=d(e,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),p(t,["weightedPrompts"],r)}return t}function dL(e){const t={},n=d(e,["media"]);if(n!=null){let u=eP(n);Array.isArray(u)&&(u=u.map(c=>sc(c))),p(t,["mediaChunks"],u)}const r=d(e,["audio"]);r!=null&&p(t,["audio"],sc(nP(r)));const i=d(e,["audioStreamEnd"]);i!=null&&p(t,["audioStreamEnd"],i);const o=d(e,["video"]);o!=null&&p(t,["video"],sc(tP(o)));const a=d(e,["text"]);a!=null&&p(t,["text"],a);const s=d(e,["activityStart"]);s!=null&&p(t,["activityStart"],s);const l=d(e,["activityEnd"]);return l!=null&&p(t,["activityEnd"],l),t}function hL(e){const t={},n=d(e,["media"]);if(n!=null){let u=eP(n);Array.isArray(u)&&(u=u.map(c=>c)),p(t,["mediaChunks"],u)}const r=d(e,["audio"]);r!=null&&p(t,["audio"],nP(r));const i=d(e,["audioStreamEnd"]);i!=null&&p(t,["audioStreamEnd"],i);const o=d(e,["video"]);o!=null&&p(t,["video"],tP(o));const a=d(e,["text"]);a!=null&&p(t,["text"],a);const s=d(e,["activityStart"]);s!=null&&p(t,["activityStart"],s);const l=d(e,["activityEnd"]);return l!=null&&p(t,["activityEnd"],l),t}function pL(e){const t={},n=d(e,["setupComplete"]);n!=null&&p(t,["setupComplete"],n);const r=d(e,["serverContent"]);r!=null&&p(t,["serverContent"],r);const i=d(e,["toolCall"]);i!=null&&p(t,["toolCall"],i);const o=d(e,["toolCallCancellation"]);o!=null&&p(t,["toolCallCancellation"],o);const a=d(e,["usageMetadata"]);a!=null&&p(t,["usageMetadata"],_L(a));const s=d(e,["goAway"]);s!=null&&p(t,["goAway"],s);const l=d(e,["sessionResumptionUpdate"]);l!=null&&p(t,["sessionResumptionUpdate"],l);const u=d(e,["voiceActivityDetectionSignal"]);u!=null&&p(t,["voiceActivityDetectionSignal"],u);const c=d(e,["voiceActivity"]);return c!=null&&p(t,["voiceActivity"],wL(c)),t}function mL(e){const t={},n=d(e,["mediaResolution"]);n!=null&&p(t,["mediaResolution"],n);const r=d(e,["codeExecutionResult"]);r!=null&&p(t,["codeExecutionResult"],r);const i=d(e,["executableCode"]);i!=null&&p(t,["executableCode"],i);const o=d(e,["fileData"]);o!=null&&p(t,["fileData"],eL(o));const a=d(e,["functionCall"]);a!=null&&p(t,["functionCall"],tL(a));const s=d(e,["functionResponse"]);s!=null&&p(t,["functionResponse"],s);const l=d(e,["inlineData"]);l!=null&&p(t,["inlineData"],sc(l));const u=d(e,["text"]);u!=null&&p(t,["text"],u);const c=d(e,["thought"]);c!=null&&p(t,["thought"],c);const f=d(e,["thoughtSignature"]);f!=null&&p(t,["thoughtSignature"],f);const h=d(e,["videoMetadata"]);return h!=null&&p(t,["videoMetadata"],h),t}function gL(e){const t={},n=d(e,["handle"]);if(n!=null&&p(t,["handle"],n),d(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function vL(e){const t={};if(d(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=d(e,["computerUse"]);n!=null&&p(t,["computerUse"],n);const r=d(e,["fileSearch"]);r!=null&&p(t,["fileSearch"],r);const i=d(e,["codeExecution"]);if(i!=null&&p(t,["codeExecution"],i),d(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=d(e,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>f)),p(t,["functionDeclarations"],c)}const a=d(e,["googleMaps"]);a!=null&&p(t,["googleMaps"],iL(a));const s=d(e,["googleSearch"]);s!=null&&p(t,["googleSearch"],oL(s));const l=d(e,["googleSearchRetrieval"]);l!=null&&p(t,["googleSearchRetrieval"],l);const u=d(e,["urlContext"]);return u!=null&&p(t,["urlContext"],u),t}function yL(e){const t={},n=d(e,["retrieval"]);n!=null&&p(t,["retrieval"],n);const r=d(e,["computerUse"]);if(r!=null&&p(t,["computerUse"],r),d(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=d(e,["codeExecution"]);i!=null&&p(t,["codeExecution"],i);const o=d(e,["enterpriseWebSearch"]);o!=null&&p(t,["enterpriseWebSearch"],o);const a=d(e,["functionDeclarations"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(h=>nL(h))),p(t,["functionDeclarations"],f)}const s=d(e,["googleMaps"]);s!=null&&p(t,["googleMaps"],s);const l=d(e,["googleSearch"]);l!=null&&p(t,["googleSearch"],l);const u=d(e,["googleSearchRetrieval"]);u!=null&&p(t,["googleSearchRetrieval"],u);const c=d(e,["urlContext"]);return c!=null&&p(t,["urlContext"],c),t}function _L(e){const t={},n=d(e,["promptTokenCount"]);n!=null&&p(t,["promptTokenCount"],n);const r=d(e,["cachedContentTokenCount"]);r!=null&&p(t,["cachedContentTokenCount"],r);const i=d(e,["candidatesTokenCount"]);i!=null&&p(t,["responseTokenCount"],i);const o=d(e,["toolUsePromptTokenCount"]);o!=null&&p(t,["toolUsePromptTokenCount"],o);const a=d(e,["thoughtsTokenCount"]);a!=null&&p(t,["thoughtsTokenCount"],a);const s=d(e,["totalTokenCount"]);s!=null&&p(t,["totalTokenCount"],s);const l=d(e,["promptTokensDetails"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(g=>g)),p(t,["promptTokensDetails"],m)}const u=d(e,["cacheTokensDetails"]);if(u!=null){let m=u;Array.isArray(m)&&(m=m.map(g=>g)),p(t,["cacheTokensDetails"],m)}const c=d(e,["candidatesTokensDetails"]);if(c!=null){let m=c;Array.isArray(m)&&(m=m.map(g=>g)),p(t,["responseTokensDetails"],m)}const f=d(e,["toolUsePromptTokensDetails"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(g=>g)),p(t,["toolUsePromptTokensDetails"],m)}const h=d(e,["trafficType"]);return h!=null&&p(t,["trafficType"],h),t}function wL(e){const t={},n=d(e,["type"]);return n!=null&&p(t,["voiceActivityType"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bL(e,t){const n={},r=d(e,["data"]);if(r!=null&&p(n,["data"],r),d(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(e,["mimeType"]);return i!=null&&p(n,["mimeType"],i),n}function SL(e,t){const n={},r=d(e,["content"]);r!=null&&p(n,["content"],r);const i=d(e,["citationMetadata"]);i!=null&&p(n,["citationMetadata"],xL(i));const o=d(e,["tokenCount"]);o!=null&&p(n,["tokenCount"],o);const a=d(e,["finishReason"]);a!=null&&p(n,["finishReason"],a);const s=d(e,["avgLogprobs"]);s!=null&&p(n,["avgLogprobs"],s);const l=d(e,["groundingMetadata"]);l!=null&&p(n,["groundingMetadata"],l);const u=d(e,["index"]);u!=null&&p(n,["index"],u);const c=d(e,["logprobsResult"]);c!=null&&p(n,["logprobsResult"],c);const f=d(e,["safetyRatings"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(g=>g)),p(n,["safetyRatings"],m)}const h=d(e,["urlContextMetadata"]);return h!=null&&p(n,["urlContextMetadata"],h),n}function xL(e,t){const n={},r=d(e,["citationSources"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),p(n,["citations"],i)}return n}function TL(e,t,n){const r={},i=d(t,["model"]);i!=null&&p(r,["_url","model"],pe(e,i));const o=d(t,["contents"]);if(o!=null){let a=hn(o);Array.isArray(a)&&(a=a.map(s=>s)),p(r,["contents"],a)}return r}function EL(e,t){const n={},r=d(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(e,["tokensInfo"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(n,["tokensInfo"],o)}return n}function AL(e,t){const n={},r=d(e,["values"]);r!=null&&p(n,["values"],r);const i=d(e,["statistics"]);return i!=null&&p(n,["statistics"],CL(i)),n}function CL(e,t){const n={},r=d(e,["truncated"]);r!=null&&p(n,["truncated"],r);const i=d(e,["token_count"]);return i!=null&&p(n,["tokenCount"],i),n}function od(e,t){const n={},r=d(e,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>D2(a))),p(n,["parts"],o)}const i=d(e,["role"]);return i!=null&&p(n,["role"],i),n}function PL(e,t){const n={},r=d(e,["controlType"]);r!=null&&p(n,["controlType"],r);const i=d(e,["enableControlImageComputation"]);return i!=null&&p(n,["computeControl"],i),n}function IL(e,t){const n={};if(d(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function OL(e,t,n){const r={},i=d(e,["systemInstruction"]);t!==void 0&&i!=null&&p(t,["systemInstruction"],xt(i));const o=d(e,["tools"]);if(t!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>gP(l))),p(t,["tools"],s)}const a=d(e,["generationConfig"]);return t!==void 0&&a!=null&&p(t,["generationConfig"],b2(a)),r}function kL(e,t,n){const r={},i=d(t,["model"]);i!=null&&p(r,["_url","model"],pe(e,i));const o=d(t,["contents"]);if(o!=null){let s=hn(o);Array.isArray(s)&&(s=s.map(l=>od(l))),p(r,["contents"],s)}const a=d(t,["config"]);return a!=null&&IL(a),r}function RL(e,t,n){const r={},i=d(t,["model"]);i!=null&&p(r,["_url","model"],pe(e,i));const o=d(t,["contents"]);if(o!=null){let s=hn(o);Array.isArray(s)&&(s=s.map(l=>l)),p(r,["contents"],s)}const a=d(t,["config"]);return a!=null&&OL(a,r),r}function NL(e,t){const n={},r=d(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(e,["totalTokens"]);i!=null&&p(n,["totalTokens"],i);const o=d(e,["cachedContentTokenCount"]);return o!=null&&p(n,["cachedContentTokenCount"],o),n}function ML(e,t){const n={},r=d(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(e,["totalTokens"]);return i!=null&&p(n,["totalTokens"],i),n}function $L(e,t,n){const r={},i=d(t,["model"]);return i!=null&&p(r,["_url","name"],pe(e,i)),r}function DL(e,t,n){const r={},i=d(t,["model"]);return i!=null&&p(r,["_url","name"],pe(e,i)),r}function LL(e,t){const n={},r=d(e,["sdkHttpResponse"]);return r!=null&&p(n,["sdkHttpResponse"],r),n}function UL(e,t){const n={},r=d(e,["sdkHttpResponse"]);return r!=null&&p(n,["sdkHttpResponse"],r),n}function FL(e,t,n){const r={},i=d(e,["outputGcsUri"]);t!==void 0&&i!=null&&p(t,["parameters","storageUri"],i);const o=d(e,["negativePrompt"]);t!==void 0&&o!=null&&p(t,["parameters","negativePrompt"],o);const a=d(e,["numberOfImages"]);t!==void 0&&a!=null&&p(t,["parameters","sampleCount"],a);const s=d(e,["aspectRatio"]);t!==void 0&&s!=null&&p(t,["parameters","aspectRatio"],s);const l=d(e,["guidanceScale"]);t!==void 0&&l!=null&&p(t,["parameters","guidanceScale"],l);const u=d(e,["seed"]);t!==void 0&&u!=null&&p(t,["parameters","seed"],u);const c=d(e,["safetyFilterLevel"]);t!==void 0&&c!=null&&p(t,["parameters","safetySetting"],c);const f=d(e,["personGeneration"]);t!==void 0&&f!=null&&p(t,["parameters","personGeneration"],f);const h=d(e,["includeSafetyAttributes"]);t!==void 0&&h!=null&&p(t,["parameters","includeSafetyAttributes"],h);const m=d(e,["includeRaiReason"]);t!==void 0&&m!=null&&p(t,["parameters","includeRaiReason"],m);const g=d(e,["language"]);t!==void 0&&g!=null&&p(t,["parameters","language"],g);const v=d(e,["outputMimeType"]);t!==void 0&&v!=null&&p(t,["parameters","outputOptions","mimeType"],v);const _=d(e,["outputCompressionQuality"]);t!==void 0&&_!=null&&p(t,["parameters","outputOptions","compressionQuality"],_);const y=d(e,["addWatermark"]);t!==void 0&&y!=null&&p(t,["parameters","addWatermark"],y);const w=d(e,["labels"]);t!==void 0&&w!=null&&p(t,["labels"],w);const b=d(e,["editMode"]);t!==void 0&&b!=null&&p(t,["parameters","editMode"],b);const T=d(e,["baseSteps"]);return t!==void 0&&T!=null&&p(t,["parameters","editConfig","baseSteps"],T),r}function jL(e,t,n){const r={},i=d(t,["model"]);i!=null&&p(r,["_url","model"],pe(e,i));const o=d(t,["prompt"]);o!=null&&p(r,["instances[0]","prompt"],o);const a=d(t,["referenceImages"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>V2(u))),p(r,["instances[0]","referenceImages"],l)}const s=d(t,["config"]);return s!=null&&FL(s,r),r}function BL(e,t){const n={},r=d(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(e,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>ad(a))),p(n,["generatedImages"],o)}return n}function VL(e,t,n){const r={},i=d(e,["taskType"]);t!==void 0&&i!=null&&p(t,["requests[]","taskType"],i);const o=d(e,["title"]);t!==void 0&&o!=null&&p(t,["requests[]","title"],o);const a=d(e,["outputDimensionality"]);if(t!==void 0&&a!=null&&p(t,["requests[]","outputDimensionality"],a),d(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function GL(e,t,n){const r={},i=d(e,["taskType"]);t!==void 0&&i!=null&&p(t,["instances[]","task_type"],i);const o=d(e,["title"]);t!==void 0&&o!=null&&p(t,["instances[]","title"],o);const a=d(e,["outputDimensionality"]);t!==void 0&&a!=null&&p(t,["parameters","outputDimensionality"],a);const s=d(e,["mimeType"]);t!==void 0&&s!=null&&p(t,["instances[]","mimeType"],s);const l=d(e,["autoTruncate"]);return t!==void 0&&l!=null&&p(t,["parameters","autoTruncate"],l),r}function HL(e,t,n){const r={},i=d(t,["model"]);i!=null&&p(r,["_url","model"],pe(e,i));const o=d(t,["contents"]);if(o!=null){let l=dy(e,o);Array.isArray(l)&&(l=l.map(u=>u)),p(r,["requests[]","content"],l)}const a=d(t,["config"]);a!=null&&VL(a,r);const s=d(t,["model"]);return s!==void 0&&p(r,["requests[]","model"],pe(e,s)),r}function qL(e,t,n){const r={},i=d(t,["model"]);i!=null&&p(r,["_url","model"],pe(e,i));const o=d(t,["contents"]);if(o!=null){let s=dy(e,o);Array.isArray(s)&&(s=s.map(l=>l)),p(r,["instances[]","content"],s)}const a=d(t,["config"]);return a!=null&&GL(a,r),r}function zL(e,t){const n={},r=d(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(e,["embeddings"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),p(n,["embeddings"],a)}const o=d(e,["metadata"]);return o!=null&&p(n,["metadata"],o),n}function WL(e,t){const n={},r=d(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(e,["predictions[]","embeddings"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>AL(s))),p(n,["embeddings"],a)}const o=d(e,["metadata"]);return o!=null&&p(n,["metadata"],o),n}function KL(e,t){const n={},r=d(e,["endpoint"]);r!=null&&p(n,["name"],r);const i=d(e,["deployedModelId"]);return i!=null&&p(n,["deployedModelId"],i),n}function JL(e,t){const n={};if(d(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(e,["fileUri"]);r!=null&&p(n,["fileUri"],r);const i=d(e,["mimeType"]);return i!=null&&p(n,["mimeType"],i),n}function YL(e,t){const n={},r=d(e,["id"]);r!=null&&p(n,["id"],r);const i=d(e,["args"]);i!=null&&p(n,["args"],i);const o=d(e,["name"]);if(o!=null&&p(n,["name"],o),d(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function XL(e,t){const n={},r=d(e,["allowedFunctionNames"]);r!=null&&p(n,["allowedFunctionNames"],r);const i=d(e,["mode"]);if(i!=null&&p(n,["mode"],i),d(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function QL(e,t){const n={},r=d(e,["description"]);r!=null&&p(n,["description"],r);const i=d(e,["name"]);i!=null&&p(n,["name"],i);const o=d(e,["parameters"]);o!=null&&p(n,["parameters"],o);const a=d(e,["parametersJsonSchema"]);a!=null&&p(n,["parametersJsonSchema"],a);const s=d(e,["response"]);s!=null&&p(n,["response"],s);const l=d(e,["responseJsonSchema"]);if(l!=null&&p(n,["responseJsonSchema"],l),d(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return n}function ZL(e,t,n,r){const i={},o=d(t,["systemInstruction"]);n!==void 0&&o!=null&&p(n,["systemInstruction"],od(xt(o)));const a=d(t,["temperature"]);a!=null&&p(i,["temperature"],a);const s=d(t,["topP"]);s!=null&&p(i,["topP"],s);const l=d(t,["topK"]);l!=null&&p(i,["topK"],l);const u=d(t,["candidateCount"]);u!=null&&p(i,["candidateCount"],u);const c=d(t,["maxOutputTokens"]);c!=null&&p(i,["maxOutputTokens"],c);const f=d(t,["stopSequences"]);f!=null&&p(i,["stopSequences"],f);const h=d(t,["responseLogprobs"]);h!=null&&p(i,["responseLogprobs"],h);const m=d(t,["logprobs"]);m!=null&&p(i,["logprobs"],m);const g=d(t,["presencePenalty"]);g!=null&&p(i,["presencePenalty"],g);const v=d(t,["frequencyPenalty"]);v!=null&&p(i,["frequencyPenalty"],v);const _=d(t,["seed"]);_!=null&&p(i,["seed"],_);const y=d(t,["responseMimeType"]);y!=null&&p(i,["responseMimeType"],y);const w=d(t,["responseSchema"]);w!=null&&p(i,["responseSchema"],hy(w));const b=d(t,["responseJsonSchema"]);if(b!=null&&p(i,["responseJsonSchema"],b),d(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const T=d(t,["safetySettings"]);if(n!==void 0&&T!=null){let M=T;Array.isArray(M)&&(M=M.map(D=>G2(D))),p(n,["safetySettings"],M)}const S=d(t,["tools"]);if(n!==void 0&&S!=null){let M=Oa(S);Array.isArray(M)&&(M=M.map(D=>Y2(Ia(D)))),p(n,["tools"],M)}const x=d(t,["toolConfig"]);if(n!==void 0&&x!=null&&p(n,["toolConfig"],J2(x)),d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=d(t,["cachedContent"]);n!==void 0&&E!=null&&p(n,["cachedContent"],br(e,E));const C=d(t,["responseModalities"]);C!=null&&p(i,["responseModalities"],C);const P=d(t,["mediaResolution"]);P!=null&&p(i,["mediaResolution"],P);const O=d(t,["speechConfig"]);if(O!=null&&p(i,["speechConfig"],py(O)),d(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const R=d(t,["thinkingConfig"]);R!=null&&p(i,["thinkingConfig"],R);const k=d(t,["imageConfig"]);k!=null&&p(i,["imageConfig"],A2(k));const $=d(t,["enableEnhancedCivicAnswers"]);if($!=null&&p(i,["enableEnhancedCivicAnswers"],$),d(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return i}function e2(e,t,n,r){const i={},o=d(t,["systemInstruction"]);n!==void 0&&o!=null&&p(n,["systemInstruction"],xt(o));const a=d(t,["temperature"]);a!=null&&p(i,["temperature"],a);const s=d(t,["topP"]);s!=null&&p(i,["topP"],s);const l=d(t,["topK"]);l!=null&&p(i,["topK"],l);const u=d(t,["candidateCount"]);u!=null&&p(i,["candidateCount"],u);const c=d(t,["maxOutputTokens"]);c!=null&&p(i,["maxOutputTokens"],c);const f=d(t,["stopSequences"]);f!=null&&p(i,["stopSequences"],f);const h=d(t,["responseLogprobs"]);h!=null&&p(i,["responseLogprobs"],h);const m=d(t,["logprobs"]);m!=null&&p(i,["logprobs"],m);const g=d(t,["presencePenalty"]);g!=null&&p(i,["presencePenalty"],g);const v=d(t,["frequencyPenalty"]);v!=null&&p(i,["frequencyPenalty"],v);const _=d(t,["seed"]);_!=null&&p(i,["seed"],_);const y=d(t,["responseMimeType"]);y!=null&&p(i,["responseMimeType"],y);const w=d(t,["responseSchema"]);w!=null&&p(i,["responseSchema"],hy(w));const b=d(t,["responseJsonSchema"]);b!=null&&p(i,["responseJsonSchema"],b);const T=d(t,["routingConfig"]);T!=null&&p(i,["routingConfig"],T);const S=d(t,["modelSelectionConfig"]);S!=null&&p(i,["modelConfig"],S);const x=d(t,["safetySettings"]);if(n!==void 0&&x!=null){let N=x;Array.isArray(N)&&(N=N.map(j=>j)),p(n,["safetySettings"],N)}const E=d(t,["tools"]);if(n!==void 0&&E!=null){let N=Oa(E);Array.isArray(N)&&(N=N.map(j=>gP(Ia(j)))),p(n,["tools"],N)}const C=d(t,["toolConfig"]);n!==void 0&&C!=null&&p(n,["toolConfig"],C);const P=d(t,["labels"]);n!==void 0&&P!=null&&p(n,["labels"],P);const O=d(t,["cachedContent"]);n!==void 0&&O!=null&&p(n,["cachedContent"],br(e,O));const R=d(t,["responseModalities"]);R!=null&&p(i,["responseModalities"],R);const k=d(t,["mediaResolution"]);k!=null&&p(i,["mediaResolution"],k);const $=d(t,["speechConfig"]);$!=null&&p(i,["speechConfig"],py($));const M=d(t,["audioTimestamp"]);M!=null&&p(i,["audioTimestamp"],M);const D=d(t,["thinkingConfig"]);D!=null&&p(i,["thinkingConfig"],D);const F=d(t,["imageConfig"]);if(F!=null&&p(i,["imageConfig"],C2(F)),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const V=d(t,["modelArmorConfig"]);return n!==void 0&&V!=null&&p(n,["modelArmorConfig"],V),i}function eb(e,t,n){const r={},i=d(t,["model"]);i!=null&&p(r,["_url","model"],pe(e,i));const o=d(t,["contents"]);if(o!=null){let s=hn(o);Array.isArray(s)&&(s=s.map(l=>od(l))),p(r,["contents"],s)}const a=d(t,["config"]);return a!=null&&p(r,["generationConfig"],ZL(e,a,r)),r}function tb(e,t,n){const r={},i=d(t,["model"]);i!=null&&p(r,["_url","model"],pe(e,i));const o=d(t,["contents"]);if(o!=null){let s=hn(o);Array.isArray(s)&&(s=s.map(l=>l)),p(r,["contents"],s)}const a=d(t,["config"]);return a!=null&&p(r,["generationConfig"],e2(e,a,r)),r}function nb(e,t){const n={},r=d(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(e,["candidates"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>SL(c))),p(n,["candidates"],u)}const o=d(e,["modelVersion"]);o!=null&&p(n,["modelVersion"],o);const a=d(e,["promptFeedback"]);a!=null&&p(n,["promptFeedback"],a);const s=d(e,["responseId"]);s!=null&&p(n,["responseId"],s);const l=d(e,["usageMetadata"]);return l!=null&&p(n,["usageMetadata"],l),n}function rb(e,t){const n={},r=d(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(e,["candidates"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>f)),p(n,["candidates"],c)}const o=d(e,["createTime"]);o!=null&&p(n,["createTime"],o);const a=d(e,["modelVersion"]);a!=null&&p(n,["modelVersion"],a);const s=d(e,["promptFeedback"]);s!=null&&p(n,["promptFeedback"],s);const l=d(e,["responseId"]);l!=null&&p(n,["responseId"],l);const u=d(e,["usageMetadata"]);return u!=null&&p(n,["usageMetadata"],u),n}function t2(e,t,n){const r={};if(d(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=d(e,["numberOfImages"]);t!==void 0&&i!=null&&p(t,["parameters","sampleCount"],i);const o=d(e,["aspectRatio"]);t!==void 0&&o!=null&&p(t,["parameters","aspectRatio"],o);const a=d(e,["guidanceScale"]);if(t!==void 0&&a!=null&&p(t,["parameters","guidanceScale"],a),d(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=d(e,["safetyFilterLevel"]);t!==void 0&&s!=null&&p(t,["parameters","safetySetting"],s);const l=d(e,["personGeneration"]);t!==void 0&&l!=null&&p(t,["parameters","personGeneration"],l);const u=d(e,["includeSafetyAttributes"]);t!==void 0&&u!=null&&p(t,["parameters","includeSafetyAttributes"],u);const c=d(e,["includeRaiReason"]);t!==void 0&&c!=null&&p(t,["parameters","includeRaiReason"],c);const f=d(e,["language"]);t!==void 0&&f!=null&&p(t,["parameters","language"],f);const h=d(e,["outputMimeType"]);t!==void 0&&h!=null&&p(t,["parameters","outputOptions","mimeType"],h);const m=d(e,["outputCompressionQuality"]);if(t!==void 0&&m!=null&&p(t,["parameters","outputOptions","compressionQuality"],m),d(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const g=d(e,["imageSize"]);if(t!==void 0&&g!=null&&p(t,["parameters","sampleImageSize"],g),d(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function n2(e,t,n){const r={},i=d(e,["outputGcsUri"]);t!==void 0&&i!=null&&p(t,["parameters","storageUri"],i);const o=d(e,["negativePrompt"]);t!==void 0&&o!=null&&p(t,["parameters","negativePrompt"],o);const a=d(e,["numberOfImages"]);t!==void 0&&a!=null&&p(t,["parameters","sampleCount"],a);const s=d(e,["aspectRatio"]);t!==void 0&&s!=null&&p(t,["parameters","aspectRatio"],s);const l=d(e,["guidanceScale"]);t!==void 0&&l!=null&&p(t,["parameters","guidanceScale"],l);const u=d(e,["seed"]);t!==void 0&&u!=null&&p(t,["parameters","seed"],u);const c=d(e,["safetyFilterLevel"]);t!==void 0&&c!=null&&p(t,["parameters","safetySetting"],c);const f=d(e,["personGeneration"]);t!==void 0&&f!=null&&p(t,["parameters","personGeneration"],f);const h=d(e,["includeSafetyAttributes"]);t!==void 0&&h!=null&&p(t,["parameters","includeSafetyAttributes"],h);const m=d(e,["includeRaiReason"]);t!==void 0&&m!=null&&p(t,["parameters","includeRaiReason"],m);const g=d(e,["language"]);t!==void 0&&g!=null&&p(t,["parameters","language"],g);const v=d(e,["outputMimeType"]);t!==void 0&&v!=null&&p(t,["parameters","outputOptions","mimeType"],v);const _=d(e,["outputCompressionQuality"]);t!==void 0&&_!=null&&p(t,["parameters","outputOptions","compressionQuality"],_);const y=d(e,["addWatermark"]);t!==void 0&&y!=null&&p(t,["parameters","addWatermark"],y);const w=d(e,["labels"]);t!==void 0&&w!=null&&p(t,["labels"],w);const b=d(e,["imageSize"]);t!==void 0&&b!=null&&p(t,["parameters","sampleImageSize"],b);const T=d(e,["enhancePrompt"]);return t!==void 0&&T!=null&&p(t,["parameters","enhancePrompt"],T),r}function r2(e,t,n){const r={},i=d(t,["model"]);i!=null&&p(r,["_url","model"],pe(e,i));const o=d(t,["prompt"]);o!=null&&p(r,["instances[0]","prompt"],o);const a=d(t,["config"]);return a!=null&&t2(a,r),r}function i2(e,t,n){const r={},i=d(t,["model"]);i!=null&&p(r,["_url","model"],pe(e,i));const o=d(t,["prompt"]);o!=null&&p(r,["instances[0]","prompt"],o);const a=d(t,["config"]);return a!=null&&n2(a,r),r}function o2(e,t){const n={},r=d(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(e,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>v2(s))),p(n,["generatedImages"],a)}const o=d(e,["positivePromptSafetyAttributes"]);return o!=null&&p(n,["positivePromptSafetyAttributes"],pP(o)),n}function a2(e,t){const n={},r=d(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(e,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>ad(s))),p(n,["generatedImages"],a)}const o=d(e,["positivePromptSafetyAttributes"]);return o!=null&&p(n,["positivePromptSafetyAttributes"],mP(o)),n}function s2(e,t,n){const r={},i=d(e,["numberOfVideos"]);if(t!==void 0&&i!=null&&p(t,["parameters","sampleCount"],i),d(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=d(e,["durationSeconds"]);if(t!==void 0&&o!=null&&p(t,["parameters","durationSeconds"],o),d(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=d(e,["aspectRatio"]);t!==void 0&&a!=null&&p(t,["parameters","aspectRatio"],a);const s=d(e,["resolution"]);t!==void 0&&s!=null&&p(t,["parameters","resolution"],s);const l=d(e,["personGeneration"]);if(t!==void 0&&l!=null&&p(t,["parameters","personGeneration"],l),d(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const u=d(e,["negativePrompt"]);t!==void 0&&u!=null&&p(t,["parameters","negativePrompt"],u);const c=d(e,["enhancePrompt"]);if(t!==void 0&&c!=null&&p(t,["parameters","enhancePrompt"],c),d(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const f=d(e,["lastFrame"]);t!==void 0&&f!=null&&p(t,["instances[0]","lastFrame"],sd(f));const h=d(e,["referenceImages"]);if(t!==void 0&&h!=null){let m=h;Array.isArray(m)&&(m=m.map(g=>uU(g))),p(t,["instances[0]","referenceImages"],m)}if(d(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(d(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return r}function l2(e,t,n){const r={},i=d(e,["numberOfVideos"]);t!==void 0&&i!=null&&p(t,["parameters","sampleCount"],i);const o=d(e,["outputGcsUri"]);t!==void 0&&o!=null&&p(t,["parameters","storageUri"],o);const a=d(e,["fps"]);t!==void 0&&a!=null&&p(t,["parameters","fps"],a);const s=d(e,["durationSeconds"]);t!==void 0&&s!=null&&p(t,["parameters","durationSeconds"],s);const l=d(e,["seed"]);t!==void 0&&l!=null&&p(t,["parameters","seed"],l);const u=d(e,["aspectRatio"]);t!==void 0&&u!=null&&p(t,["parameters","aspectRatio"],u);const c=d(e,["resolution"]);t!==void 0&&c!=null&&p(t,["parameters","resolution"],c);const f=d(e,["personGeneration"]);t!==void 0&&f!=null&&p(t,["parameters","personGeneration"],f);const h=d(e,["pubsubTopic"]);t!==void 0&&h!=null&&p(t,["parameters","pubsubTopic"],h);const m=d(e,["negativePrompt"]);t!==void 0&&m!=null&&p(t,["parameters","negativePrompt"],m);const g=d(e,["enhancePrompt"]);t!==void 0&&g!=null&&p(t,["parameters","enhancePrompt"],g);const v=d(e,["generateAudio"]);t!==void 0&&v!=null&&p(t,["parameters","generateAudio"],v);const _=d(e,["lastFrame"]);t!==void 0&&_!=null&&p(t,["instances[0]","lastFrame"],Ln(_));const y=d(e,["referenceImages"]);if(t!==void 0&&y!=null){let T=y;Array.isArray(T)&&(T=T.map(S=>cU(S))),p(t,["instances[0]","referenceImages"],T)}const w=d(e,["mask"]);t!==void 0&&w!=null&&p(t,["instances[0]","mask"],lU(w));const b=d(e,["compressionQuality"]);return t!==void 0&&b!=null&&p(t,["parameters","compressionQuality"],b),r}function u2(e,t){const n={},r=d(e,["name"]);r!=null&&p(n,["name"],r);const i=d(e,["metadata"]);i!=null&&p(n,["metadata"],i);const o=d(e,["done"]);o!=null&&p(n,["done"],o);const a=d(e,["error"]);a!=null&&p(n,["error"],a);const s=d(e,["response","generateVideoResponse"]);return s!=null&&p(n,["response"],h2(s)),n}function c2(e,t){const n={},r=d(e,["name"]);r!=null&&p(n,["name"],r);const i=d(e,["metadata"]);i!=null&&p(n,["metadata"],i);const o=d(e,["done"]);o!=null&&p(n,["done"],o);const a=d(e,["error"]);a!=null&&p(n,["error"],a);const s=d(e,["response"]);return s!=null&&p(n,["response"],p2(s)),n}function f2(e,t,n){const r={},i=d(t,["model"]);i!=null&&p(r,["_url","model"],pe(e,i));const o=d(t,["prompt"]);o!=null&&p(r,["instances[0]","prompt"],o);const a=d(t,["image"]);a!=null&&p(r,["instances[0]","image"],sd(a));const s=d(t,["video"]);s!=null&&p(r,["instances[0]","video"],vP(s));const l=d(t,["source"]);l!=null&&m2(l,r);const u=d(t,["config"]);return u!=null&&s2(u,r),r}function d2(e,t,n){const r={},i=d(t,["model"]);i!=null&&p(r,["_url","model"],pe(e,i));const o=d(t,["prompt"]);o!=null&&p(r,["instances[0]","prompt"],o);const a=d(t,["image"]);a!=null&&p(r,["instances[0]","image"],Ln(a));const s=d(t,["video"]);s!=null&&p(r,["instances[0]","video"],yP(s));const l=d(t,["source"]);l!=null&&g2(l,r);const u=d(t,["config"]);return u!=null&&l2(u,r),r}function h2(e,t){const n={},r=d(e,["generatedSamples"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>_2(s))),p(n,["generatedVideos"],a)}const i=d(e,["raiMediaFilteredCount"]);i!=null&&p(n,["raiMediaFilteredCount"],i);const o=d(e,["raiMediaFilteredReasons"]);return o!=null&&p(n,["raiMediaFilteredReasons"],o),n}function p2(e,t){const n={},r=d(e,["videos"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>w2(s))),p(n,["generatedVideos"],a)}const i=d(e,["raiMediaFilteredCount"]);i!=null&&p(n,["raiMediaFilteredCount"],i);const o=d(e,["raiMediaFilteredReasons"]);return o!=null&&p(n,["raiMediaFilteredReasons"],o),n}function m2(e,t,n){const r={},i=d(e,["prompt"]);t!==void 0&&i!=null&&p(t,["instances[0]","prompt"],i);const o=d(e,["image"]);t!==void 0&&o!=null&&p(t,["instances[0]","image"],sd(o));const a=d(e,["video"]);return t!==void 0&&a!=null&&p(t,["instances[0]","video"],vP(a)),r}function g2(e,t,n){const r={},i=d(e,["prompt"]);t!==void 0&&i!=null&&p(t,["instances[0]","prompt"],i);const o=d(e,["image"]);t!==void 0&&o!=null&&p(t,["instances[0]","image"],Ln(o));const a=d(e,["video"]);return t!==void 0&&a!=null&&p(t,["instances[0]","video"],yP(a)),r}function v2(e,t){const n={},r=d(e,["_self"]);r!=null&&p(n,["image"],P2(r));const i=d(e,["raiFilteredReason"]);i!=null&&p(n,["raiFilteredReason"],i);const o=d(e,["_self"]);return o!=null&&p(n,["safetyAttributes"],pP(o)),n}function ad(e,t){const n={},r=d(e,["_self"]);r!=null&&p(n,["image"],hP(r));const i=d(e,["raiFilteredReason"]);i!=null&&p(n,["raiFilteredReason"],i);const o=d(e,["_self"]);o!=null&&p(n,["safetyAttributes"],mP(o));const a=d(e,["prompt"]);return a!=null&&p(n,["enhancedPrompt"],a),n}function y2(e,t){const n={},r=d(e,["_self"]);r!=null&&p(n,["mask"],hP(r));const i=d(e,["labels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(n,["labels"],o)}return n}function _2(e,t){const n={},r=d(e,["video"]);return r!=null&&p(n,["video"],aU(r)),n}function w2(e,t){const n={},r=d(e,["_self"]);return r!=null&&p(n,["video"],sU(r)),n}function b2(e,t){const n={},r=d(e,["modelSelectionConfig"]);r!=null&&p(n,["modelConfig"],r);const i=d(e,["responseJsonSchema"]);i!=null&&p(n,["responseJsonSchema"],i);const o=d(e,["audioTimestamp"]);o!=null&&p(n,["audioTimestamp"],o);const a=d(e,["candidateCount"]);a!=null&&p(n,["candidateCount"],a);const s=d(e,["enableAffectiveDialog"]);s!=null&&p(n,["enableAffectiveDialog"],s);const l=d(e,["frequencyPenalty"]);l!=null&&p(n,["frequencyPenalty"],l);const u=d(e,["logprobs"]);u!=null&&p(n,["logprobs"],u);const c=d(e,["maxOutputTokens"]);c!=null&&p(n,["maxOutputTokens"],c);const f=d(e,["mediaResolution"]);f!=null&&p(n,["mediaResolution"],f);const h=d(e,["presencePenalty"]);h!=null&&p(n,["presencePenalty"],h);const m=d(e,["responseLogprobs"]);m!=null&&p(n,["responseLogprobs"],m);const g=d(e,["responseMimeType"]);g!=null&&p(n,["responseMimeType"],g);const v=d(e,["responseModalities"]);v!=null&&p(n,["responseModalities"],v);const _=d(e,["responseSchema"]);_!=null&&p(n,["responseSchema"],_);const y=d(e,["routingConfig"]);y!=null&&p(n,["routingConfig"],y);const w=d(e,["seed"]);w!=null&&p(n,["seed"],w);const b=d(e,["speechConfig"]);b!=null&&p(n,["speechConfig"],b);const T=d(e,["stopSequences"]);T!=null&&p(n,["stopSequences"],T);const S=d(e,["temperature"]);S!=null&&p(n,["temperature"],S);const x=d(e,["thinkingConfig"]);x!=null&&p(n,["thinkingConfig"],x);const E=d(e,["topK"]);E!=null&&p(n,["topK"],E);const C=d(e,["topP"]);if(C!=null&&p(n,["topP"],C),d(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function S2(e,t,n){const r={},i=d(t,["model"]);return i!=null&&p(r,["_url","name"],pe(e,i)),r}function x2(e,t,n){const r={},i=d(t,["model"]);return i!=null&&p(r,["_url","name"],pe(e,i)),r}function T2(e,t){const n={};if(d(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=d(e,["enableWidget"]);return r!=null&&p(n,["enableWidget"],r),n}function E2(e,t){const n={};if(d(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=d(e,["timeRangeFilter"]);return r!=null&&p(n,["timeRangeFilter"],r),n}function A2(e,t){const n={},r=d(e,["aspectRatio"]);r!=null&&p(n,["aspectRatio"],r);const i=d(e,["imageSize"]);if(i!=null&&p(n,["imageSize"],i),d(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(d(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return n}function C2(e,t){const n={},r=d(e,["aspectRatio"]);r!=null&&p(n,["aspectRatio"],r);const i=d(e,["imageSize"]);i!=null&&p(n,["imageSize"],i);const o=d(e,["personGeneration"]);o!=null&&p(n,["personGeneration"],o);const a=d(e,["outputMimeType"]);a!=null&&p(n,["imageOutputOptions","mimeType"],a);const s=d(e,["outputCompressionQuality"]);return s!=null&&p(n,["imageOutputOptions","compressionQuality"],s),n}function P2(e,t){const n={},r=d(e,["bytesBase64Encoded"]);r!=null&&p(n,["imageBytes"],ti(r));const i=d(e,["mimeType"]);return i!=null&&p(n,["mimeType"],i),n}function hP(e,t){const n={},r=d(e,["gcsUri"]);r!=null&&p(n,["gcsUri"],r);const i=d(e,["bytesBase64Encoded"]);i!=null&&p(n,["imageBytes"],ti(i));const o=d(e,["mimeType"]);return o!=null&&p(n,["mimeType"],o),n}function sd(e,t){const n={};if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=d(e,["imageBytes"]);r!=null&&p(n,["bytesBase64Encoded"],ti(r));const i=d(e,["mimeType"]);return i!=null&&p(n,["mimeType"],i),n}function Ln(e,t){const n={},r=d(e,["gcsUri"]);r!=null&&p(n,["gcsUri"],r);const i=d(e,["imageBytes"]);i!=null&&p(n,["bytesBase64Encoded"],ti(i));const o=d(e,["mimeType"]);return o!=null&&p(n,["mimeType"],o),n}function I2(e,t,n,r){const i={},o=d(t,["pageSize"]);n!==void 0&&o!=null&&p(n,["_query","pageSize"],o);const a=d(t,["pageToken"]);n!==void 0&&a!=null&&p(n,["_query","pageToken"],a);const s=d(t,["filter"]);n!==void 0&&s!=null&&p(n,["_query","filter"],s);const l=d(t,["queryBase"]);return n!==void 0&&l!=null&&p(n,["_url","models_url"],aP(e,l)),i}function O2(e,t,n,r){const i={},o=d(t,["pageSize"]);n!==void 0&&o!=null&&p(n,["_query","pageSize"],o);const a=d(t,["pageToken"]);n!==void 0&&a!=null&&p(n,["_query","pageToken"],a);const s=d(t,["filter"]);n!==void 0&&s!=null&&p(n,["_query","filter"],s);const l=d(t,["queryBase"]);return n!==void 0&&l!=null&&p(n,["_url","models_url"],aP(e,l)),i}function k2(e,t,n){const r={},i=d(t,["config"]);return i!=null&&I2(e,i,r),r}function R2(e,t,n){const r={},i=d(t,["config"]);return i!=null&&O2(e,i,r),r}function N2(e,t){const n={},r=d(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(e,["nextPageToken"]);i!=null&&p(n,["nextPageToken"],i);const o=d(e,["_self"]);if(o!=null){let a=sP(o);Array.isArray(a)&&(a=a.map(s=>bm(s))),p(n,["models"],a)}return n}function M2(e,t){const n={},r=d(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(e,["nextPageToken"]);i!=null&&p(n,["nextPageToken"],i);const o=d(e,["_self"]);if(o!=null){let a=sP(o);Array.isArray(a)&&(a=a.map(s=>Sm(s))),p(n,["models"],a)}return n}function $2(e,t){const n={},r=d(e,["maskMode"]);r!=null&&p(n,["maskMode"],r);const i=d(e,["segmentationClasses"]);i!=null&&p(n,["maskClasses"],i);const o=d(e,["maskDilation"]);return o!=null&&p(n,["dilation"],o),n}function bm(e,t){const n={},r=d(e,["name"]);r!=null&&p(n,["name"],r);const i=d(e,["displayName"]);i!=null&&p(n,["displayName"],i);const o=d(e,["description"]);o!=null&&p(n,["description"],o);const a=d(e,["version"]);a!=null&&p(n,["version"],a);const s=d(e,["_self"]);s!=null&&p(n,["tunedModelInfo"],X2(s));const l=d(e,["inputTokenLimit"]);l!=null&&p(n,["inputTokenLimit"],l);const u=d(e,["outputTokenLimit"]);u!=null&&p(n,["outputTokenLimit"],u);const c=d(e,["supportedGenerationMethods"]);c!=null&&p(n,["supportedActions"],c);const f=d(e,["temperature"]);f!=null&&p(n,["temperature"],f);const h=d(e,["maxTemperature"]);h!=null&&p(n,["maxTemperature"],h);const m=d(e,["topP"]);m!=null&&p(n,["topP"],m);const g=d(e,["topK"]);g!=null&&p(n,["topK"],g);const v=d(e,["thinking"]);return v!=null&&p(n,["thinking"],v),n}function Sm(e,t){const n={},r=d(e,["name"]);r!=null&&p(n,["name"],r);const i=d(e,["displayName"]);i!=null&&p(n,["displayName"],i);const o=d(e,["description"]);o!=null&&p(n,["description"],o);const a=d(e,["versionId"]);a!=null&&p(n,["version"],a);const s=d(e,["deployedModels"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(m=>KL(m))),p(n,["endpoints"],h)}const l=d(e,["labels"]);l!=null&&p(n,["labels"],l);const u=d(e,["_self"]);u!=null&&p(n,["tunedModelInfo"],Q2(u));const c=d(e,["defaultCheckpointId"]);c!=null&&p(n,["defaultCheckpointId"],c);const f=d(e,["checkpoints"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(m=>m)),p(n,["checkpoints"],h)}return n}function D2(e,t){const n={},r=d(e,["mediaResolution"]);r!=null&&p(n,["mediaResolution"],r);const i=d(e,["codeExecutionResult"]);i!=null&&p(n,["codeExecutionResult"],i);const o=d(e,["executableCode"]);o!=null&&p(n,["executableCode"],o);const a=d(e,["fileData"]);a!=null&&p(n,["fileData"],JL(a));const s=d(e,["functionCall"]);s!=null&&p(n,["functionCall"],YL(s));const l=d(e,["functionResponse"]);l!=null&&p(n,["functionResponse"],l);const u=d(e,["inlineData"]);u!=null&&p(n,["inlineData"],bL(u));const c=d(e,["text"]);c!=null&&p(n,["text"],c);const f=d(e,["thought"]);f!=null&&p(n,["thought"],f);const h=d(e,["thoughtSignature"]);h!=null&&p(n,["thoughtSignature"],h);const m=d(e,["videoMetadata"]);return m!=null&&p(n,["videoMetadata"],m),n}function L2(e,t){const n={},r=d(e,["productImage"]);return r!=null&&p(n,["image"],Ln(r)),n}function U2(e,t,n){const r={},i=d(e,["numberOfImages"]);t!==void 0&&i!=null&&p(t,["parameters","sampleCount"],i);const o=d(e,["baseSteps"]);t!==void 0&&o!=null&&p(t,["parameters","baseSteps"],o);const a=d(e,["outputGcsUri"]);t!==void 0&&a!=null&&p(t,["parameters","storageUri"],a);const s=d(e,["seed"]);t!==void 0&&s!=null&&p(t,["parameters","seed"],s);const l=d(e,["safetyFilterLevel"]);t!==void 0&&l!=null&&p(t,["parameters","safetySetting"],l);const u=d(e,["personGeneration"]);t!==void 0&&u!=null&&p(t,["parameters","personGeneration"],u);const c=d(e,["addWatermark"]);t!==void 0&&c!=null&&p(t,["parameters","addWatermark"],c);const f=d(e,["outputMimeType"]);t!==void 0&&f!=null&&p(t,["parameters","outputOptions","mimeType"],f);const h=d(e,["outputCompressionQuality"]);t!==void 0&&h!=null&&p(t,["parameters","outputOptions","compressionQuality"],h);const m=d(e,["enhancePrompt"]);t!==void 0&&m!=null&&p(t,["parameters","enhancePrompt"],m);const g=d(e,["labels"]);return t!==void 0&&g!=null&&p(t,["labels"],g),r}function F2(e,t,n){const r={},i=d(t,["model"]);i!=null&&p(r,["_url","model"],pe(e,i));const o=d(t,["source"]);o!=null&&B2(o,r);const a=d(t,["config"]);return a!=null&&U2(a,r),r}function j2(e,t){const n={},r=d(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>ad(o))),p(n,["generatedImages"],i)}return n}function B2(e,t,n){const r={},i=d(e,["prompt"]);t!==void 0&&i!=null&&p(t,["instances[0]","prompt"],i);const o=d(e,["personImage"]);t!==void 0&&o!=null&&p(t,["instances[0]","personImage","image"],Ln(o));const a=d(e,["productImages"]);if(t!==void 0&&a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>L2(l))),p(t,["instances[0]","productImages"],s)}return r}function V2(e,t){const n={},r=d(e,["referenceImage"]);r!=null&&p(n,["referenceImage"],Ln(r));const i=d(e,["referenceId"]);i!=null&&p(n,["referenceId"],i);const o=d(e,["referenceType"]);o!=null&&p(n,["referenceType"],o);const a=d(e,["maskImageConfig"]);a!=null&&p(n,["maskImageConfig"],$2(a));const s=d(e,["controlImageConfig"]);s!=null&&p(n,["controlImageConfig"],PL(s));const l=d(e,["styleImageConfig"]);l!=null&&p(n,["styleImageConfig"],l);const u=d(e,["subjectImageConfig"]);return u!=null&&p(n,["subjectImageConfig"],u),n}function pP(e,t){const n={},r=d(e,["safetyAttributes","categories"]);r!=null&&p(n,["categories"],r);const i=d(e,["safetyAttributes","scores"]);i!=null&&p(n,["scores"],i);const o=d(e,["contentType"]);return o!=null&&p(n,["contentType"],o),n}function mP(e,t){const n={},r=d(e,["safetyAttributes","categories"]);r!=null&&p(n,["categories"],r);const i=d(e,["safetyAttributes","scores"]);i!=null&&p(n,["scores"],i);const o=d(e,["contentType"]);return o!=null&&p(n,["contentType"],o),n}function G2(e,t){const n={},r=d(e,["category"]);if(r!=null&&p(n,["category"],r),d(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=d(e,["threshold"]);return i!=null&&p(n,["threshold"],i),n}function H2(e,t){const n={},r=d(e,["image"]);return r!=null&&p(n,["image"],Ln(r)),n}function q2(e,t,n){const r={},i=d(e,["mode"]);t!==void 0&&i!=null&&p(t,["parameters","mode"],i);const o=d(e,["maxPredictions"]);t!==void 0&&o!=null&&p(t,["parameters","maxPredictions"],o);const a=d(e,["confidenceThreshold"]);t!==void 0&&a!=null&&p(t,["parameters","confidenceThreshold"],a);const s=d(e,["maskDilation"]);t!==void 0&&s!=null&&p(t,["parameters","maskDilation"],s);const l=d(e,["binaryColorThreshold"]);t!==void 0&&l!=null&&p(t,["parameters","binaryColorThreshold"],l);const u=d(e,["labels"]);return t!==void 0&&u!=null&&p(t,["labels"],u),r}function z2(e,t,n){const r={},i=d(t,["model"]);i!=null&&p(r,["_url","model"],pe(e,i));const o=d(t,["source"]);o!=null&&K2(o,r);const a=d(t,["config"]);return a!=null&&q2(a,r),r}function W2(e,t){const n={},r=d(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>y2(o))),p(n,["generatedMasks"],i)}return n}function K2(e,t,n){const r={},i=d(e,["prompt"]);t!==void 0&&i!=null&&p(t,["instances[0]","prompt"],i);const o=d(e,["image"]);t!==void 0&&o!=null&&p(t,["instances[0]","image"],Ln(o));const a=d(e,["scribbleImage"]);return t!==void 0&&a!=null&&p(t,["instances[0]","scribble"],H2(a)),r}function J2(e,t){const n={},r=d(e,["retrievalConfig"]);r!=null&&p(n,["retrievalConfig"],r);const i=d(e,["functionCallingConfig"]);return i!=null&&p(n,["functionCallingConfig"],XL(i)),n}function Y2(e,t){const n={};if(d(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(e,["computerUse"]);r!=null&&p(n,["computerUse"],r);const i=d(e,["fileSearch"]);i!=null&&p(n,["fileSearch"],i);const o=d(e,["codeExecution"]);if(o!=null&&p(n,["codeExecution"],o),d(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=d(e,["functionDeclarations"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(h=>h)),p(n,["functionDeclarations"],f)}const s=d(e,["googleMaps"]);s!=null&&p(n,["googleMaps"],T2(s));const l=d(e,["googleSearch"]);l!=null&&p(n,["googleSearch"],E2(l));const u=d(e,["googleSearchRetrieval"]);u!=null&&p(n,["googleSearchRetrieval"],u);const c=d(e,["urlContext"]);return c!=null&&p(n,["urlContext"],c),n}function gP(e,t){const n={},r=d(e,["retrieval"]);r!=null&&p(n,["retrieval"],r);const i=d(e,["computerUse"]);if(i!=null&&p(n,["computerUse"],i),d(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=d(e,["codeExecution"]);o!=null&&p(n,["codeExecution"],o);const a=d(e,["enterpriseWebSearch"]);a!=null&&p(n,["enterpriseWebSearch"],a);const s=d(e,["functionDeclarations"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(m=>QL(m))),p(n,["functionDeclarations"],h)}const l=d(e,["googleMaps"]);l!=null&&p(n,["googleMaps"],l);const u=d(e,["googleSearch"]);u!=null&&p(n,["googleSearch"],u);const c=d(e,["googleSearchRetrieval"]);c!=null&&p(n,["googleSearchRetrieval"],c);const f=d(e,["urlContext"]);return f!=null&&p(n,["urlContext"],f),n}function X2(e,t){const n={},r=d(e,["baseModel"]);r!=null&&p(n,["baseModel"],r);const i=d(e,["createTime"]);i!=null&&p(n,["createTime"],i);const o=d(e,["updateTime"]);return o!=null&&p(n,["updateTime"],o),n}function Q2(e,t){const n={},r=d(e,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&p(n,["baseModel"],r);const i=d(e,["createTime"]);i!=null&&p(n,["createTime"],i);const o=d(e,["updateTime"]);return o!=null&&p(n,["updateTime"],o),n}function Z2(e,t,n){const r={},i=d(e,["displayName"]);t!==void 0&&i!=null&&p(t,["displayName"],i);const o=d(e,["description"]);t!==void 0&&o!=null&&p(t,["description"],o);const a=d(e,["defaultCheckpointId"]);return t!==void 0&&a!=null&&p(t,["defaultCheckpointId"],a),r}function eU(e,t,n){const r={},i=d(e,["displayName"]);t!==void 0&&i!=null&&p(t,["displayName"],i);const o=d(e,["description"]);t!==void 0&&o!=null&&p(t,["description"],o);const a=d(e,["defaultCheckpointId"]);return t!==void 0&&a!=null&&p(t,["defaultCheckpointId"],a),r}function tU(e,t,n){const r={},i=d(t,["model"]);i!=null&&p(r,["_url","name"],pe(e,i));const o=d(t,["config"]);return o!=null&&Z2(o,r),r}function nU(e,t,n){const r={},i=d(t,["model"]);i!=null&&p(r,["_url","model"],pe(e,i));const o=d(t,["config"]);return o!=null&&eU(o,r),r}function rU(e,t,n){const r={},i=d(e,["outputGcsUri"]);t!==void 0&&i!=null&&p(t,["parameters","storageUri"],i);const o=d(e,["safetyFilterLevel"]);t!==void 0&&o!=null&&p(t,["parameters","safetySetting"],o);const a=d(e,["personGeneration"]);t!==void 0&&a!=null&&p(t,["parameters","personGeneration"],a);const s=d(e,["includeRaiReason"]);t!==void 0&&s!=null&&p(t,["parameters","includeRaiReason"],s);const l=d(e,["outputMimeType"]);t!==void 0&&l!=null&&p(t,["parameters","outputOptions","mimeType"],l);const u=d(e,["outputCompressionQuality"]);t!==void 0&&u!=null&&p(t,["parameters","outputOptions","compressionQuality"],u);const c=d(e,["enhanceInputImage"]);t!==void 0&&c!=null&&p(t,["parameters","upscaleConfig","enhanceInputImage"],c);const f=d(e,["imagePreservationFactor"]);t!==void 0&&f!=null&&p(t,["parameters","upscaleConfig","imagePreservationFactor"],f);const h=d(e,["labels"]);t!==void 0&&h!=null&&p(t,["labels"],h);const m=d(e,["numberOfImages"]);t!==void 0&&m!=null&&p(t,["parameters","sampleCount"],m);const g=d(e,["mode"]);return t!==void 0&&g!=null&&p(t,["parameters","mode"],g),r}function iU(e,t,n){const r={},i=d(t,["model"]);i!=null&&p(r,["_url","model"],pe(e,i));const o=d(t,["image"]);o!=null&&p(r,["instances[0]","image"],Ln(o));const a=d(t,["upscaleFactor"]);a!=null&&p(r,["parameters","upscaleConfig","upscaleFactor"],a);const s=d(t,["config"]);return s!=null&&rU(s,r),r}function oU(e,t){const n={},r=d(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(e,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>ad(a))),p(n,["generatedImages"],o)}return n}function aU(e,t){const n={},r=d(e,["uri"]);r!=null&&p(n,["uri"],r);const i=d(e,["encodedVideo"]);i!=null&&p(n,["videoBytes"],ti(i));const o=d(e,["encoding"]);return o!=null&&p(n,["mimeType"],o),n}function sU(e,t){const n={},r=d(e,["gcsUri"]);r!=null&&p(n,["uri"],r);const i=d(e,["bytesBase64Encoded"]);i!=null&&p(n,["videoBytes"],ti(i));const o=d(e,["mimeType"]);return o!=null&&p(n,["mimeType"],o),n}function lU(e,t){const n={},r=d(e,["image"]);r!=null&&p(n,["_self"],Ln(r));const i=d(e,["maskMode"]);return i!=null&&p(n,["maskMode"],i),n}function uU(e,t){const n={},r=d(e,["image"]);r!=null&&p(n,["image"],sd(r));const i=d(e,["referenceType"]);return i!=null&&p(n,["referenceType"],i),n}function cU(e,t){const n={},r=d(e,["image"]);r!=null&&p(n,["image"],Ln(r));const i=d(e,["referenceType"]);return i!=null&&p(n,["referenceType"],i),n}function vP(e,t){const n={},r=d(e,["uri"]);r!=null&&p(n,["uri"],r);const i=d(e,["videoBytes"]);i!=null&&p(n,["encodedVideo"],ti(i));const o=d(e,["mimeType"]);return o!=null&&p(n,["encoding"],o),n}function yP(e,t){const n={},r=d(e,["uri"]);r!=null&&p(n,["gcsUri"],r);const i=d(e,["videoBytes"]);i!=null&&p(n,["bytesBase64Encoded"],ti(i));const o=d(e,["mimeType"]);return o!=null&&p(n,["mimeType"],o),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fU(e,t){const n={},r=d(e,["displayName"]);return t!==void 0&&r!=null&&p(t,["displayName"],r),n}function dU(e){const t={},n=d(e,["config"]);return n!=null&&fU(n,t),t}function hU(e,t){const n={},r=d(e,["force"]);return t!==void 0&&r!=null&&p(t,["_query","force"],r),n}function pU(e){const t={},n=d(e,["name"]);n!=null&&p(t,["_url","name"],n);const r=d(e,["config"]);return r!=null&&hU(r,t),t}function mU(e){const t={},n=d(e,["name"]);return n!=null&&p(t,["_url","name"],n),t}function gU(e,t){const n={},r=d(e,["customMetadata"]);if(t!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),p(t,["customMetadata"],o)}const i=d(e,["chunkingConfig"]);return t!==void 0&&i!=null&&p(t,["chunkingConfig"],i),n}function vU(e){const t={},n=d(e,["name"]);n!=null&&p(t,["name"],n);const r=d(e,["metadata"]);r!=null&&p(t,["metadata"],r);const i=d(e,["done"]);i!=null&&p(t,["done"],i);const o=d(e,["error"]);o!=null&&p(t,["error"],o);const a=d(e,["response"]);return a!=null&&p(t,["response"],_U(a)),t}function yU(e){const t={},n=d(e,["fileSearchStoreName"]);n!=null&&p(t,["_url","file_search_store_name"],n);const r=d(e,["fileName"]);r!=null&&p(t,["fileName"],r);const i=d(e,["config"]);return i!=null&&gU(i,t),t}function _U(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=d(e,["parent"]);r!=null&&p(t,["parent"],r);const i=d(e,["documentName"]);return i!=null&&p(t,["documentName"],i),t}function wU(e,t){const n={},r=d(e,["pageSize"]);t!==void 0&&r!=null&&p(t,["_query","pageSize"],r);const i=d(e,["pageToken"]);return t!==void 0&&i!=null&&p(t,["_query","pageToken"],i),n}function bU(e){const t={},n=d(e,["config"]);return n!=null&&wU(n,t),t}function SU(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=d(e,["nextPageToken"]);r!=null&&p(t,["nextPageToken"],r);const i=d(e,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(t,["fileSearchStores"],o)}return t}function _P(e,t){const n={},r=d(e,["mimeType"]);t!==void 0&&r!=null&&p(t,["mimeType"],r);const i=d(e,["displayName"]);t!==void 0&&i!=null&&p(t,["displayName"],i);const o=d(e,["customMetadata"]);if(t!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),p(t,["customMetadata"],s)}const a=d(e,["chunkingConfig"]);return t!==void 0&&a!=null&&p(t,["chunkingConfig"],a),n}function xU(e){const t={},n=d(e,["fileSearchStoreName"]);n!=null&&p(t,["_url","file_search_store_name"],n);const r=d(e,["config"]);return r!=null&&_P(r,t),t}function TU(e){const t={},n=d(e,["sdkHttpResponse"]);return n!=null&&p(t,["sdkHttpResponse"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const EU="Content-Type",AU="X-Server-Timeout",CU="User-Agent",xm="x-goog-api-client",PU="1.39.0",IU=`google-genai-sdk/${PU}`,OU="v1beta1",kU="v1beta";class RU{constructor(t){var n,r,i;this.clientOptions=Object.assign({},t),this.customBaseUrl=(n=t.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const o={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const s=t.project&&t.location||!!t.apiKey;this.customBaseUrl&&!s?(o.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?o.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(o.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),o.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:OU}else{if(!this.clientOptions.apiKey)throw new el({message:"API key must be set when using the Gemini API.",status:403});o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:kU,o.baseUrl="https://generativelanguage.googleapis.com/"}o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&r.push(t.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),t!==""&&i.push(t),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(t,n){return!(n.baseUrl&&n.baseUrlResourceScope===vm.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t,n),i=this.constructUrl(t.path,n,r);if(t.queryParams)for(const[a,s]of Object.entries(t.queryParams))i.searchParams.append(a,String(s));let o={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=t.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),t.abortSignal),this.unaryApiCall(i,o,t.httpMethod)}patchHttpOptions(t,n){const r=JSON.parse(JSON.stringify(t));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t,n),i=this.constructUrl(t.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=t.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),t.abortSignal),this.streamApiCall(i,o,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,r,i){if(n&&n.timeout||i){const o=new AbortController,a=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const s=setTimeout(()=>o.abort(),n.timeout);s&&typeof s.unref=="function"&&s.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),t.signal=a}return n&&n.extraBody!==null&&NU(t,n.extraBody),t.headers=await this.getHeadersInternal(n,r),t}async unaryApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await ib(i),new ym(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await ib(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(t){return Nn(this,arguments,function*(){var r;const i=(r=t==null?void 0:t.body)===null||r===void 0?void 0:r.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";const s="data:",l=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:u,value:c}=yield oe(i.read());if(u){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=o.decode(c,{stream:!0});try{const g=JSON.parse(f);if("error"in g){const v=JSON.parse(JSON.stringify(g.error)),_=v.status,y=v.code,w=`got status: ${_}. ${JSON.stringify(g)}`;if(y>=400&&y<600)throw new el({message:w,status:y})}}catch(g){if(g.name==="ApiError")throw g}a+=f;let h=-1,m=0;for(;;){h=-1,m=0;for(const _ of l){const y=a.indexOf(_);y!==-1&&(h===-1||y<h)&&(h=y,m=_.length)}if(h===-1)break;const g=a.substring(0,h);a=a.substring(h+m);const v=g.trim();if(v.startsWith(s)){const _=v.substring(s.length).trim();try{const y=new Response(_,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield oe(new ym(y))}catch(y){throw new Error(`exception parsing stream chunk ${_}. ${y}`)}}}}}finally{i.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const t={},n=IU+" "+this.clientOptions.userAgentExtra;return t[CU]=n,t[xm]=n,t[EU]="application/json",t}async getHeadersInternal(t,n){const r=new Headers;if(t&&t.headers){for(const[i,o]of Object.entries(t.headers))r.append(i,o);t.timeout&&t.timeout>0&&r.append(AU,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(t){var n;let r="";return typeof t=="string"&&(r=t.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(t,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,a=await o.stat(t);i.sizeBytes=String(a.size);const s=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:a.type;if(s===void 0||s==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=s;const l={file:i},u=this.getFileName(t),c=K("upload/v1beta/files",l._url),f=await this.fetchUploadUrl(c,i.sizeBytes,i.mimeType,u,l,n==null?void 0:n.httpOptions);return o.upload(t,f,this)}async uploadFileToFileSearchStore(t,n,r){var i;const o=this.clientOptions.uploader,a=await o.stat(n),s=String(a.size),l=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:a.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${t}:uploadToFileSearchStore`,c=this.getFileName(n),f={};r!=null&&_P(r,f);const h=await this.fetchUploadUrl(u,s,l,c,f,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,h,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,r,i,o,a){var s;let l={};a?l=a:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:t,body:JSON.stringify(o),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const c=(s=u==null?void 0:u.headers)===null||s===void 0?void 0:s["x-goog-upload-url"];if(c===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return c}}async function ib(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let r;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?r=await e.json():r={error:{message:await e.text(),code:e.status,status:e.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new el({message:i,status:n}):new Error(i)}}function NU(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const o=JSON.parse(e.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,a){const s=Object.assign({},o);for(const l in a)if(Object.prototype.hasOwnProperty.call(a,l)){const u=a[l],c=s[l];u&&typeof u=="object"&&!Array.isArray(u)&&c&&typeof c=="object"&&!Array.isArray(c)?s[l]=r(c,u):(c&&u&&typeof c!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof c}, New type: ${typeof u}. Overwriting.`),s[l]=u)}return s}const i=r(n,t);e.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const MU="mcp_used/unknown";let $U=!1;function wP(e){for(const t of e)if(DU(t)||typeof t=="object"&&"inputSchema"in t)return!0;return $U}function bP(e){var t;const n=(t=e[xm])!==null&&t!==void 0?t:"";e[xm]=(n+` ${MU}`).trimStart()}function DU(e){return e!==null&&typeof e=="object"&&e instanceof gy}function LU(e){return Nn(this,arguments,function*(n,r=100){let i,o=0;for(;o<r;){const a=yield oe(n.listTools({cursor:i}));for(const s of a.tools)yield yield oe(s),o++;if(!a.nextCursor)break;i=a.nextCursor}})}class gy{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new gy(t,n)}async initialize(){var t,n,r,i;if(this.mcpTools.length>0)return;const o={},a=[];for(const c of this.mcpClients)try{for(var s=!0,l=(n=void 0,Mn(LU(c))),u;u=await l.next(),t=u.done,!t;s=!0){i=u.value,s=!1;const f=i;a.push(f);const h=f.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=c}}catch(f){n={error:f}}finally{try{!s&&!t&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=a,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),d$(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const r of t)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const a=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:a.isError?{error:a}:a}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function UU(e,t,n){const r=new i$;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),t(r)}class FU{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r}async connect(t){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),a=VU(this.apiClient.getDefaultHeaders()),s=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${s}`;let u=()=>{};const c=new Promise(b=>{u=b}),f=t.callbacks,h=function(){u({})},m=this.apiClient,g={onopen:h,onmessage:b=>{UU(m,f.onmessage,b)},onerror:(n=f==null?void 0:f.onerror)!==null&&n!==void 0?n:function(b){},onclose:(r=f==null?void 0:f.onclose)!==null&&r!==void 0?r:function(b){}},v=this.webSocketFactory.create(l,BU(a),g);v.connect(),await c;const w={setup:{model:pe(this.apiClient,t.model)}};return v.send(JSON.stringify(w)),new jU(v,this.apiClient)}}class jU{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=fL(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=cL(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Io.PLAY)}pause(){this.sendPlaybackControl(Io.PAUSE)}stop(){this.sendPlaybackControl(Io.STOP)}resetContext(){this.sendPlaybackControl(Io.RESET_CONTEXT)}close(){this.conn.close()}}function BU(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function VU(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const GU="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function HU(e,t,n){const r=new r$;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(e.isVertexAI()){const a=pL(o);Object.assign(r,a)}else Object.assign(r,o);t(r)}class qU{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r,this.music=new FU(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,r,i,o,a,s;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let c;const f=this.apiClient.getHeaders();t.config&&t.config.tools&&wP(t.config.tools)&&bP(f);const h=JU(f);if(this.apiClient.isVertexAI()){const P=this.apiClient.getProject(),O=this.apiClient.getLocation(),R=this.apiClient.getApiKey(),k=!!P&&!!O||!!R;this.apiClient.getCustomBaseUrl()&&!k?c=l:(c=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,c))}else{const P=this.apiClient.getApiKey();let O="BidiGenerateContent",R="key";P!=null&&P.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),O="BidiGenerateContentConstrained",R="access_token"),c=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${O}?${R}=${P}`}let m=()=>{};const g=new Promise(P=>{m=P}),v=t.callbacks,_=function(){var P;(P=v==null?void 0:v.onopen)===null||P===void 0||P.call(v),m({})},y=this.apiClient,w={onopen:_,onmessage:P=>{HU(y,v.onmessage,P)},onerror:(n=v==null?void 0:v.onerror)!==null&&n!==void 0?n:function(P){},onclose:(r=v==null?void 0:v.onclose)!==null&&r!==void 0?r:function(P){}},b=this.webSocketFactory.create(c,KU(h),w);b.connect(),await g;let T=pe(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&T.startsWith("publishers/")){const P=this.apiClient.getProject(),O=this.apiClient.getLocation();P&&O&&(T=`projects/${P}/locations/${O}/`+T)}let S={};this.apiClient.isVertexAI()&&((i=t.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Nc.AUDIO]}:t.config.responseModalities=[Nc.AUDIO]),!((o=t.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const x=(s=(a=t.config)===null||a===void 0?void 0:a.tools)!==null&&s!==void 0?s:[],E=[];for(const P of x)if(this.isCallableTool(P)){const O=P;E.push(await O.tool())}else E.push(P);E.length>0&&(t.config.tools=E);const C={model:T,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?S=uL(this.apiClient,C):S=lL(this.apiClient,C),delete S.config,b.send(JSON.stringify(S)),new WU(b,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const zU={turnComplete:!0};class WU{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=hn(n.turns),t.isVertexAI()||(r=r.map(i=>od(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!t.isVertexAI()&&!("id"in o))throw new Error(GU)}return{toolResponse:{functionResponses:r}}}sendClientContent(t){t=Object.assign(Object.assign({},zU),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:hL(t)}:n={realtimeInput:dL(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function KU(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function JU(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ob=10;function ab(e){var t,n,r;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let i=!1;for(const a of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(Ho(a)){i=!0;break}if(!i)return!0;const o=(r=e==null?void 0:e.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Ho(e){return"callTool"in e&&typeof e.callTool=="function"}function YU(e){var t,n,r;return(r=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(i=>Ho(i)))!==null&&r!==void 0?r:!1}function sb(e){var t;const n=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((r,i)=>{if(Ho(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function lb(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XU extends wr{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var r,i,o,a,s;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!YU(n)||ab(n.config))return await this.generateContentInternal(l);const u=sb(n);if(u.length>0){const v=u.map(_=>`tools[${_}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${v}.`)}let c,f;const h=hn(l.contents),m=(o=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:ob;let g=0;for(;g<m&&(c=await this.generateContentInternal(l),!(!c.functionCalls||c.functionCalls.length===0));){const v=c.candidates[0].content,_=[];for(const y of(s=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&s!==void 0?s:[])if(Ho(y)){const b=await y.callTool(c.functionCalls);_.push(...b)}g++,f={role:"user",parts:_},l.contents=hn(l.contents),l.contents.push(v),l.contents.push(f),lb(l.config)&&(h.push(v),h.push(f))}return lb(l.config)&&(c.automaticFunctionCallingHistory=h),c},this.generateContentStream=async n=>{var r,i,o,a,s;if(this.maybeMoveToResponseJsonSchem(n),ab(n.config)){const f=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(f)}const l=sb(n);if(l.length>0){const f=l.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${f}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,c=(s=(a=n==null?void 0:n.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||s===void 0?void 0:s.disable;if(u&&!c)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const a=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=l==null?void 0:l.safetyAttributes:a.push(l);let s;return o?s={generatedImages:a,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:s={generatedImages:a,sdkHttpResponse:r.sdkHttpResponse},s}),this.list=async n=>{var r;const a={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((r=a.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new Ji(pr.PAGED_ITEM_MODELS,s=>this.listInternal(s),await this.listInternal(a),a)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,a,s,l;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((a=(o=n.source)===null||o===void 0?void 0:o.video)===null||a===void 0)&&a.uri&&(!((l=(s=n.source)===null||s===void 0?void 0:s.video)===null||l===void 0)&&l.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,r,i;const o=(n=t.config)===null||n===void 0?void 0:n.tools;if(!o)return t;const a=await Promise.all(o.map(async l=>Ho(l)?await l.tool():l)),s={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:a})};if(s.config.tools=a,t.config&&t.config.tools&&wP(t.config.tools)){const l=(i=(r=t.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),bP(u),s.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:u})}return s}async initAfcToolsMap(t){var n,r,i;const o=new Map;for(const a of(r=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Ho(a)){const s=a,l=await s.tool();for(const u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(o.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);o.set(u.name,s)}}return o}async processAfcStream(t){var n,r,i;const o=(i=(r=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:ob;let a=!1,s=0;const l=await this.initAfcToolsMap(t);return function(u,c,f){return Nn(this,arguments,function*(){for(var h,m,g,v,_,y;s<o;){a&&(s++,a=!1);const S=yield oe(u.processParamsMaybeAddMcpUsage(f)),x=yield oe(u.generateContentStreamInternal(S)),E=[],C=[];try{for(var w=!0,b=(m=void 0,Mn(x)),T;T=yield oe(b.next()),h=T.done,!h;w=!0){v=T.value,w=!1;const P=v;if(yield yield oe(P),P.candidates&&(!((_=P.candidates[0])===null||_===void 0)&&_.content)){C.push(P.candidates[0].content);for(const O of(y=P.candidates[0].content.parts)!==null&&y!==void 0?y:[])if(s<o&&O.functionCall){if(!O.functionCall.name)throw new Error("Function call name was not returned by the model.");if(c.has(O.functionCall.name)){const R=yield oe(c.get(O.functionCall.name).callTool([O.functionCall]));E.push(...R)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${c.keys()}, mising tool: ${O.functionCall.name}`)}}}}catch(P){m={error:P}}finally{try{!w&&!h&&(g=b.return)&&(yield oe(g.call(b)))}finally{if(m)throw m.error}}if(E.length>0){a=!0;const P=new es;P.candidates=[{content:{role:"user",parts:E}}],yield yield oe(P);const O=[];O.push(...C),O.push({role:"user",parts:E});const R=hn(f.contents).concat(O);f.contents=R}else break}})}(this,l,t)}async generateContentInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=tb(this.apiClient,t);return s=K("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=rb(c),h=new es;return Object.assign(h,f),h})}else{const u=eb(this.apiClient,t);return s=K("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=nb(c),h=new es;return Object.assign(h,f),h})}}async generateContentStreamInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=tb(this.apiClient,t);return s=K("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(f){return Nn(this,arguments,function*(){var h,m,g,v;try{for(var _=!0,y=Mn(f),w;w=yield oe(y.next()),h=w.done,!h;_=!0){v=w.value,_=!1;const b=v,T=rb(yield oe(b.json()),t);T.sdkHttpResponse={headers:b.headers};const S=new es;Object.assign(S,T),yield yield oe(S)}}catch(b){m={error:b}}finally{try{!_&&!h&&(g=y.return)&&(yield oe(g.call(y)))}finally{if(m)throw m.error}}})})}else{const u=eb(this.apiClient,t);return s=K("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}),a.then(function(f){return Nn(this,arguments,function*(){var h,m,g,v;try{for(var _=!0,y=Mn(f),w;w=yield oe(y.next()),h=w.done,!h;_=!0){v=w.value,_=!1;const b=v,T=nb(yield oe(b.json()),t);T.sdkHttpResponse={headers:b.headers};const S=new es;Object.assign(S,T),yield yield oe(S)}}catch(b){m={error:b}}finally{try{!_&&!h&&(g=y.return)&&(yield oe(g.call(y)))}finally{if(m)throw m.error}}})})}}async embedContent(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=qL(this.apiClient,t);return s=K("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=WL(c),h=new Lw;return Object.assign(h,f),h})}else{const u=HL(this.apiClient,t);return s=K("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=zL(c),h=new Lw;return Object.assign(h,f),h})}}async generateImagesInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=i2(this.apiClient,t);return s=K("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=a2(c),h=new Uw;return Object.assign(h,f),h})}else{const u=r2(this.apiClient,t);return s=K("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=o2(c),h=new Uw;return Object.assign(h,f),h})}}async editImageInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=jL(this.apiClient,t);return o=K("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=BL(l),c=new qM;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=iU(this.apiClient,t);return o=K("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=oU(l),c=new zM;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=F2(this.apiClient,t);return o=K("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=j2(l),c=new WM;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=z2(this.apiClient,t);return o=K("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=W2(l),c=new KM;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=x2(this.apiClient,t);return s=K("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>Sm(c))}else{const u=S2(this.apiClient,t);return s=K("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>bm(c))}}async listInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=R2(this.apiClient,t);return s=K("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=M2(c),h=new Fw;return Object.assign(h,f),h})}else{const u=k2(this.apiClient,t);return s=K("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=N2(c),h=new Fw;return Object.assign(h,f),h})}}async update(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=nU(this.apiClient,t);return s=K("{model}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>Sm(c))}else{const u=tU(this.apiClient,t);return s=K("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>bm(c))}}async delete(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=DL(this.apiClient,t);return s=K("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=UL(c),h=new jw;return Object.assign(h,f),h})}else{const u=$L(this.apiClient,t);return s=K("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=LL(c),h=new jw;return Object.assign(h,f),h})}}async countTokens(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=RL(this.apiClient,t);return s=K("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=ML(c),h=new Bw;return Object.assign(h,f),h})}else{const u=kL(this.apiClient,t);return s=K("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=NL(c),h=new Bw;return Object.assign(h,f),h})}}async computeTokens(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=TL(this.apiClient,t);return o=K("{model}:computeTokens",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=EL(l),c=new JM;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=d2(this.apiClient,t);return s=K("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>{const f=c2(c),h=new Mc;return Object.assign(h,f),h})}else{const u=f2(this.apiClient,t);return s=K("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>{const f=u2(c),h=new Mc;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class QU extends wr{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=FM(t);return s=K("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a}else{const u=UM(t);return s=K("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a}}async fetchPredictVideosOperationInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=kM(t);return o=K("{resourceName}:fetchPredictOperation",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ZU(e){const t={},n=d(e,["data"]);if(n!=null&&p(t,["data"],n),d(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(e,["mimeType"]);return r!=null&&p(t,["mimeType"],r),t}function eF(e){const t={},n=d(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>uF(o))),p(t,["parts"],i)}const r=d(e,["role"]);return r!=null&&p(t,["role"],r),t}function tF(e,t,n){const r={},i=d(t,["expireTime"]);n!==void 0&&i!=null&&p(n,["expireTime"],i);const o=d(t,["newSessionExpireTime"]);n!==void 0&&o!=null&&p(n,["newSessionExpireTime"],o);const a=d(t,["uses"]);n!==void 0&&a!=null&&p(n,["uses"],a);const s=d(t,["liveConnectConstraints"]);n!==void 0&&s!=null&&p(n,["bidiGenerateContentSetup"],lF(e,s));const l=d(t,["lockAdditionalFields"]);return n!==void 0&&l!=null&&p(n,["fieldMask"],l),r}function nF(e,t){const n={},r=d(t,["config"]);return r!=null&&p(n,["config"],tF(e,r,n)),n}function rF(e){const t={};if(d(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(e,["fileUri"]);n!=null&&p(t,["fileUri"],n);const r=d(e,["mimeType"]);return r!=null&&p(t,["mimeType"],r),t}function iF(e){const t={},n=d(e,["id"]);n!=null&&p(t,["id"],n);const r=d(e,["args"]);r!=null&&p(t,["args"],r);const i=d(e,["name"]);if(i!=null&&p(t,["name"],i),d(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function oF(e){const t={};if(d(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(e,["enableWidget"]);return n!=null&&p(t,["enableWidget"],n),t}function aF(e){const t={};if(d(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(e,["timeRangeFilter"]);return n!=null&&p(t,["timeRangeFilter"],n),t}function sF(e,t){const n={},r=d(e,["generationConfig"]);t!==void 0&&r!=null&&p(t,["setup","generationConfig"],r);const i=d(e,["responseModalities"]);t!==void 0&&i!=null&&p(t,["setup","generationConfig","responseModalities"],i);const o=d(e,["temperature"]);t!==void 0&&o!=null&&p(t,["setup","generationConfig","temperature"],o);const a=d(e,["topP"]);t!==void 0&&a!=null&&p(t,["setup","generationConfig","topP"],a);const s=d(e,["topK"]);t!==void 0&&s!=null&&p(t,["setup","generationConfig","topK"],s);const l=d(e,["maxOutputTokens"]);t!==void 0&&l!=null&&p(t,["setup","generationConfig","maxOutputTokens"],l);const u=d(e,["mediaResolution"]);t!==void 0&&u!=null&&p(t,["setup","generationConfig","mediaResolution"],u);const c=d(e,["seed"]);t!==void 0&&c!=null&&p(t,["setup","generationConfig","seed"],c);const f=d(e,["speechConfig"]);t!==void 0&&f!=null&&p(t,["setup","generationConfig","speechConfig"],my(f));const h=d(e,["thinkingConfig"]);t!==void 0&&h!=null&&p(t,["setup","generationConfig","thinkingConfig"],h);const m=d(e,["enableAffectiveDialog"]);t!==void 0&&m!=null&&p(t,["setup","generationConfig","enableAffectiveDialog"],m);const g=d(e,["systemInstruction"]);t!==void 0&&g!=null&&p(t,["setup","systemInstruction"],eF(xt(g)));const v=d(e,["tools"]);if(t!==void 0&&v!=null){let x=Oa(v);Array.isArray(x)&&(x=x.map(E=>fF(Ia(E)))),p(t,["setup","tools"],x)}const _=d(e,["sessionResumption"]);t!==void 0&&_!=null&&p(t,["setup","sessionResumption"],cF(_));const y=d(e,["inputAudioTranscription"]);t!==void 0&&y!=null&&p(t,["setup","inputAudioTranscription"],y);const w=d(e,["outputAudioTranscription"]);t!==void 0&&w!=null&&p(t,["setup","outputAudioTranscription"],w);const b=d(e,["realtimeInputConfig"]);t!==void 0&&b!=null&&p(t,["setup","realtimeInputConfig"],b);const T=d(e,["contextWindowCompression"]);t!==void 0&&T!=null&&p(t,["setup","contextWindowCompression"],T);const S=d(e,["proactivity"]);if(t!==void 0&&S!=null&&p(t,["setup","proactivity"],S),d(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function lF(e,t){const n={},r=d(t,["model"]);r!=null&&p(n,["setup","model"],pe(e,r));const i=d(t,["config"]);return i!=null&&p(n,["config"],sF(i,n)),n}function uF(e){const t={},n=d(e,["mediaResolution"]);n!=null&&p(t,["mediaResolution"],n);const r=d(e,["codeExecutionResult"]);r!=null&&p(t,["codeExecutionResult"],r);const i=d(e,["executableCode"]);i!=null&&p(t,["executableCode"],i);const o=d(e,["fileData"]);o!=null&&p(t,["fileData"],rF(o));const a=d(e,["functionCall"]);a!=null&&p(t,["functionCall"],iF(a));const s=d(e,["functionResponse"]);s!=null&&p(t,["functionResponse"],s);const l=d(e,["inlineData"]);l!=null&&p(t,["inlineData"],ZU(l));const u=d(e,["text"]);u!=null&&p(t,["text"],u);const c=d(e,["thought"]);c!=null&&p(t,["thought"],c);const f=d(e,["thoughtSignature"]);f!=null&&p(t,["thoughtSignature"],f);const h=d(e,["videoMetadata"]);return h!=null&&p(t,["videoMetadata"],h),t}function cF(e){const t={},n=d(e,["handle"]);if(n!=null&&p(t,["handle"],n),d(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function fF(e){const t={};if(d(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=d(e,["computerUse"]);n!=null&&p(t,["computerUse"],n);const r=d(e,["fileSearch"]);r!=null&&p(t,["fileSearch"],r);const i=d(e,["codeExecution"]);if(i!=null&&p(t,["codeExecution"],i),d(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=d(e,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>f)),p(t,["functionDeclarations"],c)}const a=d(e,["googleMaps"]);a!=null&&p(t,["googleMaps"],oF(a));const s=d(e,["googleSearch"]);s!=null&&p(t,["googleSearch"],aF(s));const l=d(e,["googleSearchRetrieval"]);l!=null&&p(t,["googleSearchRetrieval"],l);const u=d(e,["urlContext"]);return u!=null&&p(t,["urlContext"],u),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dF(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);t.push(...i)}else t.push(n)}return t.join(",")}function hF(e,t){let n=null;const r=e.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(e.bidiGenerateContentSetup=o,n=o):delete e.bidiGenerateContentSetup}else r!==void 0&&delete e.bidiGenerateContentSetup;const i=e.fieldMask;if(n){const o=dF(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)o?e.fieldMask=o:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let s=[];i.length>0&&(s=i.map(u=>a.includes(u)?`generationConfig.${u}`:u));const l=[];o&&l.push(o),s.length>0&&l.push(...s),l.length>0?e.fieldMask=l.join(","):delete e.fieldMask}else delete e.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?e.fieldMask=i.join(","):delete e.fieldMask;return e}class pF extends wr{constructor(t){super(),this.apiClient=t}async create(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const s=nF(this.apiClient,t);o=K("auth_tokens",s._url),a=s._query,delete s.config,delete s._url,delete s._query;const l=hF(s,t.config);return i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mF(e,t){const n={},r=d(e,["force"]);return t!==void 0&&r!=null&&p(t,["_query","force"],r),n}function gF(e){const t={},n=d(e,["name"]);n!=null&&p(t,["_url","name"],n);const r=d(e,["config"]);return r!=null&&mF(r,t),t}function vF(e){const t={},n=d(e,["name"]);return n!=null&&p(t,["_url","name"],n),t}function yF(e,t){const n={},r=d(e,["pageSize"]);t!==void 0&&r!=null&&p(t,["_query","pageSize"],r);const i=d(e,["pageToken"]);return t!==void 0&&i!=null&&p(t,["_query","pageToken"],i),n}function _F(e){const t={},n=d(e,["parent"]);n!=null&&p(t,["_url","parent"],n);const r=d(e,["config"]);return r!=null&&yF(r,t),t}function wF(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=d(e,["nextPageToken"]);r!=null&&p(t,["nextPageToken"],r);const i=d(e,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(t,["documents"],o)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bF extends wr{constructor(t){super(),this.apiClient=t,this.list=async n=>new Ji(pr.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=vF(t);return o=K("{name}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(t){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=gF(t);i=K("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=_F(t);return o=K("{parent}/documents",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=wF(l),c=new YM;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class SF extends wr{constructor(t,n=new bF(t)){super(),this.apiClient=t,this.documents=n,this.list=async(r={})=>new Ji(pr.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=dU(t);return o=K("fileSearchStores",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=mU(t);return o=K("{name}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(t){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=pU(t);i=K("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=bU(t);return o=K("fileSearchStores",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=SU(l),c=new XM;return Object.assign(c,u),c})}}async uploadToFileSearchStoreInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=xU(t);return o=K("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=TU(l),c=new QM;return Object.assign(c,u),c})}}async importFile(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=yU(t);return o=K("{file_search_store_name}:importFile",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=vU(l),c=new cy;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let SP=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return SP=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const xF=()=>SP();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tm(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const Em=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vn extends Error{}class kt extends vn{constructor(t,n,r,i){super(`${kt.makeMessage(t,n,r)}`),this.status=t,this.headers=i,this.error=n}static makeMessage(t,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&i?`${t} ${i}`:t?`${t} status code (no body)`:i||"(no status code or body)"}static generate(t,n,r,i){if(!t||!i)return new ld({message:r,cause:Em(n)});const o=n;return t===400?new TP(t,o,r,i):t===401?new EP(t,o,r,i):t===403?new AP(t,o,r,i):t===404?new CP(t,o,r,i):t===409?new PP(t,o,r,i):t===422?new IP(t,o,r,i):t===429?new OP(t,o,r,i):t>=500?new kP(t,o,r,i):new kt(t,o,r,i)}}class Am extends kt{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class ld extends kt{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class xP extends ld{constructor({message:t}={}){super({message:t??"Request timed out."})}}class TP extends kt{}class EP extends kt{}class AP extends kt{}class CP extends kt{}class PP extends kt{}class IP extends kt{}class OP extends kt{}class kP extends kt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const TF=/^[a-z][a-z0-9+.-]*:/i,EF=e=>TF.test(e);let Cm=e=>(Cm=Array.isArray,Cm(e));const AF=Cm;let CF=AF;const ub=CF;function PF(e){if(!e)return!0;for(const t in e)return!1;return!0}function IF(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const OF=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new vn(`${e} must be an integer`);if(t<0)throw new vn(`${e} must be a positive integer`);return t},kF=e=>{try{return JSON.parse(e)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const RF=e=>new Promise(t=>setTimeout(t,e));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ho="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function NF(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const MF=()=>{var e,t,n,r,i;const o=NF();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ho,"X-Stainless-OS":fb(Deno.build.os),"X-Stainless-Arch":cb(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ho,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ho,"X-Stainless-OS":fb((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":cb((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const a=$F();return a?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ho,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${a.browser}`,"X-Stainless-Runtime-Version":a.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ho,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function $F(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,o=r[2]||0,a=r[3]||0;return{browser:t,version:`${i}.${o}.${a}`}}}return null}const cb=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",fb=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let Su;const DF=()=>Su??(Su=MF());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function LF(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function RP(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function UF(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return RP({start(){},async pull(n){const{done:r,value:i}=await t.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=t.return)===null||n===void 0?void 0:n.call(t))}})}function NP(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function FF(e){var t,n;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((n=(t=e[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(t));return}const r=e.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jF=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const MP=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((e=t==null?void 0:t.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Lh(e,t,n){return MP(),new File(e,t??"unknown_file",n)}function BF(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const VF=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $P=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",GF=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&$P(e),HF=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function qF(e,t,n){if(MP(),e=await e,GF(e))return e instanceof File?e:Lh([await e.arrayBuffer()],e.name);if(HF(e)){const i=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),Lh(await Pm(i),t,n)}const r=await Pm(e);if(t||(t=BF(e)),!(n!=null&&n.type)){const i=r.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return Lh(r,t,n)}async function Pm(e){var t,n,r,i,o;let a=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)a.push(e);else if($P(e))a.push(e instanceof Blob?e:await e.arrayBuffer());else if(VF(e))try{for(var s=!0,l=Mn(e),u;u=await l.next(),t=u.done,!t;s=!0){i=u.value,s=!1;const c=i;a.push(...await Pm(c))}}catch(c){n={error:c}}finally{try{!s&&!t&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}else{const c=(o=e==null?void 0:e.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof e}${c?`; constructor: ${c}`:""}${zF(e)}`)}return a}function zF(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class DP{constructor(t){this._client=t}}DP._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function LP(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const db=Object.freeze(Object.create(null)),WF=(e=LP)=>function(n,...r){if(n.length===1)return n[0];let i=!1;const o=[],a=n.reduce((c,f,h)=>{var m,g,v;/[?#]/.test(f)&&(i=!0);const _=r[h];let y=(i?encodeURIComponent:e)(""+_);return h!==r.length&&(_==null||typeof _=="object"&&_.toString===((v=Object.getPrototypeOf((g=Object.getPrototypeOf((m=_.hasOwnProperty)!==null&&m!==void 0?m:db))!==null&&g!==void 0?g:db))===null||v===void 0?void 0:v.toString))&&(y=_+"",o.push({start:c.length+f.length,length:y.length,error:`Value of type ${Object.prototype.toString.call(_).slice(8,-1)} is not a valid path parameter`})),c+f+(h===r.length?"":y)},""),s=a.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=l.exec(s))!==null;)o.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(o.sort((c,f)=>c.start-f.start),o.length>0){let c=0;const f=o.reduce((h,m)=>{const g=" ".repeat(m.start-c),v="^".repeat(m.length);return c=m.start+m.length,h+g+v},"");throw new vn(`Path parameters result in path with invalid segments:
${o.map(h=>h.error).join(`
`)}
${a}
${f}`)}return a},xu=WF(LP);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class UP extends DP{create(t,n){var r;const{api_version:i=this._client.apiVersion}=t,o=Dc(t,["api_version"]);if("model"in o&&"agent_config"in o)throw new vn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new vn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(xu`/${i}/interactions`,Object.assign(Object.assign({body:o},n),{stream:(r=t.stream)!==null&&r!==void 0?r:!1}))}delete(t,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(xu`/${i}/interactions/${t}`,r)}cancel(t,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(xu`/${i}/interactions/${t}/cancel`,r)}get(t,n={},r){var i;const o=n??{},{api_version:a=this._client.apiVersion}=o,s=Dc(o,["api_version"]);return this._client.get(xu`/${a}/interactions/${t}`,Object.assign(Object.assign({query:s},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}UP._key=Object.freeze(["interactions"]);class FP extends UP{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KF(e){let t=0;for(const i of e)t+=i.length;const n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}let Tu;function vy(e){let t;return(Tu??(t=new globalThis.TextEncoder,Tu=t.encode.bind(t)))(e)}let Eu;function hb(e){let t;return(Eu??(t=new globalThis.TextDecoder,Eu=t.decode.bind(t)))(e)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ud{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?vy(t):t;this.buffer=KF([this.buffer,n]);const r=[];let i;for(;(i=JF(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(hb(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,a=hb(this.buffer.subarray(0,o));r.push(a),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}ud.NEWLINE_CHARS=new Set([`
`,"\r"]);ud.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function JF(e,t){for(let i=t??0;i<e.length;i++){if(e[i]===10)return{preceding:i,index:i+1,carriage:!1};if(e[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function YF(e){for(let r=0;r<e.length-1;r++){if(e[r]===10&&e[r+1]===10||e[r]===13&&e[r+1]===13)return r+2;if(e[r]===13&&e[r+1]===10&&r+3<e.length&&e[r+2]===13&&e[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Lc={off:0,error:200,warn:300,info:400,debug:500},pb=(e,t,n)=>{if(e){if(IF(Lc,e))return e;Et(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(Lc))}`)}};function vs(){}function Au(e,t,n){return!t||Lc[e]>Lc[n]?vs:t[e].bind(t)}const XF={error:vs,warn:vs,info:vs,debug:vs};let mb=new WeakMap;function Et(e){var t;const n=e.logger,r=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!n)return XF;const i=mb.get(n);if(i&&i[0]===r)return i[1];const o={error:Au("error",n,r),warn:Au("warn",n,r),info:Au("info",n,r),debug:Au("debug",n,r)};return mb.set(n,[r,o]),o}const mi=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Oo{constructor(t,n,r){this.iterator=t,this.controller=n,this.client=r}static fromSSEResponse(t,n,r){let i=!1;const o=r?Et(r):console;function a(){return Nn(this,arguments,function*(){var l,u,c,f;if(i)throw new vn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var m=!0,g=Mn(QF(t,n)),v;v=yield oe(g.next()),l=v.done,!l;m=!0){f=v.value,m=!1;const _=f;if(!h)if(_.data.startsWith("[DONE]")){h=!0;continue}else try{yield yield oe(JSON.parse(_.data))}catch(y){throw o.error("Could not parse message into JSON:",_.data),o.error("From chunk:",_.raw),y}}}catch(_){u={error:_}}finally{try{!m&&!l&&(c=g.return)&&(yield oe(c.call(g)))}finally{if(u)throw u.error}}h=!0}catch(_){if(Tm(_))return yield oe(void 0);throw _}finally{h||n.abort()}})}return new Oo(a,n,r)}static fromReadableStream(t,n,r){let i=!1;function o(){return Nn(this,arguments,function*(){var l,u,c,f;const h=new ud,m=NP(t);try{for(var g=!0,v=Mn(m),_;_=yield oe(v.next()),l=_.done,!l;g=!0){f=_.value,g=!1;const y=f;for(const w of h.decode(y))yield yield oe(w)}}catch(y){u={error:y}}finally{try{!g&&!l&&(c=v.return)&&(yield oe(c.call(v)))}finally{if(u)throw u.error}}for(const y of h.flush())yield yield oe(y)})}function a(){return Nn(this,arguments,function*(){var l,u,c,f;if(i)throw new vn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var m=!0,g=Mn(o()),v;v=yield oe(g.next()),l=v.done,!l;m=!0){f=v.value,m=!1;const _=f;h||_&&(yield yield oe(JSON.parse(_)))}}catch(_){u={error:_}}finally{try{!m&&!l&&(c=g.return)&&(yield oe(c.call(g)))}finally{if(u)throw u.error}}h=!0}catch(_){if(Tm(_))return yield oe(void 0);throw _}finally{h||n.abort()}})}return new Oo(a,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],r=this.iterator(),i=o=>({next:()=>{if(o.length===0){const a=r.next();t.push(a),n.push(a)}return o.shift()}});return[new Oo(()=>i(t),this.controller,this.client),new Oo(()=>i(n),this.controller,this.client)]}toReadableStream(){const t=this;let n;return RP({async start(){n=t[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const a=vy(JSON.stringify(i)+`
`);r.enqueue(a)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function QF(e,t){return Nn(this,arguments,function*(){var r,i,o,a;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new vn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new vn("Attempted to iterate over a response with no body");const s=new ej,l=new ud,u=NP(e.body);try{for(var c=!0,f=Mn(ZF(u)),h;h=yield oe(f.next()),r=h.done,!r;c=!0){a=h.value,c=!1;const m=a;for(const g of l.decode(m)){const v=s.decode(g);v&&(yield yield oe(v))}}}catch(m){i={error:m}}finally{try{!c&&!r&&(o=f.return)&&(yield oe(o.call(f)))}finally{if(i)throw i.error}}for(const m of l.flush()){const g=s.decode(m);g&&(yield yield oe(g))}})}function ZF(e){return Nn(this,arguments,function*(){var n,r,i,o;let a=new Uint8Array;try{for(var s=!0,l=Mn(e),u;u=yield oe(l.next()),n=u.done,!n;s=!0){o=u.value,s=!1;const c=o;if(c==null)continue;const f=c instanceof ArrayBuffer?new Uint8Array(c):typeof c=="string"?vy(c):c;let h=new Uint8Array(a.length+f.length);h.set(a),h.set(f,a.length),a=h;let m;for(;(m=YF(a))!==-1;)yield yield oe(a.slice(0,m)),a=a.slice(m)}}catch(c){r={error:c}}finally{try{!s&&!n&&(i=l.return)&&(yield oe(i.call(l)))}finally{if(r)throw r.error}}a.length>0&&(yield yield oe(a))})}class ej{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,i]=tj(t,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function tj(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function nj(e,t){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:o}=t,a=await(async()=>{var s;if(t.options.stream)return Et(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):Oo.fromSSEResponse(n,t.controller,e);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const l=n.headers.get("content-type"),u=(s=l==null?void 0:l.split(";")[0])===null||s===void 0?void 0:s.trim();return(u==null?void 0:u.includes("application/json"))||(u==null?void 0:u.endsWith("+json"))?await n.json():await n.text()})();return Et(e).debug(`[${r}] response parsed`,mi({retryOfRequestLogID:i,url:n.url,status:n.status,body:a,durationMs:Date.now()-o})),a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yy extends Promise{constructor(t,n,r=nj){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=t}_thenUnwrap(t){return new yy(this.client,this.responsePromise,async(n,r)=>t(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jP=Symbol("brand.privateNullableHeaders");function*rj(e){if(!e)return;if(jP in e){const{values:r,nulls:i}=e;yield*r.entries();for(const o of i)yield[o,null];return}let t=!1,n;e instanceof Headers?n=e.entries():ub(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const o=ub(r[1])?r[1]:[r[1]];let a=!1;for(const s of o)s!==void 0&&(t&&!a&&(a=!0,yield[i,null]),yield[i,s])}}const ts=e=>{const t=new Headers,n=new Set;for(const r of e){const i=new Set;for(const[o,a]of rj(r)){const s=o.toLowerCase();i.has(s)||(t.delete(o),i.add(s)),a===null?(t.delete(o),n.add(s)):(t.append(o,a),n.delete(s))}}return{[jP]:!0,values:t,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Uh=e=>{var t,n,r,i,o,a;if(typeof globalThis.process<"u")return(r=(n=(t=EM)===null||t===void 0?void 0:t[e])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(a=(o=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||o===void 0?void 0:o.call(i,e))===null||a===void 0?void 0:a.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var BP;class cd{constructor(t){var n,r,i,o,a,s,l,{baseURL:u=Uh("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:c=(n=Uh("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:f="v1beta"}=t,h=Dc(t,["baseURL","apiKey","apiVersion"]);const m=Object.assign(Object.assign({apiKey:c,apiVersion:f},h),{baseURL:u||"https://generativelanguage.googleapis.com"});this.baseURL=m.baseURL,this.timeout=(r=m.timeout)!==null&&r!==void 0?r:cd.DEFAULT_TIMEOUT,this.logger=(i=m.logger)!==null&&i!==void 0?i:console;const g="warn";this.logLevel=g,this.logLevel=(a=(o=pb(m.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:pb(Uh("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&a!==void 0?a:g,this.fetchOptions=m.fetchOptions,this.maxRetries=(s=m.maxRetries)!==null&&s!==void 0?s:2,this.fetch=(l=m.fetch)!==null&&l!==void 0?l:LF(),this.encoder=jF,this._options=m,this.apiKey=c,this.apiVersion=f,this.clientAdapter=m.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const n=ts([t.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return ts([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return ts([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new vn(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${ho}`}defaultIdempotencyKey(){return`stainless-node-retry-${xF()}`}makeStatusError(t,n,r,i){return kt.generate(t,n,r,i)}buildURL(t,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,o=EF(t)?new URL(t):new URL(i+(i.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),a=this.defaultQuery();return PF(a)||(n=Object.assign(Object.assign({},a),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(o.search=this.stringifyQuery(n)),o.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const n=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(t,{url:n,options:r}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:t,path:n},i)))}request(t,n=null){return new yy(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,r){var i,o,a;const s=await t,l=(i=s.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=l),await this.prepareOptions(s);const{req:u,url:c,timeout:f}=await this.buildRequest(s,{retryCount:l-n});await this.prepareRequest(u,{url:c,options:s});const h="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),m=r===void 0?"":`, retryOf: ${r}`,g=Date.now();if(Et(this).debug(`[${h}] sending request`,mi({retryOfRequestLogID:r,method:s.method,url:c,options:s,headers:u.headers})),!((o=s.signal)===null||o===void 0)&&o.aborted)throw new Am;const v=new AbortController,_=await this.fetchWithTimeout(c,u,f,v).catch(Em),y=Date.now();if(_ instanceof globalThis.Error){const b=`retrying, ${n} attempts remaining`;if(!((a=s.signal)===null||a===void 0)&&a.aborted)throw new Am;const T=Tm(_)||/timed? ?out/i.test(String(_)+("cause"in _?String(_.cause):""));if(n)return Et(this).info(`[${h}] connection ${T?"timed out":"failed"} - ${b}`),Et(this).debug(`[${h}] connection ${T?"timed out":"failed"} (${b})`,mi({retryOfRequestLogID:r,url:c,durationMs:y-g,message:_.message})),this.retryRequest(s,n,r??h);throw Et(this).info(`[${h}] connection ${T?"timed out":"failed"} - error; no more retries left`),Et(this).debug(`[${h}] connection ${T?"timed out":"failed"} (error; no more retries left)`,mi({retryOfRequestLogID:r,url:c,durationMs:y-g,message:_.message})),T?new xP:new ld({cause:_})}const w=`[${h}${m}] ${u.method} ${c} ${_.ok?"succeeded":"failed"} with status ${_.status} in ${y-g}ms`;if(!_.ok){const b=await this.shouldRetry(_);if(n&&b){const P=`retrying, ${n} attempts remaining`;return await FF(_.body),Et(this).info(`${w} - ${P}`),Et(this).debug(`[${h}] response error (${P})`,mi({retryOfRequestLogID:r,url:_.url,status:_.status,headers:_.headers,durationMs:y-g})),this.retryRequest(s,n,r??h,_.headers)}const T=b?"error; no more retries left":"error; not retryable";Et(this).info(`${w} - ${T}`);const S=await _.text().catch(P=>Em(P).message),x=kF(S),E=x?void 0:S;throw Et(this).debug(`[${h}] response error (${T})`,mi({retryOfRequestLogID:r,url:_.url,status:_.status,headers:_.headers,message:E,durationMs:Date.now()-g})),this.makeStatusError(_.status,x,E,_.headers)}return Et(this).info(w),Et(this).debug(`[${h}] response start`,mi({retryOfRequestLogID:r,url:_.url,status:_.status,headers:_.headers,durationMs:y-g})),{response:_,options:s,controller:v,requestLogID:h,retryOfRequestLogID:r,startTime:g}}async fetchWithTimeout(t,n,r,i){const o=n||{},{signal:a,method:s}=o,l=Dc(o,["signal","method"]);a&&a.addEventListener("abort",()=>i.abort());const u=setTimeout(()=>i.abort(),r),c=globalThis.ReadableStream&&l.body instanceof globalThis.ReadableStream||typeof l.body=="object"&&l.body!==null&&Symbol.asyncIterator in l.body,f=Object.assign(Object.assign(Object.assign({signal:i.signal},c?{duplex:"half"}:{}),{method:"GET"}),l);s&&(f.method=s.toUpperCase());try{return await this.fetch.call(void 0,t,f)}finally{clearTimeout(u)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,r,i){var o;let a;const s=i==null?void 0:i.get("retry-after-ms");if(s){const u=parseFloat(s);Number.isNaN(u)||(a=u)}const l=i==null?void 0:i.get("retry-after");if(l&&!a){const u=parseFloat(l);Number.isNaN(u)?a=Date.parse(l)-Date.now():a=u*1e3}if(!(a&&0<=a&&a<60*1e3)){const u=(o=t.maxRetries)!==null&&o!==void 0?o:this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(n,u)}return await RF(a),this.makeRequest(t,n-1,r)}calculateDefaultRetryTimeoutMillis(t,n){const o=n-t,a=Math.min(.5*Math.pow(2,o),8),s=1-Math.random()*.25;return a*s*1e3}async buildRequest(t,{retryCount:n=0}={}){var r,i,o;const a=Object.assign({},t),{method:s,path:l,query:u,defaultBaseURL:c}=a,f=this.buildURL(l,u,c);"timeout"in a&&OF("timeout",a.timeout),a.timeout=(r=a.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:h,body:m}=this.buildBody({options:a}),g=await this.buildHeaders({options:t,method:s,bodyHeaders:h,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:s,headers:g},a.signal&&{signal:a.signal}),globalThis.ReadableStream&&m instanceof globalThis.ReadableStream&&{duplex:"half"}),m&&{body:m}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(o=a.fetchOptions)!==null&&o!==void 0?o:{}),url:f,timeout:a.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:r,retryCount:i}){let o={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=t.idempotencyKey);const a=await this.authHeaders(t);let s=ts([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),DF()),this._options.defaultHeaders,r,t.headers,a]);return this.validateHeaders(s),s.values}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const r=ts([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&r.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:UF(t)}:this.encoder({body:t,headers:r})}}cd.DEFAULT_TIMEOUT=6e4;class ut extends cd{constructor(){super(...arguments),this.interactions=new FP(this)}}BP=ut;ut.GeminiNextGenAPIClient=BP;ut.GeminiNextGenAPIClientError=vn;ut.APIError=kt;ut.APIConnectionError=ld;ut.APIConnectionTimeoutError=xP;ut.APIUserAbortError=Am;ut.NotFoundError=CP;ut.ConflictError=PP;ut.RateLimitError=OP;ut.BadRequestError=TP;ut.AuthenticationError=EP;ut.InternalServerError=kP;ut.PermissionDeniedError=AP;ut.UnprocessableEntityError=IP;ut.toFile=qF;ut.Interactions=FP;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ij(e,t){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],r),n}function oj(e,t){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],r),n}function aj(e,t){const n={},r=d(e,["sdkHttpResponse"]);return r!=null&&p(n,["sdkHttpResponse"],r),n}function sj(e,t){const n={},r=d(e,["sdkHttpResponse"]);return r!=null&&p(n,["sdkHttpResponse"],r),n}function lj(e,t,n){const r={};if(d(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=d(e,["tunedModelDisplayName"]);if(t!==void 0&&i!=null&&p(t,["displayName"],i),d(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=d(e,["epochCount"]);t!==void 0&&o!=null&&p(t,["tuningTask","hyperparameters","epochCount"],o);const a=d(e,["learningRateMultiplier"]);if(a!=null&&p(r,["tuningTask","hyperparameters","learningRateMultiplier"],a),d(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(d(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(d(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(d(e,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(d(e,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const s=d(e,["batchSize"]);t!==void 0&&s!=null&&p(t,["tuningTask","hyperparameters","batchSize"],s);const l=d(e,["learningRate"]);if(t!==void 0&&l!=null&&p(t,["tuningTask","hyperparameters","learningRate"],l),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(d(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(d(e,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(d(e,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(d(e,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(d(e,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");return r}function uj(e,t,n){const r={};let i=d(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const S=d(e,["validationDataset"]);t!==void 0&&S!=null&&p(t,["supervisedTuningSpec"],Fh(S))}else if(i==="PREFERENCE_TUNING"){const S=d(e,["validationDataset"]);t!==void 0&&S!=null&&p(t,["preferenceOptimizationSpec"],Fh(S))}else if(i==="DISTILLATION"){const S=d(e,["validationDataset"]);t!==void 0&&S!=null&&p(t,["distillationSpec"],Fh(S))}const o=d(e,["tunedModelDisplayName"]);t!==void 0&&o!=null&&p(t,["tunedModelDisplayName"],o);const a=d(e,["description"]);t!==void 0&&a!=null&&p(t,["description"],a);let s=d(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const S=d(e,["epochCount"]);t!==void 0&&S!=null&&p(t,["supervisedTuningSpec","hyperParameters","epochCount"],S)}else if(s==="PREFERENCE_TUNING"){const S=d(e,["epochCount"]);t!==void 0&&S!=null&&p(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],S)}else if(s==="DISTILLATION"){const S=d(e,["epochCount"]);t!==void 0&&S!=null&&p(t,["distillationSpec","hyperParameters","epochCount"],S)}let l=d(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const S=d(e,["learningRateMultiplier"]);t!==void 0&&S!=null&&p(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],S)}else if(l==="PREFERENCE_TUNING"){const S=d(e,["learningRateMultiplier"]);t!==void 0&&S!=null&&p(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],S)}else if(l==="DISTILLATION"){const S=d(e,["learningRateMultiplier"]);t!==void 0&&S!=null&&p(t,["distillationSpec","hyperParameters","learningRateMultiplier"],S)}let u=d(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const S=d(e,["exportLastCheckpointOnly"]);t!==void 0&&S!=null&&p(t,["supervisedTuningSpec","exportLastCheckpointOnly"],S)}else if(u==="PREFERENCE_TUNING"){const S=d(e,["exportLastCheckpointOnly"]);t!==void 0&&S!=null&&p(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],S)}else if(u==="DISTILLATION"){const S=d(e,["exportLastCheckpointOnly"]);t!==void 0&&S!=null&&p(t,["distillationSpec","exportLastCheckpointOnly"],S)}let c=d(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const S=d(e,["adapterSize"]);t!==void 0&&S!=null&&p(t,["supervisedTuningSpec","hyperParameters","adapterSize"],S)}else if(c==="PREFERENCE_TUNING"){const S=d(e,["adapterSize"]);t!==void 0&&S!=null&&p(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],S)}else if(c==="DISTILLATION"){const S=d(e,["adapterSize"]);t!==void 0&&S!=null&&p(t,["distillationSpec","hyperParameters","adapterSize"],S)}let f=d(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const S=d(e,["tuningMode"]);t!==void 0&&S!=null&&p(t,["supervisedTuningSpec","tuningMode"],S)}const h=d(e,["customBaseModel"]);t!==void 0&&h!=null&&p(t,["customBaseModel"],h);let m=d(n,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const S=d(e,["batchSize"]);t!==void 0&&S!=null&&p(t,["supervisedTuningSpec","hyperParameters","batchSize"],S)}let g=d(n,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const S=d(e,["learningRate"]);t!==void 0&&S!=null&&p(t,["supervisedTuningSpec","hyperParameters","learningRate"],S)}const v=d(e,["labels"]);t!==void 0&&v!=null&&p(t,["labels"],v);const _=d(e,["beta"]);t!==void 0&&_!=null&&p(t,["preferenceOptimizationSpec","hyperParameters","beta"],_);const y=d(e,["baseTeacherModel"]);t!==void 0&&y!=null&&p(t,["distillationSpec","baseTeacherModel"],y);const w=d(e,["tunedTeacherModelSource"]);t!==void 0&&w!=null&&p(t,["distillationSpec","tunedTeacherModelSource"],w);const b=d(e,["sftLossWeightMultiplier"]);t!==void 0&&b!=null&&p(t,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],b);const T=d(e,["outputUri"]);return t!==void 0&&T!=null&&p(t,["outputUri"],T),r}function cj(e,t){const n={},r=d(e,["baseModel"]);r!=null&&p(n,["baseModel"],r);const i=d(e,["preTunedModel"]);i!=null&&p(n,["preTunedModel"],i);const o=d(e,["trainingDataset"]);o!=null&&bj(o);const a=d(e,["config"]);return a!=null&&lj(a,n),n}function fj(e,t){const n={},r=d(e,["baseModel"]);r!=null&&p(n,["baseModel"],r);const i=d(e,["preTunedModel"]);i!=null&&p(n,["preTunedModel"],i);const o=d(e,["trainingDataset"]);o!=null&&Sj(o,n,t);const a=d(e,["config"]);return a!=null&&uj(a,n,t),n}function dj(e,t){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],r),n}function hj(e,t){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],r),n}function pj(e,t,n){const r={},i=d(e,["pageSize"]);t!==void 0&&i!=null&&p(t,["_query","pageSize"],i);const o=d(e,["pageToken"]);t!==void 0&&o!=null&&p(t,["_query","pageToken"],o);const a=d(e,["filter"]);return t!==void 0&&a!=null&&p(t,["_query","filter"],a),r}function mj(e,t,n){const r={},i=d(e,["pageSize"]);t!==void 0&&i!=null&&p(t,["_query","pageSize"],i);const o=d(e,["pageToken"]);t!==void 0&&o!=null&&p(t,["_query","pageToken"],o);const a=d(e,["filter"]);return t!==void 0&&a!=null&&p(t,["_query","filter"],a),r}function gj(e,t){const n={},r=d(e,["config"]);return r!=null&&pj(r,n),n}function vj(e,t){const n={},r=d(e,["config"]);return r!=null&&mj(r,n),n}function yj(e,t){const n={},r=d(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(e,["nextPageToken"]);i!=null&&p(n,["nextPageToken"],i);const o=d(e,["tunedModels"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>VP(s))),p(n,["tuningJobs"],a)}return n}function _j(e,t){const n={},r=d(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(e,["nextPageToken"]);i!=null&&p(n,["nextPageToken"],i);const o=d(e,["tuningJobs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>Im(s))),p(n,["tuningJobs"],a)}return n}function wj(e,t){const n={},r=d(e,["name"]);r!=null&&p(n,["model"],r);const i=d(e,["name"]);return i!=null&&p(n,["endpoint"],i),n}function bj(e,t){const n={};if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=d(e,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),p(n,["examples","examples"],i)}return n}function Sj(e,t,n){const r={};let i=d(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const a=d(e,["gcsUri"]);t!==void 0&&a!=null&&p(t,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(i==="PREFERENCE_TUNING"){const a=d(e,["gcsUri"]);t!==void 0&&a!=null&&p(t,["preferenceOptimizationSpec","trainingDatasetUri"],a)}else if(i==="DISTILLATION"){const a=d(e,["gcsUri"]);t!==void 0&&a!=null&&p(t,["distillationSpec","promptDatasetUri"],a)}let o=d(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const a=d(e,["vertexDatasetResource"]);t!==void 0&&a!=null&&p(t,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(o==="PREFERENCE_TUNING"){const a=d(e,["vertexDatasetResource"]);t!==void 0&&a!=null&&p(t,["preferenceOptimizationSpec","trainingDatasetUri"],a)}else if(o==="DISTILLATION"){const a=d(e,["vertexDatasetResource"]);t!==void 0&&a!=null&&p(t,["distillationSpec","promptDatasetUri"],a)}if(d(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function VP(e,t){const n={},r=d(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(e,["name"]);i!=null&&p(n,["name"],i);const o=d(e,["state"]);o!=null&&p(n,["state"],iP(o));const a=d(e,["createTime"]);a!=null&&p(n,["createTime"],a);const s=d(e,["tuningTask","startTime"]);s!=null&&p(n,["startTime"],s);const l=d(e,["tuningTask","completeTime"]);l!=null&&p(n,["endTime"],l);const u=d(e,["updateTime"]);u!=null&&p(n,["updateTime"],u);const c=d(e,["description"]);c!=null&&p(n,["description"],c);const f=d(e,["baseModel"]);f!=null&&p(n,["baseModel"],f);const h=d(e,["_self"]);return h!=null&&p(n,["tunedModel"],wj(h)),n}function Im(e,t){const n={},r=d(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(e,["name"]);i!=null&&p(n,["name"],i);const o=d(e,["state"]);o!=null&&p(n,["state"],iP(o));const a=d(e,["createTime"]);a!=null&&p(n,["createTime"],a);const s=d(e,["startTime"]);s!=null&&p(n,["startTime"],s);const l=d(e,["endTime"]);l!=null&&p(n,["endTime"],l);const u=d(e,["updateTime"]);u!=null&&p(n,["updateTime"],u);const c=d(e,["error"]);c!=null&&p(n,["error"],c);const f=d(e,["description"]);f!=null&&p(n,["description"],f);const h=d(e,["baseModel"]);h!=null&&p(n,["baseModel"],h);const m=d(e,["tunedModel"]);m!=null&&p(n,["tunedModel"],m);const g=d(e,["preTunedModel"]);g!=null&&p(n,["preTunedModel"],g);const v=d(e,["supervisedTuningSpec"]);v!=null&&p(n,["supervisedTuningSpec"],v);const _=d(e,["preferenceOptimizationSpec"]);_!=null&&p(n,["preferenceOptimizationSpec"],_);const y=d(e,["distillationSpec"]);y!=null&&p(n,["distillationSpec"],y);const w=d(e,["tuningDataStats"]);w!=null&&p(n,["tuningDataStats"],w);const b=d(e,["encryptionSpec"]);b!=null&&p(n,["encryptionSpec"],b);const T=d(e,["partnerModelTuningSpec"]);T!=null&&p(n,["partnerModelTuningSpec"],T);const S=d(e,["customBaseModel"]);S!=null&&p(n,["customBaseModel"],S);const x=d(e,["experiment"]);x!=null&&p(n,["experiment"],x);const E=d(e,["labels"]);E!=null&&p(n,["labels"],E);const C=d(e,["outputUri"]);C!=null&&p(n,["outputUri"],C);const P=d(e,["pipelineJob"]);P!=null&&p(n,["pipelineJob"],P);const O=d(e,["serviceAccount"]);O!=null&&p(n,["serviceAccount"],O);const R=d(e,["tunedModelDisplayName"]);R!=null&&p(n,["tunedModelDisplayName"],R);const k=d(e,["veoTuningSpec"]);return k!=null&&p(n,["veoTuningSpec"],k),n}function xj(e,t){const n={},r=d(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(e,["name"]);i!=null&&p(n,["name"],i);const o=d(e,["metadata"]);o!=null&&p(n,["metadata"],o);const a=d(e,["done"]);a!=null&&p(n,["done"],a);const s=d(e,["error"]);return s!=null&&p(n,["error"],s),n}function Fh(e,t){const n={},r=d(e,["gcsUri"]);r!=null&&p(n,["validationDatasetUri"],r);const i=d(e,["vertexDatasetResource"]);return i!=null&&p(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Tj extends wr{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Ji(pr.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let a="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?a=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(a=o.name.split("/operations/")[0]),{name:a,state:gm.JOB_STATE_QUEUED}}}}async getInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=hj(t);return s=K("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>Im(c))}else{const u=dj(t);return s=K("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>VP(c))}}async listInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=vj(t);return s=K("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=_j(c),h=new Vw;return Object.assign(h,f),h})}else{const u=gj(t);return s=K("tunedModels",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=yj(c),h=new Vw;return Object.assign(h,f),h})}}async cancel(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=oj(t);return s=K("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=sj(c),h=new Gw;return Object.assign(h,f),h})}else{const u=ij(t);return s=K("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=aj(c),h=new Gw;return Object.assign(h,f),h})}}async tuneInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=fj(t,t);return o=K("tuningJobs",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>Im(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=cj(t);return o=K("tunedModels",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>xj(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ej{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Aj=1024*1024*8,Cj=3,Pj=1e3,Ij=2,Uc="x-goog-upload-status";async function Oj(e,t,n){var r;const i=await GP(e,t,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Uc])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function kj(e,t,n){var r;const i=await GP(e,t,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Uc])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const a=QC(o),s=new fy;return Object.assign(s,a),s}async function GP(e,t,n){var r,i;let o=0,a=0,s=new ym(new Response),l="upload";for(o=e.size;a<o;){const u=Math.min(Aj,o-a),c=e.slice(a,a+u);a+u>=o&&(l+=", finalize");let f=0,h=Pj;for(;f<Cj&&(s=await n.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(a),"Content-Length":String(u)}}}),!(!((r=s==null?void 0:s.headers)===null||r===void 0)&&r[Uc]));)f++,await Nj(h),h=h*Ij;if(a+=u,((i=s==null?void 0:s.headers)===null||i===void 0?void 0:i[Uc])!=="active")break;if(o<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return s}async function Rj(e){return{size:e.size,type:e.type}}function Nj(e){return new Promise(t=>setTimeout(t,e))}class Mj{async upload(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Oj(t,n,r)}async uploadToFileSearchStore(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await kj(t,n,r)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Rj(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $j{create(t,n,r){return new Dj(t,n,r)}}class Dj{constructor(t,n,r){this.url=t,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gb="x-goog-api-key";class Lj{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(gb)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(gb,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Uj="gl-node/";class Fj{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new ut({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=n.interactions,this._interactions}constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const r=IM(t.httpOptions,t.vertexai,void 0,void 0);r&&(t.httpOptions?t.httpOptions.baseUrl=r:t.httpOptions={baseUrl:r}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const i=new Lj(this.apiKey);this.apiClient=new RU({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:Uj+"web",uploader:new Mj,downloader:new Ej}),this.models=new XU(this.apiClient),this.live=new qU(this.apiClient,i,new $j),this.batches=new oD(this.apiClient),this.chats=new jD(this.models,this.apiClient),this.caches=new LD(this.apiClient),this.files=new QD(this.apiClient),this.operations=new QU(this.apiClient),this.authTokens=new pF(this.apiClient),this.tunings=new Tj(this.apiClient),this.fileSearchStores=new SF(this.apiClient)}}const jj="https://jrlnfuxprxydbvlmmany.supabase.co",Bj="sb_publishable_g7CgfP7mZ_nCPkATiK_MKw_zjdwc-XR",Vj=[{macro_code:"AG",error_code:"AG",explanation:"A general agreement error where two or more grammatical elements do not match in number, person, or form."},{macro_code:"AG",error_code:"AGA",explanation:"A pronoun does not agree with its antecedent in number, person, or gender."},{macro_code:"AG",error_code:"AGD",explanation:"A determiner does not agree with the noun it modifies in number or countability."},{macro_code:"AG",error_code:"AGN",explanation:"A noun does not agree with another grammatical element that requires number agreement."},{macro_code:"AG",error_code:"AGQ",explanation:"A quantifier does not agree with the noun it modifies in terms of countability or number."},{macro_code:"AG",error_code:"AGV",explanation:"A verb does not agree with its subject in number or person."},{macro_code:"AS",error_code:"AS",explanation:"An error in the complementation pattern of a verb, where the chosen verb requires a different argument structure."},{macro_code:"CD",error_code:"CD",explanation:"A determiner is used with a noun whose countability does not allow that determiner."},{macro_code:"O",error_code:"CE",explanation:"A noun is incorrectly treated as countable or uncountable."},{macro_code:"O",error_code:"CL",explanation:"An incorrect or unnatural collocation is used."},{macro_code:"CD",error_code:"CN",explanation:"A noun is treated as countable or uncountable in a way that is not permitted in the intended sense."},{macro_code:"CD",error_code:"CQ",explanation:"A quantifier is used that is incompatible with the countability of the noun."},{macro_code:"DA",error_code:"DA",explanation:"An incorrect derived pronoun form is used."},{macro_code:"DA",error_code:"DC",explanation:"An incorrect derived conjunction form is used."},{macro_code:"DA",error_code:"DD",explanation:"An incorrect derived determiner form is used."},{macro_code:"DA",error_code:"DI",explanation:"An incorrect inflected form of a determiner is used, where the determiner itself is appropriate but its morphological form is wrong."},{macro_code:"DA",error_code:"DJ",explanation:"An incorrect derived adjective form is used."},{macro_code:"DA",error_code:"DN",explanation:"An incorrect derived noun form is used."},{macro_code:"DA",error_code:"DQ",explanation:"An incorrect derived quantifier form is used."},{macro_code:"DA",error_code:"DT",explanation:"An incorrect derived preposition form is used."},{macro_code:"DA",error_code:"DV",explanation:"An incorrect derived verb form is used."},{macro_code:"DA",error_code:"DY",explanation:"An incorrect derived adverb form is used."},{macro_code:"F",error_code:"FA",explanation:"An incorrect pronoun form is used."},{macro_code:"F",error_code:"FD",explanation:"An incorrect determiner form is used."},{macro_code:"F",error_code:"FJ",explanation:"An incorrect adjective form is used."},{macro_code:"F",error_code:"FN",explanation:"An incorrect noun form is used."},{macro_code:"F",error_code:"FQ",explanation:"An incorrect quantifier form is used."},{macro_code:"F",error_code:"FV",explanation:"An incorrect verb form is used, such as using an infinitive where a gerund or participle is required."},{macro_code:"F",error_code:"FY",explanation:"An incorrect adverb form is used."},{macro_code:"I",error_code:"IA",explanation:"An incorrect inflected pronoun form is used."},{macro_code:"I",error_code:"ID",explanation:"An idiomatic expression is used incorrectly or unnaturally."},{macro_code:"I",error_code:"IJ",explanation:"An incorrect inflected adjective form is used."},{macro_code:"I",error_code:"IN",explanation:"An incorrect inflected noun form is used."},{macro_code:"I",error_code:"IQ",explanation:"An incorrect inflected quantifier form is used."},{macro_code:"I",error_code:"IV",explanation:"An incorrect inflected form of a verb is used, such as incorrect tense marking or agreement morphology."},{macro_code:"I",error_code:"IY",explanation:"An incorrect inflected adverb form is used."},{macro_code:"L",error_code:"L",explanation:"The register or level of formality is inappropriate for the context."},{macro_code:"M",error_code:"M",explanation:"A required grammatical element is missing."},{macro_code:"M",error_code:"MA",explanation:"A required pronoun is missing."},{macro_code:"M",error_code:"MC",explanation:"A required conjunction is missing."},{macro_code:"M",error_code:"MD",explanation:"A required determiner is missing."},{macro_code:"M",error_code:"MJ",explanation:"A required adjective is missing."},{macro_code:"M",error_code:"MN",explanation:"A required noun is missing."},{macro_code:"M",error_code:"MP",explanation:"Required punctuation is missing."},{macro_code:"M",error_code:"MQ",explanation:"A required quantifier is missing."},{macro_code:"M",error_code:"MT",explanation:"A required preposition is missing."},{macro_code:"M",error_code:"MV",explanation:"A required verb is missing."},{macro_code:"M",error_code:"MY",explanation:"A required adverb is missing."},{macro_code:"O",error_code:"QL",explanation:"The response does not appropriately address the question prompt."},{macro_code:"R",error_code:"R",explanation:"A word or phrase is present but is not the appropriate choice in the given context and needs to be replaced."},{macro_code:"R",error_code:"RA",explanation:"A pronoun is incorrectly used and should be replaced."},{macro_code:"R",error_code:"RC",explanation:"A conjunction is incorrectly used and should be replaced."},{macro_code:"R",error_code:"RD",explanation:"A determiner is incorrectly used and should be replaced."},{macro_code:"R",error_code:"RJ",explanation:"An adjective is incorrectly used and should be replaced."},{macro_code:"R",error_code:"RN",explanation:"A noun is incorrectly used and should be replaced."},{macro_code:"R",error_code:"RP",explanation:"Punctuation is incorrectly used and should be replaced."},{macro_code:"R",error_code:"RQ",explanation:"A quantifier is incorrectly used and should be replaced."},{macro_code:"R",error_code:"RT",explanation:"A preposition is incorrectly used and should be replaced."},{macro_code:"R",error_code:"RV",explanation:"A verb is used that is grammatically possible but inappropriate in meaning, collocation, or argument structure for the context."},{macro_code:"R",error_code:"RY",explanation:"An adverb is incorrectly used and should be replaced."},{macro_code:"S",error_code:"S",explanation:"A non-existent word is produced due to incorrect spelling."},{macro_code:"S",error_code:"SA",explanation:"A spelling variant that follows American conventions rather than British conventions."},{macro_code:"S",error_code:"SX",explanation:"A real English word is used, but it is not the intended word."},{macro_code:"T",error_code:"TV",explanation:"Incorrect tense is used to express time reference."},{macro_code:"U",error_code:"U",explanation:"A grammatical element is used unnecessarily."},{macro_code:"U",error_code:"UA",explanation:"A pronoun is used unnecessarily."},{macro_code:"U",error_code:"UC",explanation:"A conjunction is used unnecessarily."},{macro_code:"U",error_code:"UD",explanation:"A determiner is used unnecessarily."},{macro_code:"U",error_code:"UJ",explanation:"An adjective is used unnecessarily."},{macro_code:"U",error_code:"UN",explanation:"A noun is used unnecessarily."},{macro_code:"U",error_code:"UP",explanation:"Punctuation is used unnecessarily."},{macro_code:"U",error_code:"UQ",explanation:"A quantifier is used unnecessarily."},{macro_code:"U",error_code:"UT",explanation:"A preposition is used unnecessarily."},{macro_code:"U",error_code:"UV",explanation:"A verb is used unnecessarily."},{macro_code:"U",error_code:"UY",explanation:"An adverb is used unnecessarily."},{macro_code:"X",error_code:"W",explanation:"Words are arranged in an incorrect order."},{macro_code:"X",error_code:"X",explanation:"Negation is expressed incorrectly."}];var vb={};const Gj=`
You are an ESL Writing Error Annotation and Feedback System.
Your ONLY source of knowledge is the provided Taxonomy.
You must NOT use external grammar knowledge, teaching experience, or intuition.

STRICT RULES:
1. Only use error_codes present in the provided Taxonomy.
2. Do NOT infer, extend, merge, or invent error types.
3. macro_code MUST match the taxonomy relationship.
4. If no taxonomy definition matches, return an empty errors array [].
5. Be conservative: if unsure, do not annotate.
6. Do NOT reverse-engineer error types from the corrected sentence.
7. If an error_code is not in the taxonomy, it is invalid and must not be output.

TAXONOMY:
${JSON.stringify(Vj)}

Output MUST be valid JSON matching the schema.
`,Hj={type:et.OBJECT,properties:{corrected_text:{type:et.STRING,description:"The corrected version of the text."},annotations:{type:et.ARRAY,items:{type:et.OBJECT,properties:{original_span:{type:et.STRING,description:"The specific text segment containing the error."},corrected_span:{type:et.STRING,description:"The corrected text segment."},start_index:{type:et.INTEGER,description:"Zero-based start index of the error in the original text."},end_index:{type:et.INTEGER,description:"Zero-based end index (exclusive) of the error in the original text."},error_code:{type:et.STRING,description:"The error code from the taxonomy."},macro_code:{type:et.STRING,description:"The macro code from the taxonomy."},explanation:{type:et.STRING,description:"The explanation from the taxonomy."}},required:["original_span","corrected_span","start_index","end_index","error_code","macro_code","explanation"]}}},required:["corrected_text","annotations"]},qj=e=>new Promise(t=>setTimeout(t,e)),HP=async e=>{var o,a;if(!vb.API_KEY)throw new Error("API Key is missing");const t=new Fj({apiKey:vb.API_KEY,vertexai:!0});let n=0;const r=5,i=2e3;for(;n<r;)try{const l=(await t.models.generateContent({model:"gemini-2.5-flash",contents:{role:"user",parts:[{text:`Analyze the following text for ESL errors based strictly on the taxonomy:

"${e}"`}]},config:{systemInstruction:Gj,responseMimeType:"application/json",responseSchema:Hj,temperature:.1}})).text;if(!l)throw new Error("Empty response from AI");const u=JSON.parse(l);return{original_text:e,...u}}catch(s){const l=((o=s.message)==null?void 0:o.includes("429"))||s.status===429,u=((a=s.message)==null?void 0:a.includes("503"))||s.status===503;if((l||u)&&n<r){n++;const c=i*Math.pow(2,n)+Math.random()*1e3;console.warn(`Gemini API rate limit/error. Retrying in ${Math.round(c)}ms... (Attempt ${n}/${r})`),await qj(c);continue}throw console.error("Gemini Analysis Error:",s),s}throw new Error("Max retries exceeded for Gemini API")};function fd(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function zj(e,t,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{u(r.next(c))}catch(f){a(f)}}function l(c){try{u(r.throw(c))}catch(f){a(f)}}function u(c){c.done?o(c.value):i(c.value).then(s,l)}u((r=r.apply(e,t||[])).next())})}const Wj=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class _y extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Kj extends _y{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class yb extends _y{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class _b extends _y{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Om;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Om||(Om={}));class Jj{constructor(t,{headers:n={},customFetch:r,region:i=Om.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=Wj(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return zj(this,arguments,void 0,function*(n,r={}){var i;let o,a;try{const{headers:s,method:l,body:u,signal:c,timeout:f}=r;let h={},{region:m}=r;m||(m=this.region);const g=new URL(`${this.url}/${n}`);m&&m!=="any"&&(h["x-region"]=m,g.searchParams.set("forceFunctionRegion",m));let v;u&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",v=u):typeof u=="string"?(h["Content-Type"]="text/plain",v=u):typeof FormData<"u"&&u instanceof FormData?v=u:(h["Content-Type"]="application/json",v=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?v=JSON.stringify(u):v=u;let _=c;f&&(a=new AbortController,o=setTimeout(()=>a.abort(),f),c?(_=a.signal,c.addEventListener("abort",()=>a.abort())):_=a.signal);const y=yield this.fetch(g.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),s),body:v,signal:_}).catch(S=>{throw new Kj(S)}),w=y.headers.get("x-relay-error");if(w&&w==="true")throw new yb(y);if(!y.ok)throw new _b(y);let b=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),T;return b==="application/json"?T=yield y.json():b==="application/octet-stream"||b==="application/pdf"?T=yield y.blob():b==="text/event-stream"?T=y:b==="multipart/form-data"?T=yield y.formData():T=yield y.text(),{data:T,error:null,response:y}}catch(s){return{data:null,error:s,response:s instanceof _b||s instanceof yb?s.context:void 0}}finally{o&&clearTimeout(o)}})}}var Yj=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},Xj=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let a=null,s=null,l=null,u=o.status,c=o.statusText;if(o.ok){var f,h;if(n.method!=="HEAD"){var m;const y=await o.text();y===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((m=n.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?s=y:s=JSON.parse(y))}const v=(f=n.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),_=(h=o.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");v&&_&&_.length>1&&(l=parseInt(_[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(s)&&(s.length>1?(a={code:"PGRST116",details:`Results contain ${s.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},s=null,l=null,u=406,c="Not Acceptable"):s.length===1?s=s[0]:s=null)}else{var g;const v=await o.text();try{a=JSON.parse(v),Array.isArray(a)&&o.status===404&&(s=[],a=null,u=200,c="OK")}catch{o.status===404&&v===""?(u=204,c="No Content"):a={message:v}}if(a&&n.isMaybeSingle&&(!(a==null||(g=a.details)===null||g===void 0)&&g.includes("0 rows"))&&(a=null,u=200,c="OK"),a&&n.shouldThrowOnError)throw new Yj(a)}return{error:a,data:s,count:l,status:u,statusText:c}});return this.shouldThrowOnError||(i=i.catch(o=>{var a;let s="";const l=o==null?void 0:o.cause;if(l){var u,c,f,h;const g=(u=l==null?void 0:l.message)!==null&&u!==void 0?u:"",v=(c=l==null?void 0:l.code)!==null&&c!==void 0?c:"";s=`${(f=o==null?void 0:o.name)!==null&&f!==void 0?f:"FetchError"}: ${o==null?void 0:o.message}`,s+=`

Caused by: ${(h=l==null?void 0:l.name)!==null&&h!==void 0?h:"Error"}: ${g}`,v&&(s+=` (${v})`),l!=null&&l.stack&&(s+=`
${l.stack}`)}else{var m;s=(m=o==null?void 0:o.stack)!==null&&m!==void 0?m:""}return{error:{message:`${(a=o==null?void 0:o.name)!==null&&a!==void 0?a:"FetchError"}: ${o==null?void 0:o.message}`,details:s,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},Qj=class extends Xj{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:o="text"}={}){var a;const s=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${l}"; options=${s};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const wb=new RegExp("[,()]");var po=class extends Qj{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&wb.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&wb.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},Zj=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:r}=t??{},i=n?"HEAD":"GET";let o=!1;const a=(e??"*").split("").map(u=>/\s/.test(u)&&!o?"":(u==='"'&&(o=!o),u)).join(""),{url:s,headers:l}=this.cloneRequestState();return s.searchParams.set("select",a),r&&l.append("Prefer",`count=${r}`),new po({method:i,url:s,headers:l,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const i="POST",{url:o,headers:a}=this.cloneRequestState();if(t&&a.append("Prefer",`count=${t}`),n||a.append("Prefer","missing=default"),Array.isArray(e)){const s=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(s.length>0){const l=[...new Set(s)].map(u=>`"${u}"`);o.searchParams.set("columns",l.join(","))}}return new po({method:i,url:o,headers:a,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var o;const a="POST",{url:s,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&s.searchParams.set("on_conflict",t),r&&l.append("Prefer",`count=${r}`),i||l.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((c,f)=>c.concat(Object.keys(f)),[]);if(u.length>0){const c=[...new Set(u)].map(f=>`"${f}"`);s.searchParams.set("columns",c.join(","))}}return new po({method:a,url:s,headers:l,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:t}={}){var n;const r="PATCH",{url:i,headers:o}=this.cloneRequestState();return t&&o.append("Prefer",`count=${t}`),new po({method:r,url:i,headers:o,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;const n="DELETE",{url:r,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new po({method:n,url:r,headers:i,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},eB=class qP{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Zj(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new qP(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:o}={}){var a;let s;const l=new URL(`${this.url}/rpc/${t}`);let u;const c=m=>m!==null&&typeof m=="object"&&(!Array.isArray(m)||m.some(c)),f=r&&Object.values(n).some(c);f?(s="POST",u=n):r||i?(s=r?"HEAD":"GET",Object.entries(n).filter(([m,g])=>g!==void 0).map(([m,g])=>[m,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([m,g])=>{l.searchParams.append(m,g)})):(s="POST",u=n);const h=new Headers(this.headers);return f?h.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&h.set("Prefer",`count=${o}`),new po({method:s,url:l,headers:h,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class tB{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const i=r.node,o=parseInt(i.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const nB="2.93.3",rB=`realtime-js/${nB}`,iB="1.0.0",zP="2.0.0",bb=zP,km=1e4,oB=1e3,aB=100;var Or;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Or||(Or={}));var Ze;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ze||(Ze={}));var Cn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Cn||(Cn={}));var Rm;(function(e){e.websocket="websocket"})(Rm||(Rm={}));var wi;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(wi||(wi={}));class sB{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},a=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(t,n,r){var i,o;const a=t.topic,s=(i=t.ref)!==null&&i!==void 0?i:"",l=(o=t.join_ref)!==null&&o!==void 0?o:"",u=t.payload.event,c=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(c).length===0?"":JSON.stringify(c);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`ref length ${s.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+s.length+a.length+u.length+f.length,m=new ArrayBuffer(this.HEADER_LENGTH+h);let g=new DataView(m),v=0;g.setUint8(v++,this.KINDS.userBroadcastPush),g.setUint8(v++,l.length),g.setUint8(v++,s.length),g.setUint8(v++,a.length),g.setUint8(v++,u.length),g.setUint8(v++,f.length),g.setUint8(v++,n),Array.from(l,y=>g.setUint8(v++,y.charCodeAt(0))),Array.from(s,y=>g.setUint8(v++,y.charCodeAt(0))),Array.from(a,y=>g.setUint8(v++,y.charCodeAt(0))),Array.from(u,y=>g.setUint8(v++,y.charCodeAt(0))),Array.from(f,y=>g.setUint8(v++,y.charCodeAt(0)));var _=new Uint8Array(m.byteLength+r.byteLength);return _.set(new Uint8Array(m),0),_.set(new Uint8Array(r),m.byteLength),_.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[i,o,a,s,l]=r;return n({join_ref:i,ref:o,topic:a,event:s,payload:l})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodeUserBroadcast(t,n,r){const i=n.getUint8(1),o=n.getUint8(2),a=n.getUint8(3),s=n.getUint8(4);let l=this.HEADER_LENGTH+4;const u=r.decode(t.slice(l,l+i));l=l+i;const c=r.decode(t.slice(l,l+o));l=l+o;const f=r.decode(t.slice(l,l+a));l=l+a;const h=t.slice(l,t.byteLength),m=s===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,g={type:this.BROADCAST_EVENT,event:c,payload:m};return a>0&&(g.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class WP{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var xe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(xe||(xe={}));const Sb=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((o,a)=>(o[a]=lB(a,e,t,i),o),{}):{}},lB=(e,t,n,r)=>{const i=t.find(s=>s.name===e),o=i==null?void 0:i.type,a=n[e];return o&&!r.includes(o)?KP(o,a):Nm(a)},KP=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return dB(t,n)}switch(e){case xe.bool:return uB(t);case xe.float4:case xe.float8:case xe.int2:case xe.int4:case xe.int8:case xe.numeric:case xe.oid:return cB(t);case xe.json:case xe.jsonb:return fB(t);case xe.timestamp:return hB(t);case xe.abstime:case xe.date:case xe.daterange:case xe.int4range:case xe.int8range:case xe.money:case xe.reltime:case xe.text:case xe.time:case xe.timestamptz:case xe.timetz:case xe.tsrange:case xe.tstzrange:return Nm(t);default:return Nm(t)}},Nm=e=>e,uB=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},cB=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},fB=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},dB=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const a=e.slice(1,n);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(s=>KP(t,s))}return e},hB=e=>typeof e=="string"?e.replace(" ","T"):e,JP=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class jh{constructor(t,n,r={},i=km){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var xb;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(xb||(xb={}));class Is{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Is.syncState(this.state,i,o,a),this.pendingDiffs.forEach(l=>{this.state=Is.syncDiff(this.state,l,o,a)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Is.syncDiff(this.state,i,o,a),s())}),this.onJoin((i,o,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:a})}),this.onLeave((i,o,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const o=this.cloneDeep(t),a=this.transformState(n),s={},l={};return this.map(o,(u,c)=>{a[u]||(l[u]=c)}),this.map(a,(u,c)=>{const f=o[u];if(f){const h=c.map(_=>_.presence_ref),m=f.map(_=>_.presence_ref),g=c.filter(_=>m.indexOf(_.presence_ref)<0),v=f.filter(_=>h.indexOf(_.presence_ref)<0);g.length>0&&(s[u]=g),v.length>0&&(l[u]=v)}else s[u]=c}),this.syncDiff(o,{joins:s,leaves:l},r,i)}static syncDiff(t,n,r,i){const{joins:o,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(s,l)=>{var u;const c=(u=t[s])!==null&&u!==void 0?u:[];if(t[s]=this.cloneDeep(l),c.length>0){const f=t[s].map(m=>m.presence_ref),h=c.filter(m=>f.indexOf(m.presence_ref)<0);t[s].unshift(...h)}r(s,c,l)}),this.map(a,(s,l)=>{let u=t[s];if(!u)return;const c=l.map(f=>f.presence_ref);u=u.filter(f=>c.indexOf(f.presence_ref)<0),t[s]=u,i(s,u,l),u.length===0&&delete t[s]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Tb;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Tb||(Tb={}));var Os;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Os||(Os={}));var Zn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Zn||(Zn={}));class ko{constructor(t,n={config:{}},r){var i,o;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Ze.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new jh(this,Cn.join,this.params,this.timeout),this.rejoinTimer=new WP(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ze.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ze.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Ze.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ze.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Ze.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Cn.reply,{},(a,s)=>{this._trigger(this._replyEventName(s),a)}),this.presence=new Is(this),this.broadcastEndpointURL=JP(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Ze.closed){const{config:{broadcast:a,presence:s,private:l}}=this.params,u=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&i!==void 0?i:[],c=!!this.bindings[Os.PRESENCE]&&this.bindings[Os.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,f={},h={broadcast:a,presence:Object.assign(Object.assign({},s),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(Zn.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(Zn.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var g;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){t==null||t(Zn.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,_=(g=v==null?void 0:v.length)!==null&&g!==void 0?g:0,y=[];for(let w=0;w<_;w++){const b=v[w],{filter:{event:T,schema:S,table:x,filter:E}}=b,C=m&&m[w];if(C&&C.event===T&&ko.isFilterValueEqual(C.schema,S)&&ko.isFilterValueEqual(C.table,x)&&ko.isFilterValueEqual(C.filter,E))y.push(Object.assign(Object.assign({},b),{id:C.id}));else{this.unsubscribe(),this.state=Ze.errored,t==null||t(Zn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(Zn.SUBSCRIBED);return}}).receive("error",m=>{this.state=Ze.errored,t==null||t(Zn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Zn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Ze.joined&&t===Os.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(s.status===202)return{success:!0};let l=s.statusText;try{const u=await s.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:a}=t,s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,s,l;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(s=(a=this.params)===null||a===void 0?void 0:a.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ze.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Cn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new jh(this,Cn.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ze.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),a}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new jh(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>aB){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,o;const a=t.toLocaleLowerCase(),{close:s,error:l,leave:u,join:c}=Cn;if(r&&[s,l,u,c].indexOf(a)>=0&&r!==this._joinRef())return;let h=this._onMessage(a,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var g,v,_;return((g=m.filter)===null||g===void 0?void 0:g.event)==="*"||((_=(v=m.filter)===null||v===void 0?void 0:v.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===a}).map(m=>m.callback(h,r)):(o=this.bindings[a])===null||o===void 0||o.filter(m=>{var g,v,_,y,w,b;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){const T=m.id,S=(g=m.filter)===null||g===void 0?void 0:g.event;return T&&((v=n.ids)===null||v===void 0?void 0:v.includes(T))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const T=(w=(y=m==null?void 0:m.filter)===null||y===void 0?void 0:y.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return T==="*"||T===((b=n==null?void 0:n.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:v,table:_,commit_timestamp:y,type:w,errors:b}=g;h=Object.assign(Object.assign({},{schema:v,table:_,commit_timestamp:y,eventType:w,new:{},old:{},errors:b}),this._getPayloadRecords(g))}m.callback(h,r)})}_isClosed(){return this.state===Ze.closed}_isJoined(){return this.state===Ze.joined}_isJoining(){return this.state===Ze.joining}_isLeaving(){return this.state===Ze.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&ko.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Cn.close,{},t)}_onError(t){this._on(Cn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ze.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Sb(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Sb(t.columns,t.old_record)),n}}const Bh=()=>{},Cu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},pB=[1e3,2e3,5e3,1e4],mB=1e4,gB=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class vB{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=km,this.transport=null,this.heartbeatIntervalMs=Cu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Bh,this.ref=0,this.reconnectTimer=null,this.vsn=bb,this.logger=Bh,this.conn=null,this.sendBuffer=[],this.serializer=new sB,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Rm.websocket}`,this.httpEndpoint=JP(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=tB.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Or.connecting:return wi.Connecting;case Or.open:return wi.Open;case Or.closing:return wi.Closing;default:return wi.Closed}}isConnected(){return this.connectionState()===wi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new ko(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:i,ref:o}=t,a=()=>{this.encode(t,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(oB,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Cu.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",u)}catch(c){this.log("error","error in heartbeat callback",c)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:i,payload:o,ref:a}=n,s=a?`(${a})`:"",l=o.status||"";this.log("receive",`${l} ${r} ${i} ${s}`.trim(),o),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,o,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Or.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Or.open||this.conn.readyState===Or.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(Cn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([gB],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const o={access_token:n,version:rB};n&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(Cn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new WP(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Cu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,o,a,s,l,u,c,f,h,m;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:km,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Cu.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(s=t==null?void 0:t.heartbeatCallback)!==null&&s!==void 0?s:Bh,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:bb,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:g=>pB[g-1]||mB,this.vsn){case iB:this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(g,v)=>v(JSON.stringify(g)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(g,v)=>v(JSON.parse(g));break;case zP:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var tl=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function yB(e,t,n){const r=new URL(t,e);if(n)for(const[i,o]of Object.entries(n))o!==void 0&&r.searchParams.set(i,o);return r.toString()}async function _B(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function wB(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:o,headers:a}){const s=yB(e.baseUrl,r,i),l=await _B(e.auth),u=await t(s,{method:n,headers:{...o?{"Content-Type":"application/json"}:{},...l,...a},body:o?JSON.stringify(o):void 0}),c=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&c?JSON.parse(c):c;if(!u.ok){const m=f?h:void 0,g=m==null?void 0:m.error;throw new tl((g==null?void 0:g.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:g==null?void 0:g.type,icebergCode:g==null?void 0:g.code,details:m})}return{status:u.status,headers:u.headers,data:h}}}}function Pu(e){return e.join("")}var bB=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Pu(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Pu(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Pu(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Pu(e.namespace)}`}),!0}catch(t){if(t instanceof tl&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof tl&&n.status===409)return;throw n}}};function ro(e){return e.join("")}var SB=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ro(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ro(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ro(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ro(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ro(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ro(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof tl&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof tl&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},xB=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=wB({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new bB(this.client,t),this.tableOps=new SB(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},dd=class extends Error{constructor(e,t="storage",n,r){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=r}};function hd(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Iu=class extends dd{constructor(e,t,n,r="storage"){super(e,r,t,n),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},YP=class extends dd{constructor(e,t,n="storage"){super(e,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const TB=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),EB=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Mm=e=>{if(Array.isArray(e))return e.map(n=>Mm(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=Mm(r)}),t},AB=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function nl(e){"@babel/helpers - typeof";return nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nl(e)}function CB(e,t){if(nl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(nl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PB(e){var t=CB(e,"string");return nl(t)=="symbol"?t:t+""}function IB(e,t,n){return(t=PB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Eb(Object(n),!0).forEach(function(r){IB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Eb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const Ab=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},OB=async(e,t,n,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const i=e,o=i.status||500;if(typeof i.json=="function")i.json().then(a=>{const s=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||o+"";t(new Iu(Ab(a),o,s,r))}).catch(()=>{if(r==="vectors"){const a=o+"";t(new Iu(i.statusText||`HTTP ${o} error`,o,a,r))}else{const a=o+"";t(new Iu(i.statusText||`HTTP ${o} error`,o,a,r))}});else{const a=o+"";t(new Iu(i.statusText||`HTTP ${o} error`,o,a,r))}}else t(new YP(Ab(e),e,r))},kB=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!r?ne(ne({},i),n):(EB(r)?(i.headers=ne({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),ne(ne({},i),n))};async function ns(e,t,n,r,i,o,a){return new Promise((s,l)=>{e(n,kB(t,r,i,o)).then(u=>{if(!u.ok)throw u;if(r!=null&&r.noResolveJson)return u;if(a==="vectors"){const c=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!c||!c.includes("application/json"))return{}}return u.json()}).then(u=>s(u)).catch(u=>OB(u,l,r,a))})}function XP(e="storage"){return{get:async(t,n,r,i)=>ns(t,"GET",n,r,i,void 0,e),post:async(t,n,r,i,o)=>ns(t,"POST",n,i,o,r,e),put:async(t,n,r,i,o)=>ns(t,"PUT",n,i,o,r,e),head:async(t,n,r,i)=>ns(t,"HEAD",n,ne(ne({},r),{},{noResolveJson:!0}),i,void 0,e),remove:async(t,n,r,i,o)=>ns(t,"DELETE",n,i,o,r,e)}}const RB=XP("storage"),{get:rl,post:En,put:$m,head:NB,remove:wy}=RB,Wt=XP("vectors");var Ra=class{constructor(e,t={},n,r="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=TB(n),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(hd(n))return{data:null,error:n};throw n}}},MB=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(hd(t))return{data:null,error:t};throw t}}};let QP;QP=Symbol.toStringTag;var $B=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[QP]="BlobDownloadBuilder",this.promise=null}asStream(){return new MB(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(hd(t))return{data:null,error:t};throw t}}};const DB={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Cb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var LB=class extends Ra{constructor(e,t={},n,r){super(e,t,r,"storage"),this.bucketId=n}async uploadOrUpdate(e,t,n,r){var i=this;return i.handleOperation(async()=>{let o;const a=ne(ne({},Cb),r);let s=ne(ne({},i.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),l&&o.append("metadata",i.encodeMetadata(l)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",a.cacheControl),l&&!o.has("metadata")&&o.append("metadata",i.encodeMetadata(l))):(o=n,s["cache-control"]=`max-age=${a.cacheControl}`,s["content-type"]=a.contentType,l&&(s["x-metadata"]=i.toBase64(i.encodeMetadata(l))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!a.duplex&&(a.duplex="half")),r!=null&&r.headers&&(s=ne(ne({},s),r.headers));const u=i._removeEmptyFolders(t),c=i._getFinalPath(u),f=await(e=="PUT"?$m:En)(i.fetch,`${i.url}/object/${c}`,o,ne({headers:s},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{path:u,id:f.Id,fullPath:f.Key}})}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var i=this;const o=i._removeEmptyFolders(e),a=i._getFinalPath(o),s=new URL(i.url+`/object/upload/sign/${a}`);return s.searchParams.set("token",t),i.handleOperation(async()=>{let l;const u=ne({upsert:Cb.upsert},r),c=ne(ne({},i.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType),{path:o,fullPath:(await $m(i.fetch,s.toString(),l,{headers:c})).Key}})}async createSignedUploadUrl(e,t){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(e);const i=ne({},n.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const o=await En(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(n.url+o.url),s=a.searchParams.get("token");if(!s)throw new dd("No token returned by API");return{signedUrl:a.toString(),path:e,token:s}})}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;return r.handleOperation(async()=>await En(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}))}async copy(e,t,n){var r=this;return r.handleOperation(async()=>({path:(await En(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(e,t,n){var r=this;return r.handleOperation(async()=>{let i=r._getFinalPath(e),o=await En(r.fetch,`${r.url}/object/sign/${i}`,ne({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${r.url}${o.signedURL}${a}`)}})}async createSignedUrls(e,t,n){var r=this;return r.handleOperation(async()=>{const i=await En(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i.map(a=>ne(ne({},a),{},{signedUrl:a.signedURL?encodeURI(`${r.url}${a.signedURL}${o}`):null}))})}download(e,t){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),i=r?`?${r}`:"",o=this._getFinalPath(e),a=()=>rl(this.fetch,`${this.url}/${n}/${o}${i}`,{headers:this.headers,noResolveJson:!0});return new $B(a,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);return t.handleOperation(async()=>Mm(await rl(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})))}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await NB(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(hd(r)&&r instanceof YP){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&r.push(i);const o=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});a!==""&&r.push(a);let s=r.join("&");return s!==""&&(s=`?${s}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${s}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await wy(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,n){var r=this;return r.handleOperation(async()=>{const i=ne(ne(ne({},DB),t),{},{prefix:e||""});return await En(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n)})}async listV2(e,t){var n=this;return n.handleOperation(async()=>{const r=ne({},e);return await En(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const UB="2.93.3",Wl={"X-Client-Info":`storage-js/${UB}`};var FB=class extends Ra{constructor(e,t={},n,r){const i=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const o=i.href.replace(/\/$/,""),a=ne(ne({},Wl),t);super(o,a,n,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=t.listBucketOptionsToQueryString(e);return await rl(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await rl(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var n=this;return n.handleOperation(async()=>await En(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(e,t){var n=this;return n.handleOperation(async()=>await $m(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await En(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await wy(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},jB=class extends Ra{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=ne(ne({},Wl),t);super(r,i,n,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await En(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),i=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return await rl(t.fetch,i,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await wy(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!AB(e))throw new dd("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new xB({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,o){const a=i[o];return typeof a!="function"?a:async(...s)=>{try{return{data:await a.apply(i,s),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}}}})}},BB=class extends Ra{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=ne(ne({},Wl),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await Wt.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var n=this;return n.handleOperation(async()=>await Wt.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await Wt.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var n=this;return n.handleOperation(async()=>await Wt.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{})}},VB=class extends Ra{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=ne(ne({},Wl),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Wt.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await Wt.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await Wt.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await Wt.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Wt.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},GB=class extends Ra{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=ne(ne({},Wl),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Wt.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Wt.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await Wt.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Wt.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},HB=class extends GB{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new qB(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},qB=class extends BB{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,ne(ne({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,ne(ne({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new zB(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},zB=class extends VB{constructor(e,t,n,r,i){super(e,t,i),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,ne(ne({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,ne(ne({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,ne(ne({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,ne(ne({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,ne(ne({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},WB=class extends FB{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new LB(this.url,this.headers,e,this.fetch)}get vectors(){return new HB(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new jB(this.url+"/iceberg",this.headers,this.fetch)}};const ZP="2.93.3",mo=30*1e3,Dm=3,Vh=Dm*mo,KB="http://localhost:9999",JB="supabase.auth.token",YB={"X-Client-Info":`gotrue-js/${ZP}`},Lm="X-Supabase-Api-Version",e1={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},XB=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,QB=10*60*1e3;class il extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Q(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class ZB extends il{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function eV(e){return Q(e)&&e.name==="AuthApiError"}class bi extends il{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Sr extends il{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class Gt extends Sr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Gh(e){return Q(e)&&e.name==="AuthSessionMissingError"}class io extends Sr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ou extends Sr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ku extends Sr{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function tV(e){return Q(e)&&e.name==="AuthImplicitGrantRedirectError"}class Pb extends Sr{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class nV extends Sr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Um extends Sr{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Hh(e){return Q(e)&&e.name==="AuthRetryableFetchError"}class Ib extends Sr{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Fm extends Sr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Fc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ob=` 	
\r=`.split(""),rV=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Ob.length;t+=1)e[Ob[t].charCodeAt(0)]=-2;for(let t=0;t<Fc.length;t+=1)e[Fc[t].charCodeAt(0)]=t;return e})();function kb(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Fc[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Fc[r]),t.queuedBits-=6}}function t1(e,t,n){const r=rV[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Rb(e){const t=[],n=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=a=>{aV(a,r,n)};for(let a=0;a<e.length;a+=1)t1(e.charCodeAt(a),i,o);return t.join("")}function iV(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function oV(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}iV(r,t)}}function aV(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function qo(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)t1(e.charCodeAt(i),n,r);return new Uint8Array(t)}function sV(e){const t=[];return oV(e,n=>t.push(n)),new Uint8Array(t)}function Ai(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>kb(i,n,r)),kb(null,n,r),t.join("")}function lV(e){return Math.round(Date.now()/1e3)+e}function uV(){return Symbol("auth-callback")}const dt=()=>typeof window<"u"&&typeof document<"u",li={tested:!1,writable:!1},n1=()=>{if(!dt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(li.tested)return li.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),li.tested=!0,li.writable=!0}catch{li.tested=!0,li.writable=!1}return li.writable};function cV(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const r1=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),fV=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",go=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},ui=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ft=async(e,t)=>{await e.removeItem(t)};class pd{constructor(){this.promise=new pd.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}pd.promiseConstructor=Promise;function Ru(e){const t=e.split(".");if(t.length!==3)throw new Fm("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!XB.test(t[r]))throw new Fm("JWT not in base64url format");return{header:JSON.parse(Rb(t[0])),payload:JSON.parse(Rb(t[1])),signature:qo(t[2]),raw:{header:t[0],payload:t[1]}}}async function dV(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function hV(e,t){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const a=await e(o);if(!t(o,null,a)){r(a);return}}catch(a){if(!t(o,a)){i(a);return}}})()})}function pV(e){return("0"+e.toString(16)).substr(-2)}function mV(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,pV).join("")}async function gV(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function vV(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await gV(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function oo(e,t,n=!1){const r=mV();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await go(e,`${t}-code-verifier`,i);const o=await vV(r);return[o,r===o?"plain":"s256"]}const yV=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function _V(e){const t=e.headers.get(Lm);if(!t||!t.match(yV))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function wV(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function bV(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const SV=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ao(e){if(!SV.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function qh(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function xV(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function Nb(e){return JSON.parse(JSON.stringify(e))}const gi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),TV=[502,503,504];async function Mb(e){var t;if(!fV(e))throw new Um(gi(e),0);if(TV.includes(e.status))throw new Um(gi(e),e.status);let n;try{n=await e.json()}catch(o){throw new bi(gi(o),o)}let r;const i=_V(e);if(i&&i.getTime()>=e1["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Ib(gi(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Gt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new Ib(gi(n),e.status,n.weak_password.reasons);throw new ZB(gi(n),e.status||500,r)}const EV=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function te(e,t,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[Lm]||(o[Lm]=e1["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const a=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const s=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await AV(e,t,n+s,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function AV(e,t,n,r,i,o){const a=EV(t,r,i,o);let s;try{s=await e(n,Object.assign({},a))}catch(l){throw console.error(l),new Um(gi(l),0)}if(s.ok||await Mb(s),r!=null&&r.noResolveJson)return s;try{return await s.json()}catch(l){await Mb(l)}}function xn(e){var t;let n=null;IV(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=lV(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function $b(e){const t=xn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function $r(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function CV(e){return{data:e,error:null}}function PV(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=e,a=fd(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},a);return{data:{properties:s,user:l},error:null}}function Db(e){return e}function IV(e){return e.access_token&&e.refresh_token&&e.expires_in}const zh=["global","local","others"];class OV{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=r1(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=zh[0]){if(zh.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${zh.join(", ")}`);try{return await te(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Q(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await te(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:$r})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=fd(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:PV,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Q(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await te(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:$r})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,o,a,s,l;try{const u={nextPage:null,lastPage:0,total:0},c=await te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Db});if(c.error)throw c.error;const f=await c.json(),h=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(l=(s=c.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(g=>{const v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(g.split(";")[1].split("=")[1]);u[`${_}Page`]=v}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Q(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){ao(t);try{return await te(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:$r})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){ao(t);try{return await te(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:$r})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){ao(t);try{return await te(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:$r})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){ao(t.userId);try{const{data:n,error:r}=await te(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _deleteFactor(t){ao(t.userId),ao(t.id);try{return{data:await te(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,o,a,s,l;try{const u={nextPage:null,lastPage:0,total:0},c=await te(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Db});if(c.error)throw c.error;const f=await c.json(),h=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(l=(s=c.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(g=>{const v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(g.split(";")[1].split("=")[1]);u[`${_}Page`]=v}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Q(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await te(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await te(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await te(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Q(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await te(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await te(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}}function Lb(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const so={debug:!!(globalThis&&n1()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class i1 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class kV extends i1{}async function RV(e,t,n){so.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),so.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){so.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{so.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw so.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new kV(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(so.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function NV(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function o1(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function MV(e){return parseInt(e,16)}function $V(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function DV(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:a,notBefore:s,requestId:l,resources:u,scheme:c,uri:f,version:h}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=o1(e.address),g=c?`${c}://${r}`:r,v=e.statement?`${e.statement}
`:"",_=`${g} wants you to sign in with your Ethereum account:
${m}

${v}`;let y=`URI: ${f}
Version: ${h}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${o.toISOString()}`;if(i&&(y+=`
Expiration Time: ${i.toISOString()}`),s&&(y+=`
Not Before: ${s.toISOString()}`),l&&(y+=`
Request ID: ${l}`),u){let w=`
Resources:`;for(const b of u){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);w+=`
- ${b}`}y+=w}return`${_}
${y}`}class ze extends Error{constructor({message:t,code:n,cause:r,name:i}){var o;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class jc extends ze{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function LV({error:e,options:t}){var n,r,i;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ze({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ze({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ze({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new ze({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ze({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ze({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new ze({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ze({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(a1(a)){if(o.rp.id!==a)return new ze({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ze({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new ze({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ze({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ze({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function UV({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ze({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ze({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(a1(r)){if(n.rpId!==r)return new ze({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ze({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ze({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ze({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class FV{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const jV=new FV;function BV(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=fd(e,["challenge","user","excludeCredentials"]),o=qo(t).buffer,a=Object.assign(Object.assign({},n),{id:qo(n.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:o,user:a});if(r&&r.length>0){s.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];s.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:qo(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function VV(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=fd(e,["challenge","allowCredentials"]),i=qo(t).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const s=n[a];o.allowCredentials[a]=Object.assign(Object.assign({},s),{id:qo(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return o}function GV(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ai(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ai(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function HV(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ai(new Uint8Array(i.authenticatorData)),clientDataJSON:Ai(new Uint8Array(i.clientDataJSON)),signature:Ai(new Uint8Array(i.signature)),userHandle:i.userHandle?Ai(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function a1(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Ub(){var e,t;return!!(dt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function qV(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new jc("Browser returned unexpected credential type",t)}:{data:null,error:new jc("Empty credential response",t)}}catch(t){return{data:null,error:LV({error:t,options:e})}}}async function zV(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new jc("Browser returned unexpected credential type",t)}:{data:null,error:new jc("Empty credential response",t)}}catch(t){return{data:null,error:UV({error:t,options:e})}}}const WV={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},KV={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Bc(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const o in i){const a=i[o];if(a!==void 0)if(Array.isArray(a))r[o]=a;else if(n(a))r[o]=a;else if(t(a)){const s=r[o];t(s)?r[o]=Bc(s,a):r[o]=Bc(a)}else r[o]=a}return r}function JV(e,t){return Bc(WV,e,t||{})}function YV(e,t){return Bc(KV,e,t||{})}class XV{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},o){var a;try{const{data:s,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!s)return{data:null,error:l};const u=i??jV.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:c}=s.webauthn.credential_options.publicKey;if(!c.name){const f=r;if(f)c.name=`${c.id}:${f}`;else{const m=(await this.client.getUser()).data.user,g=((a=m==null?void 0:m.user_metadata)===null||a===void 0?void 0:a.name)||(m==null?void 0:m.email)||(m==null?void 0:m.id)||"User";c.name=`${c.id}:${g}`}}c.displayName||(c.displayName=c.name)}switch(s.webauthn.type){case"create":{const c=JV(s.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:f,error:h}=await qV({publicKey:c,signal:u});return f?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}case"request":{const c=YV(s.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:f,error:h}=await zV(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:c,signal:u}));return f?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}}}catch(s){return Q(s)?{data:null,error:s}:{data:null,error:new bi("Unexpected error in challenge",s)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new il("rpId is required for WebAuthn authentication")};try{if(!Ub())return{data:null,error:new bi("Browser does not support WebAuthn",null)};const{data:a,error:s}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!a)return{data:null,error:s};const{webauthn:l}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(a){return Q(a)?{data:null,error:a}:{data:null,error:new bi("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new il("rpId is required for WebAuthn registration")};try{if(!Ub())return{data:null,error:new bi("Browser does not support WebAuthn",null)};const{data:a,error:s}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(c=>{var f;return(f=c.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:s};const{data:l,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(a){return Q(a)?{data:null,error:a}:{data:null,error:new bi("Unexpected error in register",a)}}}}NV();const QV={url:KB,storageKey:JB,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:YB,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Fb(e,t,n){return await n()}const lo={};class ol{get jwks(){var t,n;return(n=(t=lo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){lo[this.storageKey]=Object.assign(Object.assign({},lo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=lo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){lo[this.storageKey]=Object.assign(Object.assign({},lo[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},QV),t);if(this.storageKey=o.storageKey,this.instanceID=(n=ol.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,ol.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&dt()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new OV({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=r1(o.fetch),this.lock=o.lock||Fb,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,this.lockAcquireTimeout=o.lockAcquireTimeout,o.lock?this.lock=o.lock:this.persistSession&&dt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=RV:this.lock=Fb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new XV(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:n1()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Lb(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Lb(this.memoryStorage)),dt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a);try{await this._notifyAllSubscribers(a.data.event,a.data.session,!1)}catch(s){this._debug("#broadcastChannel","error",s)}})}this.initialize().catch(a=>{this._debug("#initialize()","error",a)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${ZP}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(dt()&&(n=cV(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),dt()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),tV(o)){const l=(t=o.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return{error:o}}const{session:a,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",s),await this._saveSession(a),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Q(n)?this._returnResult({error:n}):this._returnResult({error:new bi("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const o=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:xn}),{data:a,error:s}=o;if(s||!a)return this._returnResult({data:{user:null,session:null},error:s});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(Q(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(t){var n,r,i;try{let o;if("email"in t){const{email:c,password:f,options:h}=t;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await oo(this.storage,this.storageKey)),o=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:g},xform:xn})}else if("phone"in t){const{phone:c,password:f,options:h}=t;o=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:xn})}else throw new Ou("You must provide either an email or phone number and a password");const{data:a,error:s}=o;if(s||!a)return await ft(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:s});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(await ft(this.storage,`${this.storageKey}-code-verifier`),Q(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:a,options:s}=t;n=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:$b})}else if("phone"in t){const{phone:o,password:a,options:s}=t;n=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:$b})}else throw new Ou("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const o=new io;return this._returnResult({data:{user:null,session:null},error:o})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Q(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,i,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,o,a,s,l,u,c,f,h;let m,g;if("message"in t)m=t.message,g=t.signature;else{const{chain:v,wallet:_,statement:y,options:w}=t;let b;if(dt())if(typeof _=="object")b=_;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")b=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=_}const T=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href),S=await b.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const x=o1(S[0]);let E=(r=w==null?void 0:w.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!E){const P=await b.request({method:"eth_chainId"});E=MV(P)}const C={domain:T.host,address:x,statement:y,uri:T.href,version:"1",chainId:E,nonce:(i=w==null?void 0:w.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(o=w==null?void 0:w.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(s=w==null?void 0:w.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=w==null?void 0:w.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=w==null?void 0:w.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=w==null?void 0:w.signInWithEthereum)===null||c===void 0?void 0:c.resources};m=DV(C),g=await b.request({method:"personal_sign",params:[$V(m),x]})}try{const{data:v,error:_}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:g},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:xn});if(_)throw _;if(!v||!v.session||!v.user){const y=new io;return this._returnResult({data:{user:null,session:null},error:y})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:_})}catch(v){if(Q(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async signInWithSolana(t){var n,r,i,o,a,s,l,u,c,f,h,m;let g,v;if("message"in t)g=t.message,v=t.signature;else{const{chain:_,wallet:y,statement:w,options:b}=t;let T;if(dt())if(typeof y=="object")T=y;else{const x=window;if("solana"in x&&typeof x.solana=="object"&&("signIn"in x.solana&&typeof x.solana.signIn=="function"||"signMessage"in x.solana&&typeof x.solana.signMessage=="function"))T=x.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=y}const S=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in T&&T.signIn){const x=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),w?{statement:w}:null));let E;if(Array.isArray(x)&&x[0]&&typeof x[0]=="object")E=x[0];else if(x&&typeof x=="object"&&"signedMessage"in x&&"signature"in x)E=x;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)g=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),v=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${S.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(i=(r=b==null?void 0:b.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((s=b==null?void 0:b.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(c=b==null?void 0:b.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const x=await T.signMessage(new TextEncoder().encode(g),"utf8");if(!x||!(x instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=x}}try{const{data:_,error:y}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Ai(v)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:xn});if(y)throw y;if(!_||!_.session||!_.user){const w=new io;return this._returnResult({data:{user:null,session:null},error:w})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:y})}catch(_){if(Q(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(t){const n=await ui(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new nV;const{data:o,error:a}=await te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:xn});if(await ft(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!o||!o.session||!o.user){const s=new io;return this._returnResult({data:{user:null,session:null,redirectType:null},error:s})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:a})}catch(o){if(await ft(this.storage,`${this.storageKey}-code-verifier`),Q(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:o,nonce:a}=t,s=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:xn}),{data:l,error:u}=s;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new io;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(n){if(Q(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,i,o,a;try{if("email"in t){const{email:s,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await oo(this.storage,this.storageKey));const{error:f}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:s,options:l}=t,{data:u,error:c}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new Ou("You must provide either an email or phone number.")}catch(s){if(await ft(this.storage,`${this.storageKey}-code-verifier`),Q(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async verifyOtp(t){var n,r;try{let i,o;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:s}=await te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:xn});if(s)throw s;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(Q(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,r,i,o,a;try{let s=null,l=null;this.flowType==="pkce"&&([s,l]=await oo(this.storage,this.storageKey));const u=await te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:l}),headers:this.headers,xform:CV});return!((o=u.data)===null||o===void 0)&&o.url&&dt()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(s){if(await ft(this.storage,`${this.storageKey}-code-verifier`),Q(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Gt;const{error:i}=await te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(Q(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:o}=t,{error:a}=await te(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){const{phone:r,type:i,options:o}=t,{data:a,error:s}=await te(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:s})}throw new Ou("You must provide either an email or phone number and a type")}catch(n){if(Q(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await ui(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Vh:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const a=await ui(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=qh()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=xV(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:$r}):await this._useSession(async n=>{var r,i,o;const{data:a,error:s}=n;if(s)throw s;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Gt}:await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:$r})})}catch(n){if(Q(n))return Gh(n)&&(await this._removeSession(),await ft(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new Gt;const a=i.session;let s=null,l=null;this.flowType==="pkce"&&t.email!=null&&([s,l]=await oo(this.storage,this.storageKey));const{data:u,error:c}=await te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:s,code_challenge_method:l}),jwt:a.access_token,xform:$r});if(c)throw c;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(await ft(this.storage,`${this.storageKey}-code-verifier`),Q(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Gt;const n=Date.now()/1e3;let r=n,i=!0,o=null;const{payload:a}=Ru(t.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{data:s,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s)return{data:{user:null,session:null},error:null};o=s}else{const{data:s,error:l}=await this._getUser(t.access_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});o={access_token:t.access_token,refresh_token:t.refresh_token,user:s.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(Q(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:a,error:s}=n;if(s)throw s;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Gt;const{data:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Q(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!dt())throw new ku("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ku(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Pb("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ku("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Pb("No code detected.");const{data:w,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:a,expires_in:s,expires_at:l,token_type:u}=t;if(!o||!s||!a||!u)throw new ku("No session defined in URL");const c=Math.round(Date.now()/1e3),f=parseInt(s);let h=c+f;l&&(h=parseInt(l));const m=h-c;m*1e3<=mo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const g=h-f;c-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,c):c-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,c);const{data:v,error:_}=await this._getUser(o);if(_)throw _;const y={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:f,expires_at:h,refresh_token:a,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:y,redirectType:t.type},error:null})}catch(r){if(Q(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await ui(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o&&!Gh(o))return this._returnResult({error:o});const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:s}=await this.admin.signOut(a,t);if(s&&!(eV(s)&&(s.status===404||s.status===401||s.status===403)||Gh(s)))return this._returnResult({error:s})}return t!=="others"&&(await this._removeSession(),await ft(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=uV(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await oo(this.storage,this.storageKey,!0));try{return await te(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(await ft(this.storage,`${this.storageKey}-code-verifier`),Q(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var a,s,l,u,c;const{data:f,error:h}=o;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await te(this.fetch,"GET",m,{headers:this.headers,jwt:(c=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return dt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(Q(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:o}}=n;if(i)throw i;const{options:a,provider:s,token:l,access_token:u,nonce:c}=t,f=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:s,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:xn}),{data:h,error:m}=f;return m?this._returnResult({data:{user:null,session:null},error:m}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new io}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:m}))}catch(i){if(await ft(this.storage,`${this.storageKey}-code-verifier`),Q(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:a}=n;if(a)throw a;return await te(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await hV(async i=>(i>0&&await dV(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:xn})),(i,o)=>{const a=200*Math.pow(2,i);return o&&Hh(o)&&Date.now()+a-r<mo})}catch(r){if(this._debug(n,"error",r),Q(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),dt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await ui(this.storage,this.storageKey);if(i&&this.userStorage){let a=await ui(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await go(this.userStorage,this.storageKey+"-user",a)),i.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:qh()}else if(i&&!i.user&&!i.user){const a=await ui(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await ft(this.storage,this.storageKey+"-user"),await go(this.storage,this.storageKey,i)):i.user=qh()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Vh;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${Vh}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),Hh(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:s}=await this._getUser(i.access_token);!s&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Gt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new pd;const{data:o,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!o.session)throw new Gt;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const s={data:o.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(o){if(this._debug(i,"error",o),Q(o)){const a={data:null,error:o};return Hh(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],a=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(t,n)}catch(l){o.push(l)}});if(await Promise.all(a),o.length>0){for(let s=0;s<o.length;s+=1)console.error(o[s]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await ft(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await go(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const o=Nb(i);await go(this.storage,this.storageKey,o)}else{const i=Nb(n);await go(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ft(this.storage,this.storageKey),await ft(this.storage,this.storageKey+"-code-verifier"),await ft(this.storage,this.storageKey+"-user"),this.userStorage&&await ft(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&dt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),mo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/mo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${mo}ms, refresh threshold is ${Dm} ticks`),i<=Dm&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof i1)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!dt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,a]=await oo(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(s.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?this._returnResult({data:null,error:o}):await te(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:a}=n;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await te(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?GV(t.webauthn.credential_response):HV(t.webauthn.credential_response)})}:{code:t.code}),{data:s,error:l}=await te(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:l}))})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=await te(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:s}=a;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:BV(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:VV(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(t){var n,r,i,o;if(t)try{const{payload:m}=Ru(t);let g=null;m.aal&&(g=m.aal);let v=g;const{data:{user:_},error:y}=await this.getUser(t);if(y)return this._returnResult({data:null,error:y});((r=(n=_==null?void 0:_.factors)===null||n===void 0?void 0:n.filter(T=>T.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(v="aal2");const b=m.amr||[];return{data:{currentLevel:g,nextLevel:v,currentAuthenticationMethods:b},error:null}}catch(m){if(Q(m))return this._returnResult({data:null,error:m});throw m}const{data:{session:a},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Ru(a.access_token);let u=null;l.aal&&(u=l.aal);let c=u;((o=(i=a.user.factors)===null||i===void 0?void 0:i.filter(m=>m.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(c="aal2");const h=l.amr||[];return{data:{currentLevel:u,nextLevel:c,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await te(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Gt})})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new Gt});const a=await te(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return a.data&&a.data.redirect_url&&dt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(Q(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new Gt});const a=await te(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return a.data&&a.data.redirect_url&&dt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(Q(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await te(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Gt})})}catch(t){if(Q(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await te(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Gt})})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(s=>s.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(s=>s.kid===t),r&&this.jwks_cached_at+QB>i)return r;const{data:o,error:a}=await te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(s=>s.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:m,error:g}=await this.getSession();if(g||!m.session)return this._returnResult({data:null,error:g});r=m.session.access_token}const{header:i,payload:o,signature:a,raw:{header:s,payload:l}}=Ru(r);n!=null&&n.allowExpired||wV(o.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:o,header:i,signature:a},error:null}}const c=bV(i.alg),f=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,f,a,sV(`${s}.${l}`)))throw new Fm("Invalid JWT signature");return{data:{claims:o,header:i,signature:a},error:null}}catch(r){if(Q(r))return this._returnResult({data:null,error:r});throw r}}}ol.nextInstanceID={};const ZV=ol,eG="2.93.3";let ys="";typeof Deno<"u"?ys="deno":typeof document<"u"?ys="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ys="react-native":ys="node";const tG={"X-Client-Info":`supabase-js-${ys}/${eG}`},nG={headers:tG},rG={schema:"public"},iG={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},oG={};function al(e){"@babel/helpers - typeof";return al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},al(e)}function aG(e,t){if(al(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(al(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sG(e){var t=aG(e,"string");return al(t)=="symbol"?t:t+""}function lG(e,t,n){return(t=sG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jb(Object(n),!0).forEach(function(r){lG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const uG=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),cG=()=>Headers,fG=(e,t,n)=>{const r=uG(n),i=cG();return async(o,a)=>{var s;const l=(s=await t())!==null&&s!==void 0?s:e;let u=new i(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(o,je(je({},a),{},{headers:u}))}};function dG(e){return e.endsWith("/")?e:e+"/"}function hG(e,t){var n,r;const{db:i,auth:o,realtime:a,global:s}=e,{db:l,auth:u,realtime:c,global:f}=t,h={db:je(je({},l),i),auth:je(je({},u),o),realtime:je(je({},c),a),storage:{},global:je(je(je({},f),s),{},{headers:je(je({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=s==null?void 0:s.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function pG(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(dG(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var mG=class extends ZV{constructor(e){super(e)}},gG=class{constructor(e,t,n){var r,i;this.supabaseUrl=e,this.supabaseKey=t;const o=pG(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const a=`sb-${o.hostname.split(".")[0]}-auth-token`,s={db:rG,realtime:oG,auth:je(je({},iG),{},{storageKey:a}),global:nG},l=hG(n??{},s);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(c,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=fG(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(je({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(c=>this.realtime.setAuth(c)).catch(c=>console.warn("Failed to set initial Realtime auth token:",c)),this.rest=new eB(new URL("rest/v1",o).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new WB(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new Jj(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:o,flowType:a,lock:s,debug:l,throwOnError:u},c,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new mG({url:this.authUrl.href,headers:je(je({},h),c),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,flowType:a,lock:s,debug:l,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new vB(this.realtimeUrl.href,je(je({},e),{},{params:je(je({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const vG=(e,t,n)=>new gG(e,t,n);function yG(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}yG()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const s1=vG(jj,Bj),l1=async e=>{try{const{data:t,error:n}=await s1.from("essay_analyses").insert([{original_text:e.original_text,corrected_text:e.corrected_text,analysis_json:e.annotations,error_count:e.annotations.length}]).select();if(n)throw console.error("Supabase Error:",n),n;return t}catch(t){return console.error("Failed to save record:",t),null}},_G=async()=>{try{const{data:e,error:t}=await s1.from("essay_analyses").select("*").order("created_at",{ascending:!1}).limit(100);if(t)throw console.error("Supabase Fetch Error:",t),t;return e.map(n=>({id:n.id,created_at:n.created_at,original_text:n.original_text,corrected_text:n.corrected_text,annotations:n.analysis_json||[],error_count:n.error_count}))}catch(e){return console.error("Failed to fetch history:",e),[]}};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wG={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bG=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Re=(e,t)=>{const n=U.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:s="",children:l,...u},c)=>U.createElement("svg",{ref:c,...wG,width:i,height:i,stroke:r,strokeWidth:a?Number(o)*24/Number(i):o,className:["lucide",`lucide-${bG(e)}`,s].join(" "),...u},[...t.map(([f,h])=>U.createElement(f,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=Re("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SG=Re("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xG=Re("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TG=Re("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EG=Re("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=Re("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AG=Re("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=Re("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CG=Re("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PG=Re("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IG=Re("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OG=Re("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kG=Re("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RG=Re("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=Re("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NG=Re("PauseCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MG=Re("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $G=Re("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DG=Re("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LG=Re("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=Re("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UG=Re("StopCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{width:"6",height:"6",x:"9",y:"9",key:"1wrtvo"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FG=Re("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jG=Re("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=Re("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),c1=({originalText:e,annotations:t})=>{const[n,r]=U.useState(null),i=[...t].sort((a,s)=>a.start_index-s.start_index),o=()=>{const a=[];let s=0;return i.forEach((l,u)=>{l.start_index>s&&a.push(A.jsx("span",{children:e.slice(s,l.start_index)},`text-${u}`));const c=e.slice(l.start_index,l.end_index);a.push(A.jsx("span",{className:"bg-red-100 text-red-800 border-b-2 border-red-400 cursor-pointer hover:bg-red-200 transition-colors px-0.5 rounded-sm relative group",onClick:()=>r(l),children:c},`ann-${u}`)),s=l.end_index}),s<e.length&&a.push(A.jsx("span",{children:e.slice(s)},"text-end")),a};return A.jsxs("div",{className:"relative",children:[A.jsx("div",{className:"p-6 bg-white rounded-lg shadow-sm border border-slate-200 leading-relaxed text-lg font-serif text-slate-800 whitespace-pre-wrap",children:o()}),n&&A.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/20 backdrop-blur-sm p-4",onClick:()=>r(null),children:A.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full overflow-hidden border border-slate-100",onClick:a=>a.stopPropagation(),children:[A.jsxs("div",{className:"bg-slate-50 px-4 py-3 border-b border-slate-100 flex justify-between items-center",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("span",{className:"bg-blue-600 text-white text-xs font-bold px-2 py-1 rounded",children:n.error_code}),A.jsx("span",{className:"text-slate-500 text-sm font-medium",children:n.macro_code})]}),A.jsx("button",{onClick:()=>r(null),className:"text-slate-400 hover:text-slate-600",children:A.jsx(u1,{size:20})})]}),A.jsxs("div",{className:"p-5 space-y-4",children:[A.jsxs("div",{children:[A.jsx("h4",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider mb-1",children:"Original"}),A.jsx("p",{className:"text-red-600 bg-red-50 p-2 rounded border border-red-100 font-medium",children:n.original_span})]}),A.jsxs("div",{children:[A.jsx("h4",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider mb-1",children:"Correction"}),A.jsx("p",{className:"text-green-600 bg-green-50 p-2 rounded border border-green-100 font-medium",children:n.corrected_span})]}),A.jsxs("div",{children:[A.jsx("h4",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider mb-1",children:"Explanation"}),A.jsx("p",{className:"text-slate-600 text-sm leading-relaxed",children:n.explanation})]})]})]})})]})};function f1(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=f1(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function le(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=f1(e))&&(r&&(r+=" "),r+=t);return r}var BG=Array.isArray,Vt=BG,VG=typeof iu=="object"&&iu&&iu.Object===Object&&iu,d1=VG,GG=d1,HG=typeof self=="object"&&self&&self.Object===Object&&self,qG=GG||HG||Function("return this")(),Kn=qG,zG=Kn,WG=zG.Symbol,Kl=WG,qb=Kl,h1=Object.prototype,KG=h1.hasOwnProperty,JG=h1.toString,rs=qb?qb.toStringTag:void 0;function YG(e){var t=KG.call(e,rs),n=e[rs];try{e[rs]=void 0;var r=!0}catch{}var i=JG.call(e);return r&&(t?e[rs]=n:delete e[rs]),i}var XG=YG,QG=Object.prototype,ZG=QG.toString;function e3(e){return ZG.call(e)}var t3=e3,zb=Kl,n3=XG,r3=t3,i3="[object Null]",o3="[object Undefined]",Wb=zb?zb.toStringTag:void 0;function a3(e){return e==null?e===void 0?o3:i3:Wb&&Wb in Object(e)?n3(e):r3(e)}var xr=a3;function s3(e){return e!=null&&typeof e=="object"}var Tr=s3,l3=xr,u3=Tr,c3="[object Symbol]";function f3(e){return typeof e=="symbol"||u3(e)&&l3(e)==c3}var Na=f3,d3=Vt,h3=Na,p3=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,m3=/^\w*$/;function g3(e,t){if(d3(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||h3(e)?!0:m3.test(e)||!p3.test(e)||t!=null&&e in Object(t)}var by=g3;function v3(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ni=v3;const Ma=_e(ni);var y3=xr,_3=ni,w3="[object AsyncFunction]",b3="[object Function]",S3="[object GeneratorFunction]",x3="[object Proxy]";function T3(e){if(!_3(e))return!1;var t=y3(e);return t==b3||t==S3||t==w3||t==x3}var Sy=T3;const ie=_e(Sy);var E3=Kn,A3=E3["__core-js_shared__"],C3=A3,Wh=C3,Kb=function(){var e=/[^.]+$/.exec(Wh&&Wh.keys&&Wh.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function P3(e){return!!Kb&&Kb in e}var I3=P3,O3=Function.prototype,k3=O3.toString;function R3(e){if(e!=null){try{return k3.call(e)}catch{}try{return e+""}catch{}}return""}var p1=R3,N3=Sy,M3=I3,$3=ni,D3=p1,L3=/[\\^$.*+?()[\]{}|]/g,U3=/^\[object .+?Constructor\]$/,F3=Function.prototype,j3=Object.prototype,B3=F3.toString,V3=j3.hasOwnProperty,G3=RegExp("^"+B3.call(V3).replace(L3,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function H3(e){if(!$3(e)||M3(e))return!1;var t=N3(e)?G3:U3;return t.test(D3(e))}var q3=H3;function z3(e,t){return e==null?void 0:e[t]}var W3=z3,K3=q3,J3=W3;function Y3(e,t){var n=J3(e,t);return K3(n)?n:void 0}var Yi=Y3,X3=Yi,Q3=X3(Object,"create"),md=Q3,Jb=md;function Z3(){this.__data__=Jb?Jb(null):{},this.size=0}var eH=Z3;function tH(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var nH=tH,rH=md,iH="__lodash_hash_undefined__",oH=Object.prototype,aH=oH.hasOwnProperty;function sH(e){var t=this.__data__;if(rH){var n=t[e];return n===iH?void 0:n}return aH.call(t,e)?t[e]:void 0}var lH=sH,uH=md,cH=Object.prototype,fH=cH.hasOwnProperty;function dH(e){var t=this.__data__;return uH?t[e]!==void 0:fH.call(t,e)}var hH=dH,pH=md,mH="__lodash_hash_undefined__";function gH(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=pH&&t===void 0?mH:t,this}var vH=gH,yH=eH,_H=nH,wH=lH,bH=hH,SH=vH;function $a(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}$a.prototype.clear=yH;$a.prototype.delete=_H;$a.prototype.get=wH;$a.prototype.has=bH;$a.prototype.set=SH;var xH=$a;function TH(){this.__data__=[],this.size=0}var EH=TH;function AH(e,t){return e===t||e!==e&&t!==t}var xy=AH,CH=xy;function PH(e,t){for(var n=e.length;n--;)if(CH(e[n][0],t))return n;return-1}var gd=PH,IH=gd,OH=Array.prototype,kH=OH.splice;function RH(e){var t=this.__data__,n=IH(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():kH.call(t,n,1),--this.size,!0}var NH=RH,MH=gd;function $H(e){var t=this.__data__,n=MH(t,e);return n<0?void 0:t[n][1]}var DH=$H,LH=gd;function UH(e){return LH(this.__data__,e)>-1}var FH=UH,jH=gd;function BH(e,t){var n=this.__data__,r=jH(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var VH=BH,GH=EH,HH=NH,qH=DH,zH=FH,WH=VH;function Da(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Da.prototype.clear=GH;Da.prototype.delete=HH;Da.prototype.get=qH;Da.prototype.has=zH;Da.prototype.set=WH;var vd=Da,KH=Yi,JH=Kn,YH=KH(JH,"Map"),Ty=YH,Yb=xH,XH=vd,QH=Ty;function ZH(){this.size=0,this.__data__={hash:new Yb,map:new(QH||XH),string:new Yb}}var eq=ZH;function tq(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var nq=tq,rq=nq;function iq(e,t){var n=e.__data__;return rq(t)?n[typeof t=="string"?"string":"hash"]:n.map}var yd=iq,oq=yd;function aq(e){var t=oq(this,e).delete(e);return this.size-=t?1:0,t}var sq=aq,lq=yd;function uq(e){return lq(this,e).get(e)}var cq=uq,fq=yd;function dq(e){return fq(this,e).has(e)}var hq=dq,pq=yd;function mq(e,t){var n=pq(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var gq=mq,vq=eq,yq=sq,_q=cq,wq=hq,bq=gq;function La(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}La.prototype.clear=vq;La.prototype.delete=yq;La.prototype.get=_q;La.prototype.has=wq;La.prototype.set=bq;var Ey=La,m1=Ey,Sq="Expected a function";function Ay(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Sq);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Ay.Cache||m1),n}Ay.Cache=m1;var g1=Ay;const xq=_e(g1);var Tq=g1,Eq=500;function Aq(e){var t=Tq(e,function(r){return n.size===Eq&&n.clear(),r}),n=t.cache;return t}var Cq=Aq,Pq=Cq,Iq=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Oq=/\\(\\)?/g,kq=Pq(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Iq,function(n,r,i,o){t.push(i?o.replace(Oq,"$1"):r||n)}),t}),Rq=kq;function Nq(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var Cy=Nq,Xb=Kl,Mq=Cy,$q=Vt,Dq=Na,Qb=Xb?Xb.prototype:void 0,Zb=Qb?Qb.toString:void 0;function v1(e){if(typeof e=="string")return e;if($q(e))return Mq(e,v1)+"";if(Dq(e))return Zb?Zb.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Lq=v1,Uq=Lq;function Fq(e){return e==null?"":Uq(e)}var y1=Fq,jq=Vt,Bq=by,Vq=Rq,Gq=y1;function Hq(e,t){return jq(e)?e:Bq(e,t)?[e]:Vq(Gq(e))}var _1=Hq,qq=Na;function zq(e){if(typeof e=="string"||qq(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var _d=zq,Wq=_1,Kq=_d;function Jq(e,t){t=Wq(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[Kq(t[n++])];return n&&n==r?e:void 0}var Py=Jq,Yq=Py;function Xq(e,t,n){var r=e==null?void 0:Yq(e,t);return r===void 0?n:r}var w1=Xq;const Xt=_e(w1);function Qq(e){return e==null}var Zq=Qq;const ue=_e(Zq);var e4=xr,t4=Vt,n4=Tr,r4="[object String]";function i4(e){return typeof e=="string"||!t4(e)&&n4(e)&&e4(e)==r4}var o4=i4;const Bi=_e(o4);var b1={exports:{}},we={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iy=Symbol.for("react.element"),Oy=Symbol.for("react.portal"),wd=Symbol.for("react.fragment"),bd=Symbol.for("react.strict_mode"),Sd=Symbol.for("react.profiler"),xd=Symbol.for("react.provider"),Td=Symbol.for("react.context"),a4=Symbol.for("react.server_context"),Ed=Symbol.for("react.forward_ref"),Ad=Symbol.for("react.suspense"),Cd=Symbol.for("react.suspense_list"),Pd=Symbol.for("react.memo"),Id=Symbol.for("react.lazy"),s4=Symbol.for("react.offscreen"),S1;S1=Symbol.for("react.module.reference");function _n(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Iy:switch(e=e.type,e){case wd:case Sd:case bd:case Ad:case Cd:return e;default:switch(e=e&&e.$$typeof,e){case a4:case Td:case Ed:case Id:case Pd:case xd:return e;default:return t}}case Oy:return t}}}we.ContextConsumer=Td;we.ContextProvider=xd;we.Element=Iy;we.ForwardRef=Ed;we.Fragment=wd;we.Lazy=Id;we.Memo=Pd;we.Portal=Oy;we.Profiler=Sd;we.StrictMode=bd;we.Suspense=Ad;we.SuspenseList=Cd;we.isAsyncMode=function(){return!1};we.isConcurrentMode=function(){return!1};we.isContextConsumer=function(e){return _n(e)===Td};we.isContextProvider=function(e){return _n(e)===xd};we.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Iy};we.isForwardRef=function(e){return _n(e)===Ed};we.isFragment=function(e){return _n(e)===wd};we.isLazy=function(e){return _n(e)===Id};we.isMemo=function(e){return _n(e)===Pd};we.isPortal=function(e){return _n(e)===Oy};we.isProfiler=function(e){return _n(e)===Sd};we.isStrictMode=function(e){return _n(e)===bd};we.isSuspense=function(e){return _n(e)===Ad};we.isSuspenseList=function(e){return _n(e)===Cd};we.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===wd||e===Sd||e===bd||e===Ad||e===Cd||e===s4||typeof e=="object"&&e!==null&&(e.$$typeof===Id||e.$$typeof===Pd||e.$$typeof===xd||e.$$typeof===Td||e.$$typeof===Ed||e.$$typeof===S1||e.getModuleId!==void 0)};we.typeOf=_n;b1.exports=we;var l4=b1.exports,u4=xr,c4=Tr,f4="[object Number]";function d4(e){return typeof e=="number"||c4(e)&&u4(e)==f4}var x1=d4;const h4=_e(x1);var p4=x1;function m4(e){return p4(e)&&e!=+e}var g4=m4;const Jl=_e(g4);var Ct=function(t){return t===0?0:t>0?1:-1},Ci=function(t){return Bi(t)&&t.indexOf("%")===t.length-1},z=function(t){return h4(t)&&!Jl(t)},v4=function(t){return ue(t)},rt=function(t){return z(t)||Bi(t)},y4=0,Yl=function(t){var n=++y4;return"".concat(t||"").concat(n)},Pt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!z(t)&&!Bi(t))return r;var o;if(Ci(t)){var a=t.indexOf("%");o=n*parseFloat(t.slice(0,a))/100}else o=+t;return Jl(o)&&(o=r),i&&o>n&&(o=n),o},Dr=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},_4=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},i=0;i<n;i++)if(!r[t[i]])r[t[i]]=!0;else return!0;return!1},kr=function(t,n){return z(t)&&z(n)?function(r){return t+r*(n-t)}:function(){return n}};function Bm(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):Xt(r,t))===n})}var w4=function(t,n){return z(t)&&z(n)?t-n:Bi(t)&&Bi(n)?t.localeCompare(n):t instanceof Date&&n instanceof Date?t.getTime()-n.getTime():String(t).localeCompare(String(n))};function zo(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function Vm(e){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vm(e)}var b4=["viewBox","children"],S4=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],eS=["points","pathLength"],Kh={svg:b4,polygon:eS,polyline:eS},ky=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Vc=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(U.isValidElement(t)&&(r=t.props),!Ma(r))return null;var i={};return Object.keys(r).forEach(function(o){ky.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},x4=function(t,n,r){return function(i){return t(n,r,i),null}},Vi=function(t,n,r){if(!Ma(t)||Vm(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(o){var a=t[o];ky.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=x4(a,n,r))}),i},T4=["children"],E4=["children"];function tS(e,t){if(e==null)return{};var n=A4(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function A4(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var nS={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},lr=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},rS=null,Jh=null,Ry=function e(t){if(t===rS&&Array.isArray(Jh))return Jh;var n=[];return U.Children.forEach(t,function(r){ue(r)||(l4.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),Jh=n,rS=t,n};function pn(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(i){return lr(i)}):r=[lr(t)],Ry(e).forEach(function(i){var o=Xt(i,"type.displayName")||Xt(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function zt(e,t){var n=pn(e,t);return n&&n[0]}var iS=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,i=n.height;return!(!z(r)||r<=0||!z(i)||i<=0)},C4=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],P4=function(t){return t&&t.type&&Bi(t.type)&&C4.indexOf(t.type)>=0},I4=function(t,n,r,i){var o,a=(o=Kh==null?void 0:Kh[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!ie(t)&&(i&&a.includes(n)||S4.includes(n))||r&&ky.includes(n)},re=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(U.isValidElement(t)&&(i=t.props),!Ma(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;I4((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},Gm=function e(t,n){if(t===n)return!0;var r=U.Children.count(t);if(r!==U.Children.count(n))return!1;if(r===0)return!0;if(r===1)return oS(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=t[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!e(o,a))return!1}else if(!oS(o,a))return!1}return!0},oS=function(t,n){if(ue(t)&&ue(n))return!0;if(!ue(t)&&!ue(n)){var r=t.props||{},i=r.children,o=tS(r,T4),a=n.props||{},s=a.children,l=tS(a,E4);return i&&s?zo(o,l)&&Gm(i,s):!i&&!s?zo(o,l):!1}return!1},aS=function(t,n){var r=[],i={};return Ry(t).forEach(function(o,a){if(P4(o))r.push(o);else if(o){var s=lr(o.type),l=n[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var f=u(o,s,a);r.push(f),i[s]=!0}}}),r},O4=function(t){var n=t&&t.type;return n&&nS[n]?nS[n]:null},k4=function(t,n){return Ry(n).indexOf(t)},R4=["children","width","height","viewBox","className","style","title","desc"];function Hm(){return Hm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hm.apply(this,arguments)}function N4(e,t){if(e==null)return{};var n=M4(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function M4(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function qm(e){var t=e.children,n=e.width,r=e.height,i=e.viewBox,o=e.className,a=e.style,s=e.title,l=e.desc,u=N4(e,R4),c=i||{width:n,height:r,x:0,y:0},f=le("recharts-surface",o);return I.createElement("svg",Hm({},re(u,!0,"svg"),{className:f,width:n,height:r,style:a,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),I.createElement("title",null,s),I.createElement("desc",null,l),t)}var $4=["children","className"];function zm(){return zm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zm.apply(this,arguments)}function D4(e,t){if(e==null)return{};var n=L4(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function L4(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var ve=I.forwardRef(function(e,t){var n=e.children,r=e.className,i=D4(e,$4),o=le("recharts-layer",r);return I.createElement("g",zm({className:o},re(i,!0),{ref:t}),n)}),$n=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function U4(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}var F4=U4,j4=F4;function B4(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:j4(e,t,n)}var V4=B4,G4="\\ud800-\\udfff",H4="\\u0300-\\u036f",q4="\\ufe20-\\ufe2f",z4="\\u20d0-\\u20ff",W4=H4+q4+z4,K4="\\ufe0e\\ufe0f",J4="\\u200d",Y4=RegExp("["+J4+G4+W4+K4+"]");function X4(e){return Y4.test(e)}var T1=X4;function Q4(e){return e.split("")}var Z4=Q4,E1="\\ud800-\\udfff",ez="\\u0300-\\u036f",tz="\\ufe20-\\ufe2f",nz="\\u20d0-\\u20ff",rz=ez+tz+nz,iz="\\ufe0e\\ufe0f",oz="["+E1+"]",Wm="["+rz+"]",Km="\\ud83c[\\udffb-\\udfff]",az="(?:"+Wm+"|"+Km+")",A1="[^"+E1+"]",C1="(?:\\ud83c[\\udde6-\\uddff]){2}",P1="[\\ud800-\\udbff][\\udc00-\\udfff]",sz="\\u200d",I1=az+"?",O1="["+iz+"]?",lz="(?:"+sz+"(?:"+[A1,C1,P1].join("|")+")"+O1+I1+")*",uz=O1+I1+lz,cz="(?:"+[A1+Wm+"?",Wm,C1,P1,oz].join("|")+")",fz=RegExp(Km+"(?="+Km+")|"+cz+uz,"g");function dz(e){return e.match(fz)||[]}var hz=dz,pz=Z4,mz=T1,gz=hz;function vz(e){return mz(e)?gz(e):pz(e)}var yz=vz,_z=V4,wz=T1,bz=yz,Sz=y1;function xz(e){return function(t){t=Sz(t);var n=wz(t)?bz(t):void 0,r=n?n[0]:t.charAt(0),i=n?_z(n,1).join(""):t.slice(1);return r[e]()+i}}var Tz=xz,Ez=Tz,Az=Ez("toUpperCase"),Cz=Az;const Od=_e(Cz);function Ee(e){return function(){return e}}const k1=Math.cos,Gc=Math.sin,Un=Math.sqrt,Hc=Math.PI,kd=2*Hc,Jm=Math.PI,Ym=2*Jm,vi=1e-6,Pz=Ym-vi;function R1(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Iz(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return R1;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Oz{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?R1:Iz(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,a){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-t,u=i-n,c=a-t,f=s-n,h=c*c+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>vi)if(!(Math.abs(f*l-u*c)>vi)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-a,g=i-s,v=l*l+u*u,_=m*m+g*g,y=Math.sqrt(v),w=Math.sqrt(h),b=o*Math.tan((Jm-Math.acos((v+h-_)/(2*y*w)))/2),T=b/w,S=b/y;Math.abs(T-1)>vi&&this._append`L${t+T*c},${n+T*f}`,this._append`A${o},${o},0,0,${+(f*m>c*g)},${this._x1=t+S*l},${this._y1=n+S*u}`}}arc(t,n,r,i,o,a){if(t=+t,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=t+s,c=n+l,f=1^a,h=a?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>vi||Math.abs(this._y1-c)>vi)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%Ym+Ym),h>Pz?this._append`A${r},${r},0,1,${f},${t-s},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:h>vi&&this._append`A${r},${r},0,${+(h>=Jm)},${f},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Ny(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Oz(t)}function My(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function N1(e){this._context=e}N1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Rd(e){return new N1(e)}function M1(e){return e[0]}function $1(e){return e[1]}function D1(e,t){var n=Ee(!0),r=null,i=Rd,o=null,a=Ny(s);e=typeof e=="function"?e:e===void 0?M1:Ee(e),t=typeof t=="function"?t:t===void 0?$1:Ee(t);function s(l){var u,c=(l=My(l)).length,f,h=!1,m;for(r==null&&(o=i(m=a())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(f,u,l),+t(f,u,l));if(m)return o=null,m+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:Ee(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:Ee(+l),s):t},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Ee(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function Nu(e,t,n){var r=null,i=Ee(!0),o=null,a=Rd,s=null,l=Ny(u);e=typeof e=="function"?e:e===void 0?M1:Ee(+e),t=typeof t=="function"?t:Ee(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?$1:Ee(+n);function u(f){var h,m,g,v=(f=My(f)).length,_,y=!1,w,b=new Array(v),T=new Array(v);for(o==null&&(s=a(w=l())),h=0;h<=v;++h){if(!(h<v&&i(_=f[h],h,f))===y)if(y=!y)m=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),g=h-1;g>=m;--g)s.point(b[g],T[g]);s.lineEnd(),s.areaEnd()}y&&(b[h]=+e(_,h,f),T[h]=+t(_,h,f),s.point(r?+r(_,h,f):b[h],n?+n(_,h,f):T[h]))}if(w)return s=null,w+""||null}function c(){return D1().defined(i).curve(a).context(o)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ee(+f),r=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Ee(+f),u):e},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ee(+f),u):r},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ee(+f),n=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Ee(+f),u):t},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ee(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(n)},u.lineX1=function(){return c().x(r).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Ee(!!f),u):i},u.curve=function(f){return arguments.length?(a=f,o!=null&&(s=a(o)),u):a},u.context=function(f){return arguments.length?(f==null?o=s=null:s=a(o=f),u):o},u}class L1{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function kz(e){return new L1(e,!0)}function Rz(e){return new L1(e,!1)}const $y={draw(e,t){const n=Un(t/Hc);e.moveTo(n,0),e.arc(0,0,n,0,kd)}},Nz={draw(e,t){const n=Un(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},U1=Un(1/3),Mz=U1*2,$z={draw(e,t){const n=Un(t/Mz),r=n*U1;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Dz={draw(e,t){const n=Un(t),r=-n/2;e.rect(r,r,n,n)}},Lz=.8908130915292852,F1=Gc(Hc/10)/Gc(7*Hc/10),Uz=Gc(kd/10)*F1,Fz=-k1(kd/10)*F1,jz={draw(e,t){const n=Un(t*Lz),r=Uz*n,i=Fz*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const a=kd*o/5,s=k1(a),l=Gc(a);e.lineTo(l*n,-s*n),e.lineTo(s*r-l*i,l*r+s*i)}e.closePath()}},Yh=Un(3),Bz={draw(e,t){const n=-Un(t/(Yh*3));e.moveTo(0,n*2),e.lineTo(-Yh*n,-n),e.lineTo(Yh*n,-n),e.closePath()}},nn=-.5,rn=Un(3)/2,Xm=1/Un(12),Vz=(Xm/2+1)*3,Gz={draw(e,t){const n=Un(t/Vz),r=n/2,i=n*Xm,o=r,a=n*Xm+n,s=-o,l=a;e.moveTo(r,i),e.lineTo(o,a),e.lineTo(s,l),e.lineTo(nn*r-rn*i,rn*r+nn*i),e.lineTo(nn*o-rn*a,rn*o+nn*a),e.lineTo(nn*s-rn*l,rn*s+nn*l),e.lineTo(nn*r+rn*i,nn*i-rn*r),e.lineTo(nn*o+rn*a,nn*a-rn*o),e.lineTo(nn*s+rn*l,nn*l-rn*s),e.closePath()}};function Hz(e,t){let n=null,r=Ny(i);e=typeof e=="function"?e:Ee(e||$y),t=typeof t=="function"?t:Ee(t===void 0?64:+t);function i(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:Ee(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:Ee(+o),i):t},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function qc(){}function zc(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function j1(e){this._context=e}j1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:zc(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:zc(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function qz(e){return new j1(e)}function B1(e){this._context=e}B1.prototype={areaStart:qc,areaEnd:qc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:zc(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function zz(e){return new B1(e)}function V1(e){this._context=e}V1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:zc(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Wz(e){return new V1(e)}function G1(e){this._context=e}G1.prototype={areaStart:qc,areaEnd:qc,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Kz(e){return new G1(e)}function sS(e){return e<0?-1:1}function lS(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(sS(o)+sS(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function uS(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Xh(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function Wc(e){this._context=e}Wc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Xh(this,this._t0,uS(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Xh(this,uS(this,n=lS(this,e,t)),n);break;default:Xh(this,this._t0,n=lS(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function H1(e){this._context=new q1(e)}(H1.prototype=Object.create(Wc.prototype)).point=function(e,t){Wc.prototype.point.call(this,t,e)};function q1(e){this._context=e}q1.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function Jz(e){return new Wc(e)}function Yz(e){return new H1(e)}function z1(e){this._context=e}z1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=cS(e),i=cS(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function cS(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,a[t]-=r*a[t-1];for(i[n-1]=a[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function Xz(e){return new z1(e)}function Nd(e,t){this._context=e,this._t=t}Nd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function Qz(e){return new Nd(e,.5)}function Zz(e){return new Nd(e,0)}function e8(e){return new Nd(e,1)}function na(e,t){if((a=e.length)>1)for(var n=1,r,i,o=e[t[0]],a,s=o.length;n<a;++n)for(i=o,o=e[t[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Qm(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function t8(e,t){return e[t]}function n8(e){const t=[];return t.key=e,t}function r8(){var e=Ee([]),t=Qm,n=na,r=t8;function i(o){var a=Array.from(e.apply(this,arguments),n8),s,l=a.length,u=-1,c;for(const f of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+r(f,a[s].key,u,o)]).data=f;for(s=0,c=My(t(a));s<l;++s)a[c[s]].index=s;return n(a,c),a}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Ee(Array.from(o)),i):e},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Ee(+o),i):r},i.order=function(o){return arguments.length?(t=o==null?Qm:typeof o=="function"?o:Ee(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(n=o??na,i):n},i}function i8(e,t){if((r=e.length)>0){for(var n,r,i=0,o=e[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=e[n][i][1]||0;if(a)for(n=0;n<r;++n)e[n][i][1]/=a}na(e,t)}}function o8(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=e[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}na(e,t)}}function a8(e,t){if(!(!((a=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,u=0;s<a;++s){for(var c=e[t[s]],f=c[r][1]||0,h=c[r-1][1]||0,m=(f-h)/2,g=0;g<s;++g){var v=e[t[g]],_=v[r][1]||0,y=v[r-1][1]||0;m+=_-y}l+=f,u+=m*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,na(e,t)}}function sl(e){"@babel/helpers - typeof";return sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sl(e)}var s8=["type","size","sizeType"];function Zm(){return Zm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zm.apply(this,arguments)}function fS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fS(Object(n),!0).forEach(function(r){l8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function l8(e,t,n){return t=u8(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u8(e){var t=c8(e,"string");return sl(t)=="symbol"?t:t+""}function c8(e,t){if(sl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(sl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function f8(e,t){if(e==null)return{};var n=d8(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function d8(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var W1={symbolCircle:$y,symbolCross:Nz,symbolDiamond:$z,symbolSquare:Dz,symbolStar:jz,symbolTriangle:Bz,symbolWye:Gz},h8=Math.PI/180,p8=function(t){var n="symbol".concat(Od(t));return W1[n]||$y},m8=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*h8;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},g8=function(t,n){W1["symbol".concat(Od(t))]=n},Dy=function(t){var n=t.type,r=n===void 0?"circle":n,i=t.size,o=i===void 0?64:i,a=t.sizeType,s=a===void 0?"area":a,l=f8(t,s8),u=dS(dS({},l),{},{type:r,size:o,sizeType:s}),c=function(){var _=p8(r),y=Hz().type(_).size(m8(o,s,r));return y()},f=u.className,h=u.cx,m=u.cy,g=re(u,!0);return h===+h&&m===+m&&o===+o?I.createElement("path",Zm({},g,{className:le("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:c()})):null};Dy.registerSymbol=g8;function ra(e){"@babel/helpers - typeof";return ra=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ra(e)}function eg(){return eg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eg.apply(this,arguments)}function hS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function v8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hS(Object(n),!0).forEach(function(r){ll(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function y8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,J1(r.key),r)}}function w8(e,t,n){return t&&_8(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function b8(e,t,n){return t=Kc(t),S8(e,K1()?Reflect.construct(t,n||[],Kc(e).constructor):t.apply(e,n))}function S8(e,t){if(t&&(ra(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x8(e)}function x8(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K1=function(){return!!e})()}function Kc(e){return Kc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kc(e)}function T8(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tg(e,t)}function tg(e,t){return tg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tg(e,t)}function ll(e,t,n){return t=J1(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J1(e){var t=E8(e,"string");return ra(t)=="symbol"?t:t+""}function E8(e,t){if(ra(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ra(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var on=32,Ly=function(e){function t(){return y8(this,t),b8(this,t,arguments)}return T8(t,e),w8(t,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=on/2,a=on/6,s=on/3,l=r.inactive?i:r.color;if(r.type==="plainline")return I.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:on,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return I.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(on,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return I.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(on/8,"h").concat(on,"v").concat(on*3/4,"h").concat(-on,"z"),className:"recharts-legend-icon"});if(I.isValidElement(r.legendIcon)){var u=v8({},r);return delete u.legendIcon,I.cloneElement(r.legendIcon,u)}return I.createElement(Dy,{fill:l,cx:o,cy:o,size:on,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:on,height:on},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(m,g){var v=m.formatter||l,_=le(ll(ll({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",m.inactive));if(m.type==="none")return null;var y=ie(m.value)?null:m.value;$n(!ie(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=m.inactive?u:m.color;return I.createElement("li",eg({className:_,style:f,key:"legend-item-".concat(g)},Vi(r.props,m,g)),I.createElement(qm,{width:a,height:a,viewBox:c,style:h},r.renderIcon(m)),I.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},v?v(y,m,g):y))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return I.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(U.PureComponent);ll(Ly,"displayName","Legend");ll(Ly,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var A8=vd;function C8(){this.__data__=new A8,this.size=0}var P8=C8;function I8(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var O8=I8;function k8(e){return this.__data__.get(e)}var R8=k8;function N8(e){return this.__data__.has(e)}var M8=N8,$8=vd,D8=Ty,L8=Ey,U8=200;function F8(e,t){var n=this.__data__;if(n instanceof $8){var r=n.__data__;if(!D8||r.length<U8-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new L8(r)}return n.set(e,t),this.size=n.size,this}var j8=F8,B8=vd,V8=P8,G8=O8,H8=R8,q8=M8,z8=j8;function Ua(e){var t=this.__data__=new B8(e);this.size=t.size}Ua.prototype.clear=V8;Ua.prototype.delete=G8;Ua.prototype.get=H8;Ua.prototype.has=q8;Ua.prototype.set=z8;var Y1=Ua,W8="__lodash_hash_undefined__";function K8(e){return this.__data__.set(e,W8),this}var J8=K8;function Y8(e){return this.__data__.has(e)}var X8=Y8,Q8=Ey,Z8=J8,eW=X8;function Jc(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Q8;++t<n;)this.add(e[t])}Jc.prototype.add=Jc.prototype.push=Z8;Jc.prototype.has=eW;var X1=Jc;function tW(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Q1=tW;function nW(e,t){return e.has(t)}var Z1=nW,rW=X1,iW=Q1,oW=Z1,aW=1,sW=2;function lW(e,t,n,r,i,o){var a=n&aW,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(e),c=o.get(t);if(u&&c)return u==t&&c==e;var f=-1,h=!0,m=n&sW?new rW:void 0;for(o.set(e,t),o.set(t,e);++f<s;){var g=e[f],v=t[f];if(r)var _=a?r(v,g,f,t,e,o):r(g,v,f,e,t,o);if(_!==void 0){if(_)continue;h=!1;break}if(m){if(!iW(t,function(y,w){if(!oW(m,w)&&(g===y||i(g,y,n,r,o)))return m.push(w)})){h=!1;break}}else if(!(g===v||i(g,v,n,r,o))){h=!1;break}}return o.delete(e),o.delete(t),h}var eI=lW,uW=Kn,cW=uW.Uint8Array,fW=cW;function dW(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}var hW=dW;function pW(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var Uy=pW,pS=Kl,mS=fW,mW=xy,gW=eI,vW=hW,yW=Uy,_W=1,wW=2,bW="[object Boolean]",SW="[object Date]",xW="[object Error]",TW="[object Map]",EW="[object Number]",AW="[object RegExp]",CW="[object Set]",PW="[object String]",IW="[object Symbol]",OW="[object ArrayBuffer]",kW="[object DataView]",gS=pS?pS.prototype:void 0,Qh=gS?gS.valueOf:void 0;function RW(e,t,n,r,i,o,a){switch(n){case kW:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case OW:return!(e.byteLength!=t.byteLength||!o(new mS(e),new mS(t)));case bW:case SW:case EW:return mW(+e,+t);case xW:return e.name==t.name&&e.message==t.message;case AW:case PW:return e==t+"";case TW:var s=vW;case CW:var l=r&_W;if(s||(s=yW),e.size!=t.size&&!l)return!1;var u=a.get(e);if(u)return u==t;r|=wW,a.set(e,t);var c=gW(s(e),s(t),r,i,o,a);return a.delete(e),c;case IW:if(Qh)return Qh.call(e)==Qh.call(t)}return!1}var NW=RW;function MW(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var tI=MW,$W=tI,DW=Vt;function LW(e,t,n){var r=t(e);return DW(e)?r:$W(r,n(e))}var UW=LW;function FW(e,t){for(var n=-1,r=e==null?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}var jW=FW;function BW(){return[]}var VW=BW,GW=jW,HW=VW,qW=Object.prototype,zW=qW.propertyIsEnumerable,vS=Object.getOwnPropertySymbols,WW=vS?function(e){return e==null?[]:(e=Object(e),GW(vS(e),function(t){return zW.call(e,t)}))}:HW,KW=WW;function JW(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var YW=JW,XW=xr,QW=Tr,ZW="[object Arguments]";function e5(e){return QW(e)&&XW(e)==ZW}var t5=e5,yS=t5,n5=Tr,nI=Object.prototype,r5=nI.hasOwnProperty,i5=nI.propertyIsEnumerable,o5=yS(function(){return arguments}())?yS:function(e){return n5(e)&&r5.call(e,"callee")&&!i5.call(e,"callee")},Fy=o5,Yc={exports:{}};function a5(){return!1}var s5=a5;Yc.exports;(function(e,t){var n=Kn,r=s5,i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;e.exports=u})(Yc,Yc.exports);var rI=Yc.exports,l5=9007199254740991,u5=/^(?:0|[1-9]\d*)$/;function c5(e,t){var n=typeof e;return t=t??l5,!!t&&(n=="number"||n!="symbol"&&u5.test(e))&&e>-1&&e%1==0&&e<t}var jy=c5,f5=9007199254740991;function d5(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=f5}var By=d5,h5=xr,p5=By,m5=Tr,g5="[object Arguments]",v5="[object Array]",y5="[object Boolean]",_5="[object Date]",w5="[object Error]",b5="[object Function]",S5="[object Map]",x5="[object Number]",T5="[object Object]",E5="[object RegExp]",A5="[object Set]",C5="[object String]",P5="[object WeakMap]",I5="[object ArrayBuffer]",O5="[object DataView]",k5="[object Float32Array]",R5="[object Float64Array]",N5="[object Int8Array]",M5="[object Int16Array]",$5="[object Int32Array]",D5="[object Uint8Array]",L5="[object Uint8ClampedArray]",U5="[object Uint16Array]",F5="[object Uint32Array]",Ie={};Ie[k5]=Ie[R5]=Ie[N5]=Ie[M5]=Ie[$5]=Ie[D5]=Ie[L5]=Ie[U5]=Ie[F5]=!0;Ie[g5]=Ie[v5]=Ie[I5]=Ie[y5]=Ie[O5]=Ie[_5]=Ie[w5]=Ie[b5]=Ie[S5]=Ie[x5]=Ie[T5]=Ie[E5]=Ie[A5]=Ie[C5]=Ie[P5]=!1;function j5(e){return m5(e)&&p5(e.length)&&!!Ie[h5(e)]}var B5=j5;function V5(e){return function(t){return e(t)}}var iI=V5,Xc={exports:{}};Xc.exports;(function(e,t){var n=d1,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();e.exports=s})(Xc,Xc.exports);var G5=Xc.exports,H5=B5,q5=iI,_S=G5,wS=_S&&_S.isTypedArray,z5=wS?q5(wS):H5,oI=z5,W5=YW,K5=Fy,J5=Vt,Y5=rI,X5=jy,Q5=oI,Z5=Object.prototype,e6=Z5.hasOwnProperty;function t6(e,t){var n=J5(e),r=!n&&K5(e),i=!n&&!r&&Y5(e),o=!n&&!r&&!i&&Q5(e),a=n||r||i||o,s=a?W5(e.length,String):[],l=s.length;for(var u in e)(t||e6.call(e,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||X5(u,l)))&&s.push(u);return s}var n6=t6,r6=Object.prototype;function i6(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||r6;return e===n}var o6=i6;function a6(e,t){return function(n){return e(t(n))}}var aI=a6,s6=aI,l6=s6(Object.keys,Object),u6=l6,c6=o6,f6=u6,d6=Object.prototype,h6=d6.hasOwnProperty;function p6(e){if(!c6(e))return f6(e);var t=[];for(var n in Object(e))h6.call(e,n)&&n!="constructor"&&t.push(n);return t}var m6=p6,g6=Sy,v6=By;function y6(e){return e!=null&&v6(e.length)&&!g6(e)}var Xl=y6,_6=n6,w6=m6,b6=Xl;function S6(e){return b6(e)?_6(e):w6(e)}var Md=S6,x6=UW,T6=KW,E6=Md;function A6(e){return x6(e,E6,T6)}var C6=A6,bS=C6,P6=1,I6=Object.prototype,O6=I6.hasOwnProperty;function k6(e,t,n,r,i,o){var a=n&P6,s=bS(e),l=s.length,u=bS(t),c=u.length;if(l!=c&&!a)return!1;for(var f=l;f--;){var h=s[f];if(!(a?h in t:O6.call(t,h)))return!1}var m=o.get(e),g=o.get(t);if(m&&g)return m==t&&g==e;var v=!0;o.set(e,t),o.set(t,e);for(var _=a;++f<l;){h=s[f];var y=e[h],w=t[h];if(r)var b=a?r(w,y,h,t,e,o):r(y,w,h,e,t,o);if(!(b===void 0?y===w||i(y,w,n,r,o):b)){v=!1;break}_||(_=h=="constructor")}if(v&&!_){var T=e.constructor,S=t.constructor;T!=S&&"constructor"in e&&"constructor"in t&&!(typeof T=="function"&&T instanceof T&&typeof S=="function"&&S instanceof S)&&(v=!1)}return o.delete(e),o.delete(t),v}var R6=k6,N6=Yi,M6=Kn,$6=N6(M6,"DataView"),D6=$6,L6=Yi,U6=Kn,F6=L6(U6,"Promise"),j6=F6,B6=Yi,V6=Kn,G6=B6(V6,"Set"),sI=G6,H6=Yi,q6=Kn,z6=H6(q6,"WeakMap"),W6=z6,ng=D6,rg=Ty,ig=j6,og=sI,ag=W6,lI=xr,Fa=p1,SS="[object Map]",K6="[object Object]",xS="[object Promise]",TS="[object Set]",ES="[object WeakMap]",AS="[object DataView]",J6=Fa(ng),Y6=Fa(rg),X6=Fa(ig),Q6=Fa(og),Z6=Fa(ag),yi=lI;(ng&&yi(new ng(new ArrayBuffer(1)))!=AS||rg&&yi(new rg)!=SS||ig&&yi(ig.resolve())!=xS||og&&yi(new og)!=TS||ag&&yi(new ag)!=ES)&&(yi=function(e){var t=lI(e),n=t==K6?e.constructor:void 0,r=n?Fa(n):"";if(r)switch(r){case J6:return AS;case Y6:return SS;case X6:return xS;case Q6:return TS;case Z6:return ES}return t});var eK=yi,Zh=Y1,tK=eI,nK=NW,rK=R6,CS=eK,PS=Vt,IS=rI,iK=oI,oK=1,OS="[object Arguments]",kS="[object Array]",Mu="[object Object]",aK=Object.prototype,RS=aK.hasOwnProperty;function sK(e,t,n,r,i,o){var a=PS(e),s=PS(t),l=a?kS:CS(e),u=s?kS:CS(t);l=l==OS?Mu:l,u=u==OS?Mu:u;var c=l==Mu,f=u==Mu,h=l==u;if(h&&IS(e)){if(!IS(t))return!1;a=!0,c=!1}if(h&&!c)return o||(o=new Zh),a||iK(e)?tK(e,t,n,r,i,o):nK(e,t,l,n,r,i,o);if(!(n&oK)){var m=c&&RS.call(e,"__wrapped__"),g=f&&RS.call(t,"__wrapped__");if(m||g){var v=m?e.value():e,_=g?t.value():t;return o||(o=new Zh),i(v,_,n,r,o)}}return h?(o||(o=new Zh),rK(e,t,n,r,i,o)):!1}var lK=sK,uK=lK,NS=Tr;function uI(e,t,n,r,i){return e===t?!0:e==null||t==null||!NS(e)&&!NS(t)?e!==e&&t!==t:uK(e,t,n,r,uI,i)}var Vy=uI,cK=Y1,fK=Vy,dK=1,hK=2;function pK(e,t,n,r){var i=n.length,o=i,a=!r;if(e==null)return!o;for(e=Object(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){s=n[i];var l=s[0],u=e[l],c=s[1];if(a&&s[2]){if(u===void 0&&!(l in e))return!1}else{var f=new cK;if(r)var h=r(u,c,l,e,t,f);if(!(h===void 0?fK(c,u,dK|hK,r,f):h))return!1}}return!0}var mK=pK,gK=ni;function vK(e){return e===e&&!gK(e)}var cI=vK,yK=cI,_K=Md;function wK(e){for(var t=_K(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,yK(i)]}return t}var bK=wK;function SK(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var fI=SK,xK=mK,TK=bK,EK=fI;function AK(e){var t=TK(e);return t.length==1&&t[0][2]?EK(t[0][0],t[0][1]):function(n){return n===e||xK(n,e,t)}}var CK=AK;function PK(e,t){return e!=null&&t in Object(e)}var IK=PK,OK=_1,kK=Fy,RK=Vt,NK=jy,MK=By,$K=_d;function DK(e,t,n){t=OK(t,e);for(var r=-1,i=t.length,o=!1;++r<i;){var a=$K(t[r]);if(!(o=e!=null&&n(e,a)))break;e=e[a]}return o||++r!=i?o:(i=e==null?0:e.length,!!i&&MK(i)&&NK(a,i)&&(RK(e)||kK(e)))}var LK=DK,UK=IK,FK=LK;function jK(e,t){return e!=null&&FK(e,t,UK)}var BK=jK,VK=Vy,GK=w1,HK=BK,qK=by,zK=cI,WK=fI,KK=_d,JK=1,YK=2;function XK(e,t){return qK(e)&&zK(t)?WK(KK(e),t):function(n){var r=GK(n,e);return r===void 0&&r===t?HK(n,e):VK(t,r,JK|YK)}}var QK=XK;function ZK(e){return e}var ja=ZK;function eJ(e){return function(t){return t==null?void 0:t[e]}}var tJ=eJ,nJ=Py;function rJ(e){return function(t){return nJ(t,e)}}var iJ=rJ,oJ=tJ,aJ=iJ,sJ=by,lJ=_d;function uJ(e){return sJ(e)?oJ(lJ(e)):aJ(e)}var cJ=uJ,fJ=CK,dJ=QK,hJ=ja,pJ=Vt,mJ=cJ;function gJ(e){return typeof e=="function"?e:e==null?hJ:typeof e=="object"?pJ(e)?dJ(e[0],e[1]):fJ(e):mJ(e)}var Jn=gJ;function vJ(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}var dI=vJ;function yJ(e){return e!==e}var _J=yJ;function wJ(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}var bJ=wJ,SJ=dI,xJ=_J,TJ=bJ;function EJ(e,t,n){return t===t?TJ(e,t,n):SJ(e,xJ,n)}var AJ=EJ,CJ=AJ;function PJ(e,t){var n=e==null?0:e.length;return!!n&&CJ(e,t,0)>-1}var IJ=PJ;function OJ(e,t,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}var kJ=OJ;function RJ(){}var NJ=RJ,ep=sI,MJ=NJ,$J=Uy,DJ=1/0,LJ=ep&&1/$J(new ep([,-0]))[1]==DJ?function(e){return new ep(e)}:MJ,UJ=LJ,FJ=X1,jJ=IJ,BJ=kJ,VJ=Z1,GJ=UJ,HJ=Uy,qJ=200;function zJ(e,t,n){var r=-1,i=jJ,o=e.length,a=!0,s=[],l=s;if(n)a=!1,i=BJ;else if(o>=qJ){var u=t?null:GJ(e);if(u)return HJ(u);a=!1,i=VJ,l=new FJ}else l=t?[]:s;e:for(;++r<o;){var c=e[r],f=t?t(c):c;if(c=n||c!==0?c:0,a&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;t&&l.push(f),s.push(c)}else i(l,f,n)||(l!==s&&l.push(f),s.push(c))}return s}var WJ=zJ,KJ=Jn,JJ=WJ;function YJ(e,t){return e&&e.length?JJ(e,KJ(t)):[]}var XJ=YJ;const MS=_e(XJ);function hI(e,t,n){return t===!0?MS(e,n):ie(t)?MS(e,t):e}function ia(e){"@babel/helpers - typeof";return ia=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ia(e)}var QJ=["ref"];function $S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$S(Object(n),!0).forEach(function(r){$d(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$S(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ZJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mI(r.key),r)}}function e9(e,t,n){return t&&DS(e.prototype,t),n&&DS(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function t9(e,t,n){return t=Qc(t),n9(e,pI()?Reflect.construct(t,n||[],Qc(e).constructor):t.apply(e,n))}function n9(e,t){if(t&&(ia(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r9(e)}function r9(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pI=function(){return!!e})()}function Qc(e){return Qc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qc(e)}function i9(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sg(e,t)}function sg(e,t){return sg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sg(e,t)}function $d(e,t,n){return t=mI(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mI(e){var t=o9(e,"string");return ia(t)=="symbol"?t:t+""}function o9(e,t){if(ia(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ia(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function a9(e,t){if(e==null)return{};var n=s9(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function s9(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function l9(e){return e.value}function u9(e,t){if(I.isValidElement(e))return I.cloneElement(e,t);if(typeof e=="function")return I.createElement(e,t);t.ref;var n=a9(t,QJ);return I.createElement(Ly,n)}var LS=1,Ni=function(e){function t(){var n;ZJ(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t9(this,t,[].concat(i)),$d(n,"lastBoundingBox",{width:-1,height:-1}),n}return i9(t,e),e9(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>LS||Math.abs(i.height-this.lastBoundingBox.height)>LS)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Xn({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var g=this.getBBoxSnapshot();h={top:((c||0)-g.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Xn(Xn({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,f=Xn(Xn({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return I.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){r.wrapperNode=m}},u9(o,Xn(Xn({},this.props),{},{payload:hI(c,u,l9)})))}}],[{key:"getWithHeight",value:function(r,i){var o=Xn(Xn({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&z(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(U.PureComponent);$d(Ni,"displayName","Legend");$d(Ni,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var US=Kl,c9=Fy,f9=Vt,FS=US?US.isConcatSpreadable:void 0;function d9(e){return f9(e)||c9(e)||!!(FS&&e&&e[FS])}var h9=d9,p9=tI,m9=h9;function gI(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=m9),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?gI(s,t-1,n,r,i):p9(i,s):r||(i[i.length]=s)}return i}var vI=gI;function g9(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(n(o[l],l,o)===!1)break}return t}}var v9=g9,y9=v9,_9=y9(),w9=_9,b9=w9,S9=Md;function x9(e,t){return e&&b9(e,t,S9)}var yI=x9,T9=Xl;function E9(e,t){return function(n,r){if(n==null)return n;if(!T9(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Object(n);(t?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var A9=E9,C9=yI,P9=A9,I9=P9(C9),Gy=I9,O9=Gy,k9=Xl;function R9(e,t){var n=-1,r=k9(e)?Array(e.length):[];return O9(e,function(i,o,a){r[++n]=t(i,o,a)}),r}var _I=R9;function N9(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var M9=N9,jS=Na;function $9(e,t){if(e!==t){var n=e!==void 0,r=e===null,i=e===e,o=jS(e),a=t!==void 0,s=t===null,l=t===t,u=jS(t);if(!s&&!u&&!o&&e>t||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&e<t||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var D9=$9,L9=D9;function U9(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){var l=L9(i[r],o[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return e.index-t.index}var F9=U9,tp=Cy,j9=Py,B9=Jn,V9=_I,G9=M9,H9=iI,q9=F9,z9=ja,W9=Vt;function K9(e,t,n){t.length?t=tp(t,function(o){return W9(o)?function(a){return j9(a,o.length===1?o[0]:o)}:o}):t=[z9];var r=-1;t=tp(t,H9(B9));var i=V9(e,function(o,a,s){var l=tp(t,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return G9(i,function(o,a){return q9(o,a,n)})}var J9=K9;function Y9(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var X9=Y9,Q9=X9,BS=Math.max;function Z9(e,t,n){return t=BS(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=BS(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(a),Q9(e,this,s)}}var e7=Z9;function t7(e){return function(){return e}}var n7=t7,r7=Yi,i7=function(){try{var e=r7(Object,"defineProperty");return e({},"",{}),e}catch{}}(),wI=i7,o7=n7,VS=wI,a7=ja,s7=VS?function(e,t){return VS(e,"toString",{configurable:!0,enumerable:!1,value:o7(t),writable:!0})}:a7,l7=s7,u7=800,c7=16,f7=Date.now;function d7(e){var t=0,n=0;return function(){var r=f7(),i=c7-(r-n);if(n=r,i>0){if(++t>=u7)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var h7=d7,p7=l7,m7=h7,g7=m7(p7),v7=g7,y7=ja,_7=e7,w7=v7;function b7(e,t){return w7(_7(e,t,y7),e+"")}var S7=b7,x7=xy,T7=Xl,E7=jy,A7=ni;function C7(e,t,n){if(!A7(n))return!1;var r=typeof t;return(r=="number"?T7(n)&&E7(t,n.length):r=="string"&&t in n)?x7(n[t],e):!1}var Dd=C7,P7=vI,I7=J9,O7=S7,GS=Dd,k7=O7(function(e,t){if(e==null)return[];var n=t.length;return n>1&&GS(e,t[0],t[1])?t=[]:n>2&&GS(t[0],t[1],t[2])&&(t=[t[0]]),I7(e,P7(t,1),[])}),R7=k7;const Hy=_e(R7);function ul(e){"@babel/helpers - typeof";return ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ul(e)}function lg(){return lg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lg.apply(this,arguments)}function N7(e,t){return L7(e)||D7(e,t)||$7(e,t)||M7()}function M7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $7(e,t){if(e){if(typeof e=="string")return HS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HS(e,t)}}function HS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function D7(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function L7(e){if(Array.isArray(e))return e}function qS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function np(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qS(Object(n),!0).forEach(function(r){U7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function U7(e,t,n){return t=F7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F7(e){var t=j7(e,"string");return ul(t)=="symbol"?t:t+""}function j7(e,t){if(ul(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ul(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function B7(e){return Array.isArray(e)&&rt(e[0])&&rt(e[1])?e.join(" ~ "):e}var V7=function(t){var n=t.separator,r=n===void 0?" : ":n,i=t.contentStyle,o=i===void 0?{}:i,a=t.itemStyle,s=a===void 0?{}:a,l=t.labelStyle,u=l===void 0?{}:l,c=t.payload,f=t.formatter,h=t.itemSorter,m=t.wrapperClassName,g=t.labelClassName,v=t.label,_=t.labelFormatter,y=t.accessibilityLayer,w=y===void 0?!1:y,b=function(){if(c&&c.length){var k={padding:0,margin:0},$=(h?Hy(c,h):c).map(function(M,D){if(M.type==="none")return null;var F=np({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},s),V=M.formatter||f||B7,N=M.value,j=M.name,B=N,W=j;if(V&&B!=null&&W!=null){var q=V(N,j,M,D,c);if(Array.isArray(q)){var Z=N7(q,2);B=Z[0],W=Z[1]}else B=q}return I.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:F},rt(W)?I.createElement("span",{className:"recharts-tooltip-item-name"},W):null,rt(W)?I.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,I.createElement("span",{className:"recharts-tooltip-item-value"},B),I.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return I.createElement("ul",{className:"recharts-tooltip-item-list",style:k},$)}return null},T=np({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),S=np({margin:0},u),x=!ue(v),E=x?v:"",C=le("recharts-default-tooltip",m),P=le("recharts-tooltip-label",g);x&&_&&c!==void 0&&c!==null&&(E=_(v,c));var O=w?{role:"status","aria-live":"assertive"}:{};return I.createElement("div",lg({className:C,style:T},O),I.createElement("p",{className:P,style:S},I.isValidElement(E)?E:"".concat(E)),b())};function cl(e){"@babel/helpers - typeof";return cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cl(e)}function $u(e,t,n){return t=G7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G7(e){var t=H7(e,"string");return cl(t)=="symbol"?t:t+""}function H7(e,t){if(cl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(cl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var is="recharts-tooltip-wrapper",q7={visibility:"hidden"};function z7(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return le(is,$u($u($u($u({},"".concat(is,"-right"),z(n)&&t&&z(t.x)&&n>=t.x),"".concat(is,"-left"),z(n)&&t&&z(t.x)&&n<t.x),"".concat(is,"-bottom"),z(r)&&t&&z(t.y)&&r>=t.y),"".concat(is,"-top"),z(r)&&t&&z(t.y)&&r<t.y))}function zS(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,i=e.offsetTopLeft,o=e.position,a=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,u=e.viewBoxDimension;if(o&&z(o[r]))return o[r];var c=n[r]-s-i,f=n[r]+i;if(t[r])return a[r]?c:f;if(a[r]){var h=c,m=l[r];return h<m?Math.max(f,l[r]):Math.max(c,l[r])}var g=f+s,v=l[r]+u;return g>v?Math.max(c,l[r]):Math.max(f,l[r])}function W7(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function K7(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,i=e.position,o=e.reverseDirection,a=e.tooltipBox,s=e.useTranslate3d,l=e.viewBox,u,c,f;return a.height>0&&a.width>0&&n?(c=zS({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),f=zS({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=W7({translateX:c,translateY:f,useTranslate3d:s})):u=q7,{cssProperties:u,cssClasses:z7({translateX:c,translateY:f,coordinate:n})}}function oa(e){"@babel/helpers - typeof";return oa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oa(e)}function WS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function KS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WS(Object(n),!0).forEach(function(r){cg(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function J7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,SI(r.key),r)}}function X7(e,t,n){return t&&Y7(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Q7(e,t,n){return t=Zc(t),Z7(e,bI()?Reflect.construct(t,n||[],Zc(e).constructor):t.apply(e,n))}function Z7(e,t){if(t&&(oa(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eY(e)}function eY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bI=function(){return!!e})()}function Zc(e){return Zc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zc(e)}function tY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ug(e,t)}function ug(e,t){return ug=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ug(e,t)}function cg(e,t,n){return t=SI(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SI(e){var t=nY(e,"string");return oa(t)=="symbol"?t:t+""}function nY(e,t){if(oa(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(oa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var JS=1,rY=function(e){function t(){var n;J7(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Q7(this,t,[].concat(i)),cg(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),cg(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return tY(t,e),X7(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>JS||Math.abs(r.height-this.state.lastBoundingBox.height)>JS)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,m=i.offset,g=i.position,v=i.reverseDirection,_=i.useTranslate3d,y=i.viewBox,w=i.wrapperStyle,b=K7({allowEscapeViewBox:a,coordinate:c,offsetTopLeft:m,position:g,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:_,viewBox:y}),T=b.cssClasses,S=b.cssProperties,x=KS(KS({transition:h&&o?"transform ".concat(s,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return I.createElement("div",{tabIndex:-1,className:T,style:x,ref:function(C){r.wrapperNode=C}},u)}}])}(U.PureComponent),iY=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ba={isSsr:iY()};function aa(e){"@babel/helpers - typeof";return aa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},aa(e)}function YS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function XS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YS(Object(n),!0).forEach(function(r){qy(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aY(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,TI(r.key),r)}}function sY(e,t,n){return t&&aY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lY(e,t,n){return t=ef(t),uY(e,xI()?Reflect.construct(t,n||[],ef(e).constructor):t.apply(e,n))}function uY(e,t){if(t&&(aa(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cY(e)}function cY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xI=function(){return!!e})()}function ef(e){return ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ef(e)}function fY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fg(e,t)}function fg(e,t){return fg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fg(e,t)}function qy(e,t,n){return t=TI(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TI(e){var t=dY(e,"string");return aa(t)=="symbol"?t:t+""}function dY(e,t){if(aa(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(aa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function hY(e){return e.dataKey}function pY(e,t){return I.isValidElement(e)?I.cloneElement(e,t):typeof e=="function"?I.createElement(e,t):I.createElement(V7,t)}var an=function(e){function t(){return oY(this,t),lY(this,t,arguments)}return fY(t,e),sY(t,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,f=i.filterNull,h=i.isAnimationActive,m=i.offset,g=i.payload,v=i.payloadUniqBy,_=i.position,y=i.reverseDirection,w=i.useTranslate3d,b=i.viewBox,T=i.wrapperStyle,S=g??[];f&&S.length&&(S=hI(g.filter(function(E){return E.value!=null&&(E.hide!==!0||r.props.includeHidden)}),v,hY));var x=S.length>0;return I.createElement(rY,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:h,active:o,coordinate:c,hasPayload:x,offset:m,position:_,reverseDirection:y,useTranslate3d:w,viewBox:b,wrapperStyle:T},pY(u,XS(XS({},this.props),{},{payload:S})))}}])}(U.PureComponent);qy(an,"displayName","Tooltip");qy(an,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ba.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var mY=Kn,gY=function(){return mY.Date.now()},vY=gY,yY=/\s/;function _Y(e){for(var t=e.length;t--&&yY.test(e.charAt(t)););return t}var wY=_Y,bY=wY,SY=/^\s+/;function xY(e){return e&&e.slice(0,bY(e)+1).replace(SY,"")}var TY=xY,EY=TY,QS=ni,AY=Na,ZS=NaN,CY=/^[-+]0x[0-9a-f]+$/i,PY=/^0b[01]+$/i,IY=/^0o[0-7]+$/i,OY=parseInt;function kY(e){if(typeof e=="number")return e;if(AY(e))return ZS;if(QS(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=QS(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=EY(e);var n=PY.test(e);return n||IY.test(e)?OY(e.slice(2),n?2:8):CY.test(e)?ZS:+e}var EI=kY,RY=ni,rp=vY,ex=EI,NY="Expected a function",MY=Math.max,$Y=Math.min;function DY(e,t,n){var r,i,o,a,s,l,u=0,c=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(NY);t=ex(t)||0,RY(n)&&(c=!!n.leading,f="maxWait"in n,o=f?MY(ex(n.maxWait)||0,t):o,h="trailing"in n?!!n.trailing:h);function m(x){var E=r,C=i;return r=i=void 0,u=x,a=e.apply(C,E),a}function g(x){return u=x,s=setTimeout(y,t),c?m(x):a}function v(x){var E=x-l,C=x-u,P=t-E;return f?$Y(P,o-C):P}function _(x){var E=x-l,C=x-u;return l===void 0||E>=t||E<0||f&&C>=o}function y(){var x=rp();if(_(x))return w(x);s=setTimeout(y,v(x))}function w(x){return s=void 0,h&&r?m(x):(r=i=void 0,a)}function b(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function T(){return s===void 0?a:w(rp())}function S(){var x=rp(),E=_(x);if(r=arguments,i=this,l=x,E){if(s===void 0)return g(l);if(f)return clearTimeout(s),s=setTimeout(y,t),m(l)}return s===void 0&&(s=setTimeout(y,t)),a}return S.cancel=b,S.flush=T,S}var LY=DY,UY=LY,FY=ni,jY="Expected a function";function BY(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(jY);return FY(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),UY(e,t,{leading:r,maxWait:t,trailing:i})}var VY=BY;const AI=_e(VY);function fl(e){"@babel/helpers - typeof";return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fl(e)}function tx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Du(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tx(Object(n),!0).forEach(function(r){GY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GY(e,t,n){return t=HY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HY(e){var t=qY(e,"string");return fl(t)=="symbol"?t:t+""}function qY(e,t){if(fl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zY(e,t){return YY(e)||JY(e,t)||KY(e,t)||WY()}function WY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KY(e,t){if(e){if(typeof e=="string")return nx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nx(e,t)}}function nx(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function JY(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function YY(e){if(Array.isArray(e))return e}var dg=U.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=e.width,a=o===void 0?"100%":o,s=e.height,l=s===void 0?"100%":s,u=e.minWidth,c=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,m=e.children,g=e.debounce,v=g===void 0?0:g,_=e.id,y=e.className,w=e.onResize,b=e.style,T=b===void 0?{}:b,S=U.useRef(null),x=U.useRef();x.current=w,U.useImperativeHandle(t,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var E=U.useState({containerWidth:i.width,containerHeight:i.height}),C=zY(E,2),P=C[0],O=C[1],R=U.useCallback(function($,M){O(function(D){var F=Math.round($),V=Math.round(M);return D.containerWidth===F&&D.containerHeight===V?D:{containerWidth:F,containerHeight:V}})},[]);U.useEffect(function(){var $=function(j){var B,W=j[0].contentRect,q=W.width,Z=W.height;R(q,Z),(B=x.current)===null||B===void 0||B.call(x,q,Z)};v>0&&($=AI($,v,{trailing:!0,leading:!1}));var M=new ResizeObserver($),D=S.current.getBoundingClientRect(),F=D.width,V=D.height;return R(F,V),M.observe(S.current),function(){M.disconnect()}},[R,v]);var k=U.useMemo(function(){var $=P.containerWidth,M=P.containerHeight;if($<0||M<0)return null;$n(Ci(a)||Ci(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),$n(!n||n>0,"The aspect(%s) must be greater than zero.",n);var D=Ci(a)?$:a,F=Ci(l)?M:l;n&&n>0&&(D?F=D/n:F&&(D=F*n),h&&F>h&&(F=h)),$n(D>0||F>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,F,a,l,c,f,n);var V=!Array.isArray(m)&&lr(m.type).endsWith("Chart");return I.Children.map(m,function(N){return I.isValidElement(N)?U.cloneElement(N,Du({width:D,height:F},V?{style:Du({height:"100%",width:"100%",maxHeight:F,maxWidth:D},N.props.style)}:{})):N})},[n,m,l,h,f,c,P,a]);return I.createElement("div",{id:_?"".concat(_):void 0,className:le("recharts-responsive-container",y),style:Du(Du({},T),{},{width:a,height:l,minWidth:c,minHeight:f,maxHeight:h}),ref:S},k)}),Ql=function(t){return null};Ql.displayName="Cell";function dl(e){"@babel/helpers - typeof";return dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dl(e)}function rx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rx(Object(n),!0).forEach(function(r){XY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XY(e,t,n){return t=QY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QY(e){var t=ZY(e,"string");return dl(t)=="symbol"?t:t+""}function ZY(e,t){if(dl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(dl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uo={widthCache:{},cacheCount:0},eX=2e3,tX={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},ix="recharts_measurement_span";function nX(e){var t=hg({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var ks=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ba.isSsr)return{width:0,height:0};var r=nX(n),i=JSON.stringify({text:t,copyStyle:r});if(uo.widthCache[i])return uo.widthCache[i];try{var o=document.getElementById(ix);o||(o=document.createElement("span"),o.setAttribute("id",ix),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=hg(hg({},tX),r);Object.assign(o.style,a),o.textContent="".concat(t);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return uo.widthCache[i]=l,++uo.cacheCount>eX&&(uo.cacheCount=0,uo.widthCache={}),l}catch{return{width:0,height:0}}},rX=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function hl(e){"@babel/helpers - typeof";return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hl(e)}function tf(e,t){return sX(e)||aX(e,t)||oX(e,t)||iX()}function iX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oX(e,t){if(e){if(typeof e=="string")return ox(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ox(e,t)}}function ox(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function aX(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function sX(e){if(Array.isArray(e))return e}function lX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ax(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,cX(r.key),r)}}function uX(e,t,n){return t&&ax(e.prototype,t),n&&ax(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function cX(e){var t=fX(e,"string");return hl(t)=="symbol"?t:t+""}function fX(e,t){if(hl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var sx=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,lx=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,dX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,hX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,CI={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},pX=Object.keys(CI),Ro="NaN";function mX(e,t){return e*CI[t]}var Lu=function(){function e(t,n){lX(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!dX.test(n)&&(this.num=NaN,this.unit=""),pX.includes(n)&&(this.num=mX(t,n),this.unit="px")}return uX(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=hX.exec(n))!==null&&r!==void 0?r:[],o=tf(i,3),a=o[1],s=o[2];return new e(parseFloat(a),s??"")}}])}();function PI(e){if(e.includes(Ro))return Ro;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=sx.exec(t))!==null&&n!==void 0?n:[],i=tf(r,4),o=i[1],a=i[2],s=i[3],l=Lu.parse(o??""),u=Lu.parse(s??""),c=a==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return Ro;t=t.replace(sx,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=lx.exec(t))!==null&&f!==void 0?f:[],m=tf(h,4),g=m[1],v=m[2],_=m[3],y=Lu.parse(g??""),w=Lu.parse(_??""),b=v==="+"?y.add(w):y.subtract(w);if(b.isNaN())return Ro;t=t.replace(lx,b.toString())}return t}var ux=/\(([^()]*)\)/;function gX(e){for(var t=e;t.includes("(");){var n=ux.exec(t),r=tf(n,2),i=r[1];t=t.replace(ux,PI(i))}return t}function vX(e){var t=e.replace(/\s+/g,"");return t=gX(t),t=PI(t),t}function yX(e){try{return vX(e)}catch{return Ro}}function ip(e){var t=yX(e.slice(5,-1));return t===Ro?"":t}var _X=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],wX=["dx","dy","angle","className","breakAll"];function pg(){return pg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pg.apply(this,arguments)}function cx(e,t){if(e==null)return{};var n=bX(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function bX(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function fx(e,t){return EX(e)||TX(e,t)||xX(e,t)||SX()}function SX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xX(e,t){if(e){if(typeof e=="string")return dx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dx(e,t)}}function dx(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function TX(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function EX(e){if(Array.isArray(e))return e}var II=/[ \f\n\r\t\v\u2028\u2029]+/,OI=function(t){var n=t.children,r=t.breakAll,i=t.style;try{var o=[];ue(n)||(r?o=n.toString().split(""):o=n.toString().split(II));var a=o.map(function(l){return{word:l,width:ks(l,i).width}}),s=r?0:ks("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},AX=function(t,n,r,i,o){var a=t.maxLines,s=t.children,l=t.style,u=t.breakAll,c=z(a),f=s,h=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return D.reduce(function(F,V){var N=V.word,j=V.width,B=F[F.length-1];if(B&&(i==null||o||B.width+j+r<Number(i)))B.words.push(N),B.width+=j+r;else{var W={words:[N],width:j};F.push(W)}return F},[])},m=h(n),g=function(D){return D.reduce(function(F,V){return F.width>V.width?F:V})};if(!c)return m;for(var v="",_=function(D){var F=f.slice(0,D),V=OI({breakAll:u,style:l,children:F+v}).wordsWithComputedWidth,N=h(V),j=N.length>a||g(N).width>Number(i);return[j,N]},y=0,w=f.length-1,b=0,T;y<=w&&b<=f.length-1;){var S=Math.floor((y+w)/2),x=S-1,E=_(x),C=fx(E,2),P=C[0],O=C[1],R=_(S),k=fx(R,1),$=k[0];if(!P&&!$&&(y=S+1),P&&$&&(w=S-1),!P&&$){T=O;break}b++}return T||m},hx=function(t){var n=ue(t)?[]:t.toString().split(II);return[{words:n}]},CX=function(t){var n=t.width,r=t.scaleToFit,i=t.children,o=t.style,a=t.breakAll,s=t.maxLines;if((n||r)&&!Ba.isSsr){var l,u,c=OI({breakAll:a,children:i,style:o});if(c){var f=c.wordsWithComputedWidth,h=c.spaceWidth;l=f,u=h}else return hx(i);return AX({breakAll:a,children:i,maxLines:s,style:o},l,u,n,r)}return hx(i)},px="#808080",Gi=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,o=i===void 0?0:i,a=t.lineHeight,s=a===void 0?"1em":a,l=t.capHeight,u=l===void 0?"0.71em":l,c=t.scaleToFit,f=c===void 0?!1:c,h=t.textAnchor,m=h===void 0?"start":h,g=t.verticalAnchor,v=g===void 0?"end":g,_=t.fill,y=_===void 0?px:_,w=cx(t,_X),b=U.useMemo(function(){return CX({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),T=w.dx,S=w.dy,x=w.angle,E=w.className,C=w.breakAll,P=cx(w,wX);if(!rt(r)||!rt(o))return null;var O=r+(z(T)?T:0),R=o+(z(S)?S:0),k;switch(v){case"start":k=ip("calc(".concat(u,")"));break;case"middle":k=ip("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:k=ip("calc(".concat(b.length-1," * -").concat(s,")"));break}var $=[];if(f){var M=b[0].width,D=w.width;$.push("scale(".concat((z(D)?D/M:1)/M,")"))}return x&&$.push("rotate(".concat(x,", ").concat(O,", ").concat(R,")")),$.length&&(P.transform=$.join(" ")),I.createElement("text",pg({},re(P,!0),{x:O,y:R,className:le("recharts-text",E),textAnchor:m,fill:y.includes("url")?px:y}),b.map(function(F,V){var N=F.words.join(C?"":" ");return I.createElement("tspan",{x:O,dy:V===0?k:s,key:"".concat(N,"-").concat(V)},N)}))};function Kr(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function PX(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function zy(e){let t,n,r;e.length!==2?(t=Kr,n=(s,l)=>Kr(e(s),l),r=(s,l)=>e(s)-l):(t=e===Kr||e===PX?e:IX,n=e,r=e);function i(s,l,u=0,c=s.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<0?u=f+1:c=f}while(u<c)}return u}function o(s,l,u=0,c=s.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function a(s,l,u=0,c=s.length){const f=i(s,l,u,c-1);return f>u&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:a,right:o}}function IX(){return 0}function kI(e){return e===null?NaN:+e}function*OX(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const kX=zy(Kr),Zl=kX.right;zy(kI).center;class mx extends Map{constructor(t,n=MX){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(gx(this,t))}has(t){return super.has(gx(this,t))}set(t,n){return super.set(RX(this,t),n)}delete(t){return super.delete(NX(this,t))}}function gx({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function RX({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function NX({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function MX(e){return e!==null&&typeof e=="object"?e.valueOf():e}function $X(e=Kr){if(e===Kr)return RI;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function RI(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const DX=Math.sqrt(50),LX=Math.sqrt(10),UX=Math.sqrt(2);function nf(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=DX?10:o>=LX?5:o>=UX?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(e*u),l=Math.round(t*u),s/u<e&&++s,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(e/u),l=Math.round(t/u),s*u<e&&++s,l*u>t&&--l),l<s&&.5<=n&&n<2?nf(e,t,n*2):[s,l,u]}function mg(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,a]=r?nf(t,e,n):nf(e,t,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function gg(e,t,n){return t=+t,e=+e,n=+n,nf(e,t,n)[2]}function vg(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?gg(t,e,n):gg(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function vx(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function yx(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function NI(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?RI:$X(i);r>n;){if(r-n>600){const l=r-n+1,u=t-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),m=Math.max(n,Math.floor(t-u*f/l+h)),g=Math.min(r,Math.floor(t+(l-u)*f/l+h));NI(e,t,m,g,i)}const o=e[t];let a=n,s=r;for(os(e,n,t),i(e[r],o)>0&&os(e,n,r);a<s;){for(os(e,a,s),++a,--s;i(e[a],o)<0;)++a;for(;i(e[s],o)>0;)--s}i(e[n],o)===0?os(e,n,s):(++s,os(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function os(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function FX(e,t,n){if(e=Float64Array.from(OX(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return yx(e);if(t>=1)return vx(e);var r,i=(r-1)*t,o=Math.floor(i),a=vx(NI(e,o).subarray(0,o+1)),s=yx(e.subarray(o+1));return a+(s-a)*(i-o)}}function jX(e,t,n=kI){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e),s=+n(e[o+1],o+1,e);return a+(s-a)*(i-o)}}function BX(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function wn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Er(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const yg=Symbol("implicit");function Wy(){var e=new mx,t=[],n=[],r=yg;function i(o){let a=e.get(o);if(a===void 0){if(r!==yg)return r;e.set(o,a=t.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new mx;for(const a of o)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Wy(t,n).unknown(r)},wn.apply(i,arguments),i}function pl(){var e=Wy().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,a,s=!1,l=0,u=0,c=.5;delete e.unknown;function f(){var h=t().length,m=i<r,g=m?i:r,v=m?r:i;o=(v-g)/Math.max(1,h-l+u*2),s&&(o=Math.floor(o)),g+=(v-g-o*(h-l))*c,a=o*(1-l),s&&(g=Math.round(g),a=Math.round(a));var _=BX(h).map(function(y){return g+o*y});return n(m?_.reverse():_)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,f()},e.bandwidth=function(){return a},e.step=function(){return o},e.round=function(h){return arguments.length?(s=!!h,f()):s},e.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),f()):c},e.copy=function(){return pl(t(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},wn.apply(f(),arguments)}function MI(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return MI(t())},e}function Rs(){return MI(pl.apply(null,arguments).paddingInner(1))}function Ky(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function $I(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function eu(){}var ml=.7,rf=1/ml,Wo="\\s*([+-]?\\d+)\\s*",gl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",VX=/^#([0-9a-f]{3,8})$/,GX=new RegExp(`^rgb\\(${Wo},${Wo},${Wo}\\)$`),HX=new RegExp(`^rgb\\(${qn},${qn},${qn}\\)$`),qX=new RegExp(`^rgba\\(${Wo},${Wo},${Wo},${gl}\\)$`),zX=new RegExp(`^rgba\\(${qn},${qn},${qn},${gl}\\)$`),WX=new RegExp(`^hsl\\(${gl},${qn},${qn}\\)$`),KX=new RegExp(`^hsla\\(${gl},${qn},${qn},${gl}\\)$`),_x={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ky(eu,vl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:wx,formatHex:wx,formatHex8:JX,formatHsl:YX,formatRgb:bx,toString:bx});function wx(){return this.rgb().formatHex()}function JX(){return this.rgb().formatHex8()}function YX(){return DI(this).formatHsl()}function bx(){return this.rgb().formatRgb()}function vl(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=VX.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Sx(t):n===3?new Ut(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Uu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Uu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=GX.exec(e))?new Ut(t[1],t[2],t[3],1):(t=HX.exec(e))?new Ut(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=qX.exec(e))?Uu(t[1],t[2],t[3],t[4]):(t=zX.exec(e))?Uu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=WX.exec(e))?Ex(t[1],t[2]/100,t[3]/100,1):(t=KX.exec(e))?Ex(t[1],t[2]/100,t[3]/100,t[4]):_x.hasOwnProperty(e)?Sx(_x[e]):e==="transparent"?new Ut(NaN,NaN,NaN,0):null}function Sx(e){return new Ut(e>>16&255,e>>8&255,e&255,1)}function Uu(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ut(e,t,n,r)}function XX(e){return e instanceof eu||(e=vl(e)),e?(e=e.rgb(),new Ut(e.r,e.g,e.b,e.opacity)):new Ut}function _g(e,t,n,r){return arguments.length===1?XX(e):new Ut(e,t,n,r??1)}function Ut(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Ky(Ut,_g,$I(eu,{brighter(e){return e=e==null?rf:Math.pow(rf,e),new Ut(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ml:Math.pow(ml,e),new Ut(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ut(Mi(this.r),Mi(this.g),Mi(this.b),of(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xx,formatHex:xx,formatHex8:QX,formatRgb:Tx,toString:Tx}));function xx(){return`#${Pi(this.r)}${Pi(this.g)}${Pi(this.b)}`}function QX(){return`#${Pi(this.r)}${Pi(this.g)}${Pi(this.b)}${Pi((isNaN(this.opacity)?1:this.opacity)*255)}`}function Tx(){const e=of(this.opacity);return`${e===1?"rgb(":"rgba("}${Mi(this.r)}, ${Mi(this.g)}, ${Mi(this.b)}${e===1?")":`, ${e})`}`}function of(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Mi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Pi(e){return e=Mi(e),(e<16?"0":"")+e.toString(16)}function Ex(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new On(e,t,n,r)}function DI(e){if(e instanceof On)return new On(e.h,e.s,e.l,e.opacity);if(e instanceof eu||(e=vl(e)),!e)return new On;if(e instanceof On)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(t===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-t)/s+2:a=(t-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new On(a,s,l,e.opacity)}function ZX(e,t,n,r){return arguments.length===1?DI(e):new On(e,t,n,r??1)}function On(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Ky(On,ZX,$I(eu,{brighter(e){return e=e==null?rf:Math.pow(rf,e),new On(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ml:Math.pow(ml,e),new On(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Ut(op(e>=240?e-240:e+120,i,r),op(e,i,r),op(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new On(Ax(this.h),Fu(this.s),Fu(this.l),of(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=of(this.opacity);return`${e===1?"hsl(":"hsla("}${Ax(this.h)}, ${Fu(this.s)*100}%, ${Fu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Ax(e){return e=(e||0)%360,e<0?e+360:e}function Fu(e){return Math.max(0,Math.min(1,e||0))}function op(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Jy=e=>()=>e;function eQ(e,t){return function(n){return e+n*t}}function tQ(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function nQ(e){return(e=+e)==1?LI:function(t,n){return n-t?tQ(t,n,e):Jy(isNaN(t)?n:t)}}function LI(e,t){var n=t-e;return n?eQ(e,n):Jy(isNaN(e)?t:e)}const Cx=function e(t){var n=nQ(t);function r(i,o){var a=n((i=_g(i)).r,(o=_g(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=LI(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function rQ(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function iQ(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function oQ(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Va(e[a],t[a]);for(;a<n;++a)o[a]=t[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function aQ(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function af(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function sQ(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Va(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var wg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ap=new RegExp(wg.source,"g");function lQ(e){return function(){return e}}function uQ(e){return function(t){return e(t)+""}}function cQ(e,t){var n=wg.lastIndex=ap.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(e=e+"",t=t+"";(r=wg.exec(e))&&(i=ap.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:af(r,i)})),n=ap.lastIndex;return n<t.length&&(o=t.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?uQ(l[0].x):lQ(t):(t=l.length,function(u){for(var c=0,f;c<t;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}function Va(e,t){var n=typeof t,r;return t==null||n==="boolean"?Jy(t):(n==="number"?af:n==="string"?(r=vl(t))?(t=r,Cx):cQ:t instanceof vl?Cx:t instanceof Date?aQ:iQ(t)?rQ:Array.isArray(t)?oQ:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?sQ:af)(e,t)}function Yy(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function fQ(e,t){t===void 0&&(t=e,e=Va);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function dQ(e){return function(){return e}}function sf(e){return+e}var Px=[0,1];function It(e){return e}function bg(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:dQ(isNaN(t)?NaN:.5)}function hQ(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function pQ(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=bg(i,r),o=n(a,o)):(r=bg(r,i),o=n(o,a)),function(s){return o(r(s))}}function mQ(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=bg(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(s){var l=Zl(e,s,1,r)-1;return o[l](i[l](s))}}function tu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ld(){var e=Px,t=Px,n=Va,r,i,o,a=It,s,l,u;function c(){var h=Math.min(e.length,t.length);return a!==It&&(a=hQ(e[0],e[h-1])),s=h>2?mQ:pQ,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?o:(l||(l=s(e.map(r),t,n)))(r(a(h)))}return f.invert=function(h){return a(i((u||(u=s(t,e.map(r),af)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,sf),c()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),c()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),n=Yy,c()},f.clamp=function(h){return arguments.length?(a=h?!0:It,c()):a!==It},f.interpolate=function(h){return arguments.length?(n=h,c()):n},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,m){return r=h,i=m,c()}}function Xy(){return Ld()(It,It)}function gQ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function lf(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function sa(e){return e=lf(Math.abs(e)),e?e[1]:NaN}function vQ(e,t){return function(n,r){for(var i=n.length,o=[],a=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(t)}}function yQ(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var _Q=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function yl(e){if(!(t=_Q.exec(e)))throw new Error("invalid format: "+e);var t;return new Qy({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}yl.prototype=Qy.prototype;function Qy(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Qy.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function wQ(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var uf;function bQ(e,t){var n=lf(e,t);if(!n)return uf=void 0,e.toPrecision(t);var r=n[0],i=n[1],o=i-(uf=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+lf(e,Math.max(0,t+o-1))[0]}function Ix(e,t){var n=lf(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Ox={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:gQ,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Ix(e*100,t),r:Ix,s:bQ,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function kx(e){return e}var Rx=Array.prototype.map,Nx=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function SQ(e){var t=e.grouping===void 0||e.thousands===void 0?kx:vQ(Rx.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?kx:yQ(Rx.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f,h){f=yl(f);var m=f.fill,g=f.align,v=f.sign,_=f.symbol,y=f.zero,w=f.width,b=f.comma,T=f.precision,S=f.trim,x=f.type;x==="n"?(b=!0,x="g"):Ox[x]||(T===void 0&&(T=12),S=!0,x="g"),(y||m==="0"&&g==="=")&&(y=!0,m="0",g="=");var E=(h&&h.prefix!==void 0?h.prefix:"")+(_==="$"?n:_==="#"&&/[boxX]/.test(x)?"0"+x.toLowerCase():""),C=(_==="$"?r:/[%p]/.test(x)?a:"")+(h&&h.suffix!==void 0?h.suffix:""),P=Ox[x],O=/[defgprs%]/.test(x);T=T===void 0?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function R(k){var $=E,M=C,D,F,V;if(x==="c")M=P(k)+M,k="";else{k=+k;var N=k<0||1/k<0;if(k=isNaN(k)?l:P(Math.abs(k),T),S&&(k=wQ(k)),N&&+k==0&&v!=="+"&&(N=!1),$=(N?v==="("?v:s:v==="-"||v==="("?"":v)+$,M=(x==="s"&&!isNaN(k)&&uf!==void 0?Nx[8+uf/3]:"")+M+(N&&v==="("?")":""),O){for(D=-1,F=k.length;++D<F;)if(V=k.charCodeAt(D),48>V||V>57){M=(V===46?i+k.slice(D+1):k.slice(D))+M,k=k.slice(0,D);break}}}b&&!y&&(k=t(k,1/0));var j=$.length+k.length+M.length,B=j<w?new Array(w-j+1).join(m):"";switch(b&&y&&(k=t(B+k,B.length?w-M.length:1/0),B=""),g){case"<":k=$+k+M+B;break;case"=":k=$+B+k+M;break;case"^":k=B.slice(0,j=B.length>>1)+$+k+M+B.slice(j);break;default:k=B+$+k+M;break}return o(k)}return R.toString=function(){return f+""},R}function c(f,h){var m=Math.max(-8,Math.min(8,Math.floor(sa(h)/3)))*3,g=Math.pow(10,-m),v=u((f=yl(f),f.type="f",f),{suffix:Nx[8+m/3]});return function(_){return v(g*_)}}return{format:u,formatPrefix:c}}var ju,Zy,UI;xQ({thousands:",",grouping:[3],currency:["$",""]});function xQ(e){return ju=SQ(e),Zy=ju.format,UI=ju.formatPrefix,ju}function TQ(e){return Math.max(0,-sa(Math.abs(e)))}function EQ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(sa(t)/3)))*3-sa(Math.abs(e)))}function AQ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,sa(t)-sa(e))+1}function FI(e,t,n,r){var i=vg(e,t,n),o;switch(r=yl(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=EQ(i,a))&&(r.precision=o),UI(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=AQ(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=TQ(i))&&(r.precision=o-(r.type==="%")*2);break}}return Zy(r)}function ri(e){var t=e.domain;return e.ticks=function(n){var r=t();return mg(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return FI(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,c=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);c-- >0;){if(u=gg(a,s,n),u===l)return r[i]=a,r[o]=s,t(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return e},e}function cf(){var e=Xy();return e.copy=function(){return tu(e,cf())},wn.apply(e,arguments),ri(e)}function jI(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,sf),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return jI(e).unknown(t)},e=arguments.length?Array.from(e,sf):[0,1],ri(n)}function BI(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),e[n]=t.floor(i),e[r]=t.ceil(o),e}function Mx(e){return Math.log(e)}function $x(e){return Math.exp(e)}function CQ(e){return-Math.log(-e)}function PQ(e){return-Math.exp(-e)}function IQ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function OQ(e){return e===10?IQ:e===Math.E?Math.exp:t=>Math.pow(e,t)}function kQ(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Dx(e){return(t,n)=>-e(-t,n)}function e0(e){const t=e(Mx,$x),n=t.domain;let r=10,i,o;function a(){return i=kQ(r),o=OQ(r),n()[0]<0?(i=Dx(i),o=Dx(o),e(CQ,PQ)):e(Mx,$x),t}return t.base=function(s){return arguments.length?(r=+s,a()):r},t.domain=function(s){return arguments.length?(n(s),a()):n()},t.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let h=i(u),m=i(c),g,v;const _=s==null?10:+s;let y=[];if(!(r%1)&&m-h<_){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(g=1;g<r;++g)if(v=h<0?g/o(-h):g*o(h),!(v<u)){if(v>c)break;y.push(v)}}else for(;h<=m;++h)for(g=r-1;g>=1;--g)if(v=h>0?g/o(-h):g*o(h),!(v<u)){if(v>c)break;y.push(v)}y.length*2<_&&(y=mg(u,c,_))}else y=mg(h,m,Math.min(m-h,_)).map(o);return f?y.reverse():y},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=yl(l)).precision==null&&(l.trim=!0),l=Zy(l)),s===1/0)return l;const u=Math.max(1,r*s/t.ticks().length);return c=>{let f=c/o(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},t.nice=()=>n(BI(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),t}function VI(){const e=e0(Ld()).domain([1,10]);return e.copy=()=>tu(e,VI()).base(e.base()),wn.apply(e,arguments),e}function Lx(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Ux(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function t0(e){var t=1,n=e(Lx(t),Ux(t));return n.constant=function(r){return arguments.length?e(Lx(t=+r),Ux(t)):t},ri(n)}function GI(){var e=t0(Ld());return e.copy=function(){return tu(e,GI()).constant(e.constant())},wn.apply(e,arguments)}function Fx(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function RQ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function NQ(e){return e<0?-e*e:e*e}function n0(e){var t=e(It,It),n=1;function r(){return n===1?e(It,It):n===.5?e(RQ,NQ):e(Fx(n),Fx(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},ri(t)}function r0(){var e=n0(Ld());return e.copy=function(){return tu(e,r0()).exponent(e.exponent())},wn.apply(e,arguments),e}function MQ(){return r0.apply(null,arguments).exponent(.5)}function jx(e){return Math.sign(e)*e*e}function $Q(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function HI(){var e=Xy(),t=[0,1],n=!1,r;function i(o){var a=$Q(e(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return e.invert(jx(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,sf)).map(jx)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return HI(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},wn.apply(i,arguments),ri(i)}function qI(){var e=[],t=[],n=[],r;function i(){var a=0,s=Math.max(1,t.length);for(n=new Array(s-1);++a<s;)n[a-1]=jX(e,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:t[Zl(n,a)]}return o.invertExtent=function(a){var s=t.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},o.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Kr),i()},o.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return qI().domain(e).range(t).unknown(r)},wn.apply(o,arguments)}function zI(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[Zl(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return a}return a.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return zI().domain([e,t]).range(i).unknown(o)},wn.apply(ri(a),arguments)}function WI(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[Zl(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var a=t.indexOf(o);return[e[a-1],e[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return WI().domain(e).range(t).unknown(n)},wn.apply(i,arguments)}const sp=new Date,lp=new Date;function it(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(t(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),t(o,s),e(o);while(u<o&&o<a);return l},i.filter=o=>it(a=>{if(a>=a)for(;e(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;t(a,-1),!o(a););else for(;--s>=0;)for(;t(a,1),!o(a););}),n&&(i.count=(o,a)=>(sp.setTime(+o),lp.setTime(+a),e(sp),e(lp),Math.floor(n(sp,lp))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const ff=it(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ff.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?it(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):ff);ff.range;const ir=1e3,fn=ir*60,or=fn*60,mr=or*24,i0=mr*7,Bx=mr*30,up=mr*365,Ii=it(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ir)},(e,t)=>(t-e)/ir,e=>e.getUTCSeconds());Ii.range;const o0=it(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ir)},(e,t)=>{e.setTime(+e+t*fn)},(e,t)=>(t-e)/fn,e=>e.getMinutes());o0.range;const a0=it(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*fn)},(e,t)=>(t-e)/fn,e=>e.getUTCMinutes());a0.range;const s0=it(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ir-e.getMinutes()*fn)},(e,t)=>{e.setTime(+e+t*or)},(e,t)=>(t-e)/or,e=>e.getHours());s0.range;const l0=it(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*or)},(e,t)=>(t-e)/or,e=>e.getUTCHours());l0.range;const nu=it(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*fn)/mr,e=>e.getDate()-1);nu.range;const Ud=it(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/mr,e=>e.getUTCDate()-1);Ud.range;const KI=it(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/mr,e=>Math.floor(e/mr));KI.range;function Xi(e){return it(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*fn)/i0)}const Fd=Xi(0),df=Xi(1),DQ=Xi(2),LQ=Xi(3),la=Xi(4),UQ=Xi(5),FQ=Xi(6);Fd.range;df.range;DQ.range;LQ.range;la.range;UQ.range;FQ.range;function Qi(e){return it(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/i0)}const jd=Qi(0),hf=Qi(1),jQ=Qi(2),BQ=Qi(3),ua=Qi(4),VQ=Qi(5),GQ=Qi(6);jd.range;hf.range;jQ.range;BQ.range;ua.range;VQ.range;GQ.range;const u0=it(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());u0.range;const c0=it(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());c0.range;const gr=it(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());gr.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:it(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});gr.range;const vr=it(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());vr.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:it(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});vr.range;function JI(e,t,n,r,i,o){const a=[[Ii,1,ir],[Ii,5,5*ir],[Ii,15,15*ir],[Ii,30,30*ir],[o,1,fn],[o,5,5*fn],[o,15,15*fn],[o,30,30*fn],[i,1,or],[i,3,3*or],[i,6,6*or],[i,12,12*or],[r,1,mr],[r,2,2*mr],[n,1,i0],[t,1,Bx],[t,3,3*Bx],[e,1,up]];function s(u,c,f){const h=c<u;h&&([u,c]=[c,u]);const m=f&&typeof f.range=="function"?f:l(u,c,f),g=m?m.range(u,+c+1):[];return h?g.reverse():g}function l(u,c,f){const h=Math.abs(c-u)/f,m=zy(([,,_])=>_).right(a,h);if(m===a.length)return e.every(vg(u/up,c/up,f));if(m===0)return ff.every(Math.max(vg(u,c,f),1));const[g,v]=a[h/a[m-1][2]<a[m][2]/h?m-1:m];return g.every(v)}return[s,l]}const[HQ,qQ]=JI(vr,c0,jd,KI,l0,a0),[zQ,WQ]=JI(gr,u0,Fd,nu,s0,o0);function cp(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function fp(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function as(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function KQ(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,u=ss(i),c=ls(i),f=ss(o),h=ls(o),m=ss(a),g=ls(a),v=ss(s),_=ls(s),y=ss(l),w=ls(l),b={a:V,A:N,b:j,B,c:null,d:Wx,e:Wx,f:vZ,g:CZ,G:IZ,H:pZ,I:mZ,j:gZ,L:YI,m:yZ,M:_Z,p:W,q,Q:Yx,s:Xx,S:wZ,u:bZ,U:SZ,V:xZ,w:TZ,W:EZ,x:null,X:null,y:AZ,Y:PZ,Z:OZ,"%":Jx},T={a:Z,A:fe,b:Ne,B:Ge,c:null,d:Kx,e:Kx,f:MZ,g:HZ,G:zZ,H:kZ,I:RZ,j:NZ,L:QI,m:$Z,M:DZ,p:tn,q:Mt,Q:Yx,s:Xx,S:LZ,u:UZ,U:FZ,V:jZ,w:BZ,W:VZ,x:null,X:null,y:GZ,Y:qZ,Z:WZ,"%":Jx},S={a:O,A:R,b:k,B:$,c:M,d:qx,e:qx,f:cZ,g:Hx,G:Gx,H:zx,I:zx,j:aZ,L:uZ,m:oZ,M:sZ,p:P,q:iZ,Q:dZ,s:hZ,S:lZ,u:ZQ,U:eZ,V:tZ,w:QQ,W:nZ,x:D,X:F,y:Hx,Y:Gx,Z:rZ,"%":fZ};b.x=x(n,b),b.X=x(r,b),b.c=x(t,b),T.x=x(n,T),T.X=x(r,T),T.c=x(t,T);function x(J,ae){return function(se){var G=[],Fe=-1,de=0,Je=J.length,Ye,$t,Ar;for(se instanceof Date||(se=new Date(+se));++Fe<Je;)J.charCodeAt(Fe)===37&&(G.push(J.slice(de,Fe)),($t=Vx[Ye=J.charAt(++Fe)])!=null?Ye=J.charAt(++Fe):$t=Ye==="e"?" ":"0",(Ar=ae[Ye])&&(Ye=Ar(se,$t)),G.push(Ye),de=Fe+1);return G.push(J.slice(de,Fe)),G.join("")}}function E(J,ae){return function(se){var G=as(1900,void 0,1),Fe=C(G,J,se+="",0),de,Je;if(Fe!=se.length)return null;if("Q"in G)return new Date(G.Q);if("s"in G)return new Date(G.s*1e3+("L"in G?G.L:0));if(ae&&!("Z"in G)&&(G.Z=0),"p"in G&&(G.H=G.H%12+G.p*12),G.m===void 0&&(G.m="q"in G?G.q:0),"V"in G){if(G.V<1||G.V>53)return null;"w"in G||(G.w=1),"Z"in G?(de=fp(as(G.y,0,1)),Je=de.getUTCDay(),de=Je>4||Je===0?hf.ceil(de):hf(de),de=Ud.offset(de,(G.V-1)*7),G.y=de.getUTCFullYear(),G.m=de.getUTCMonth(),G.d=de.getUTCDate()+(G.w+6)%7):(de=cp(as(G.y,0,1)),Je=de.getDay(),de=Je>4||Je===0?df.ceil(de):df(de),de=nu.offset(de,(G.V-1)*7),G.y=de.getFullYear(),G.m=de.getMonth(),G.d=de.getDate()+(G.w+6)%7)}else("W"in G||"U"in G)&&("w"in G||(G.w="u"in G?G.u%7:"W"in G?1:0),Je="Z"in G?fp(as(G.y,0,1)).getUTCDay():cp(as(G.y,0,1)).getDay(),G.m=0,G.d="W"in G?(G.w+6)%7+G.W*7-(Je+5)%7:G.w+G.U*7-(Je+6)%7);return"Z"in G?(G.H+=G.Z/100|0,G.M+=G.Z%100,fp(G)):cp(G)}}function C(J,ae,se,G){for(var Fe=0,de=ae.length,Je=se.length,Ye,$t;Fe<de;){if(G>=Je)return-1;if(Ye=ae.charCodeAt(Fe++),Ye===37){if(Ye=ae.charAt(Fe++),$t=S[Ye in Vx?ae.charAt(Fe++):Ye],!$t||(G=$t(J,se,G))<0)return-1}else if(Ye!=se.charCodeAt(G++))return-1}return G}function P(J,ae,se){var G=u.exec(ae.slice(se));return G?(J.p=c.get(G[0].toLowerCase()),se+G[0].length):-1}function O(J,ae,se){var G=m.exec(ae.slice(se));return G?(J.w=g.get(G[0].toLowerCase()),se+G[0].length):-1}function R(J,ae,se){var G=f.exec(ae.slice(se));return G?(J.w=h.get(G[0].toLowerCase()),se+G[0].length):-1}function k(J,ae,se){var G=y.exec(ae.slice(se));return G?(J.m=w.get(G[0].toLowerCase()),se+G[0].length):-1}function $(J,ae,se){var G=v.exec(ae.slice(se));return G?(J.m=_.get(G[0].toLowerCase()),se+G[0].length):-1}function M(J,ae,se){return C(J,t,ae,se)}function D(J,ae,se){return C(J,n,ae,se)}function F(J,ae,se){return C(J,r,ae,se)}function V(J){return a[J.getDay()]}function N(J){return o[J.getDay()]}function j(J){return l[J.getMonth()]}function B(J){return s[J.getMonth()]}function W(J){return i[+(J.getHours()>=12)]}function q(J){return 1+~~(J.getMonth()/3)}function Z(J){return a[J.getUTCDay()]}function fe(J){return o[J.getUTCDay()]}function Ne(J){return l[J.getUTCMonth()]}function Ge(J){return s[J.getUTCMonth()]}function tn(J){return i[+(J.getUTCHours()>=12)]}function Mt(J){return 1+~~(J.getUTCMonth()/3)}return{format:function(J){var ae=x(J+="",b);return ae.toString=function(){return J},ae},parse:function(J){var ae=E(J+="",!1);return ae.toString=function(){return J},ae},utcFormat:function(J){var ae=x(J+="",T);return ae.toString=function(){return J},ae},utcParse:function(J){var ae=E(J+="",!0);return ae.toString=function(){return J},ae}}}var Vx={"-":"",_:" ",0:"0"},ct=/^\s*\d+/,JQ=/^%/,YQ=/[\\^$*+?|[\]().{}]/g;function me(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function XQ(e){return e.replace(YQ,"\\$&")}function ss(e){return new RegExp("^(?:"+e.map(XQ).join("|")+")","i")}function ls(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function QQ(e,t,n){var r=ct.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function ZQ(e,t,n){var r=ct.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function eZ(e,t,n){var r=ct.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function tZ(e,t,n){var r=ct.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function nZ(e,t,n){var r=ct.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Gx(e,t,n){var r=ct.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Hx(e,t,n){var r=ct.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function rZ(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function iZ(e,t,n){var r=ct.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function oZ(e,t,n){var r=ct.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function qx(e,t,n){var r=ct.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function aZ(e,t,n){var r=ct.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function zx(e,t,n){var r=ct.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function sZ(e,t,n){var r=ct.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function lZ(e,t,n){var r=ct.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function uZ(e,t,n){var r=ct.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function cZ(e,t,n){var r=ct.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function fZ(e,t,n){var r=JQ.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function dZ(e,t,n){var r=ct.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function hZ(e,t,n){var r=ct.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Wx(e,t){return me(e.getDate(),t,2)}function pZ(e,t){return me(e.getHours(),t,2)}function mZ(e,t){return me(e.getHours()%12||12,t,2)}function gZ(e,t){return me(1+nu.count(gr(e),e),t,3)}function YI(e,t){return me(e.getMilliseconds(),t,3)}function vZ(e,t){return YI(e,t)+"000"}function yZ(e,t){return me(e.getMonth()+1,t,2)}function _Z(e,t){return me(e.getMinutes(),t,2)}function wZ(e,t){return me(e.getSeconds(),t,2)}function bZ(e){var t=e.getDay();return t===0?7:t}function SZ(e,t){return me(Fd.count(gr(e)-1,e),t,2)}function XI(e){var t=e.getDay();return t>=4||t===0?la(e):la.ceil(e)}function xZ(e,t){return e=XI(e),me(la.count(gr(e),e)+(gr(e).getDay()===4),t,2)}function TZ(e){return e.getDay()}function EZ(e,t){return me(df.count(gr(e)-1,e),t,2)}function AZ(e,t){return me(e.getFullYear()%100,t,2)}function CZ(e,t){return e=XI(e),me(e.getFullYear()%100,t,2)}function PZ(e,t){return me(e.getFullYear()%1e4,t,4)}function IZ(e,t){var n=e.getDay();return e=n>=4||n===0?la(e):la.ceil(e),me(e.getFullYear()%1e4,t,4)}function OZ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+me(t/60|0,"0",2)+me(t%60,"0",2)}function Kx(e,t){return me(e.getUTCDate(),t,2)}function kZ(e,t){return me(e.getUTCHours(),t,2)}function RZ(e,t){return me(e.getUTCHours()%12||12,t,2)}function NZ(e,t){return me(1+Ud.count(vr(e),e),t,3)}function QI(e,t){return me(e.getUTCMilliseconds(),t,3)}function MZ(e,t){return QI(e,t)+"000"}function $Z(e,t){return me(e.getUTCMonth()+1,t,2)}function DZ(e,t){return me(e.getUTCMinutes(),t,2)}function LZ(e,t){return me(e.getUTCSeconds(),t,2)}function UZ(e){var t=e.getUTCDay();return t===0?7:t}function FZ(e,t){return me(jd.count(vr(e)-1,e),t,2)}function ZI(e){var t=e.getUTCDay();return t>=4||t===0?ua(e):ua.ceil(e)}function jZ(e,t){return e=ZI(e),me(ua.count(vr(e),e)+(vr(e).getUTCDay()===4),t,2)}function BZ(e){return e.getUTCDay()}function VZ(e,t){return me(hf.count(vr(e)-1,e),t,2)}function GZ(e,t){return me(e.getUTCFullYear()%100,t,2)}function HZ(e,t){return e=ZI(e),me(e.getUTCFullYear()%100,t,2)}function qZ(e,t){return me(e.getUTCFullYear()%1e4,t,4)}function zZ(e,t){var n=e.getUTCDay();return e=n>=4||n===0?ua(e):ua.ceil(e),me(e.getUTCFullYear()%1e4,t,4)}function WZ(){return"+0000"}function Jx(){return"%"}function Yx(e){return+e}function Xx(e){return Math.floor(+e/1e3)}var co,eO,tO;KZ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function KZ(e){return co=KQ(e),eO=co.format,co.parse,tO=co.utcFormat,co.utcParse,co}function JZ(e){return new Date(e)}function YZ(e){return e instanceof Date?+e:+new Date(+e)}function f0(e,t,n,r,i,o,a,s,l,u){var c=Xy(),f=c.invert,h=c.domain,m=u(".%L"),g=u(":%S"),v=u("%I:%M"),_=u("%I %p"),y=u("%a %d"),w=u("%b %d"),b=u("%B"),T=u("%Y");function S(x){return(l(x)<x?m:s(x)<x?g:a(x)<x?v:o(x)<x?_:r(x)<x?i(x)<x?y:w:n(x)<x?b:T)(x)}return c.invert=function(x){return new Date(f(x))},c.domain=function(x){return arguments.length?h(Array.from(x,YZ)):h().map(JZ)},c.ticks=function(x){var E=h();return e(E[0],E[E.length-1],x??10)},c.tickFormat=function(x,E){return E==null?S:u(E)},c.nice=function(x){var E=h();return(!x||typeof x.range!="function")&&(x=t(E[0],E[E.length-1],x??10)),x?h(BI(E,x)):c},c.copy=function(){return tu(c,f0(e,t,n,r,i,o,a,s,l,u))},c}function XZ(){return wn.apply(f0(zQ,WQ,gr,u0,Fd,nu,s0,o0,Ii,eO).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function QZ(){return wn.apply(f0(HQ,qQ,vr,c0,jd,Ud,l0,a0,Ii,tO).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Bd(){var e=0,t=1,n,r,i,o,a=It,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:a(i===0?.5:(f=(o(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(a=f,u):a};function c(f){return function(h){var m,g;return arguments.length?([m,g]=h,a=f(m,g),u):[a(0),a(1)]}}return u.range=c(Va),u.rangeRound=c(Yy),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),u}}function ii(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function nO(){var e=ri(Bd()(It));return e.copy=function(){return ii(e,nO())},Er.apply(e,arguments)}function rO(){var e=e0(Bd()).domain([1,10]);return e.copy=function(){return ii(e,rO()).base(e.base())},Er.apply(e,arguments)}function iO(){var e=t0(Bd());return e.copy=function(){return ii(e,iO()).constant(e.constant())},Er.apply(e,arguments)}function d0(){var e=n0(Bd());return e.copy=function(){return ii(e,d0()).exponent(e.exponent())},Er.apply(e,arguments)}function ZZ(){return d0.apply(null,arguments).exponent(.5)}function oO(){var e=[],t=It;function n(r){if(r!=null&&!isNaN(r=+r))return t((Zl(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Kr),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>FX(e,o/r))},n.copy=function(){return oO(t).domain(e)},Er.apply(n,arguments)}function Vd(){var e=0,t=.5,n=1,r=1,i,o,a,s,l,u=It,c,f=!1,h;function m(v){return isNaN(v=+v)?h:(v=.5+((v=+c(v))-o)*(r*v<r*o?s:l),u(f?Math.max(0,Math.min(1,v)):v))}m.domain=function(v){return arguments.length?([e,t,n]=v,i=c(e=+e),o=c(t=+t),a=c(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,m):[e,t,n]},m.clamp=function(v){return arguments.length?(f=!!v,m):f},m.interpolator=function(v){return arguments.length?(u=v,m):u};function g(v){return function(_){var y,w,b;return arguments.length?([y,w,b]=_,u=fQ(v,[y,w,b]),m):[u(0),u(.5),u(1)]}}return m.range=g(Va),m.rangeRound=g(Yy),m.unknown=function(v){return arguments.length?(h=v,m):h},function(v){return c=v,i=v(e),o=v(t),a=v(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,m}}function aO(){var e=ri(Vd()(It));return e.copy=function(){return ii(e,aO())},Er.apply(e,arguments)}function sO(){var e=e0(Vd()).domain([.1,1,10]);return e.copy=function(){return ii(e,sO()).base(e.base())},Er.apply(e,arguments)}function lO(){var e=t0(Vd());return e.copy=function(){return ii(e,lO()).constant(e.constant())},Er.apply(e,arguments)}function h0(){var e=n0(Vd());return e.copy=function(){return ii(e,h0()).exponent(e.exponent())},Er.apply(e,arguments)}function eee(){return h0.apply(null,arguments).exponent(.5)}const Qx=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:pl,scaleDiverging:aO,scaleDivergingLog:sO,scaleDivergingPow:h0,scaleDivergingSqrt:eee,scaleDivergingSymlog:lO,scaleIdentity:jI,scaleImplicit:yg,scaleLinear:cf,scaleLog:VI,scaleOrdinal:Wy,scalePoint:Rs,scalePow:r0,scaleQuantile:qI,scaleQuantize:zI,scaleRadial:HI,scaleSequential:nO,scaleSequentialLog:rO,scaleSequentialPow:d0,scaleSequentialQuantile:oO,scaleSequentialSqrt:ZZ,scaleSequentialSymlog:iO,scaleSqrt:MQ,scaleSymlog:GI,scaleThreshold:WI,scaleTime:XZ,scaleUtc:QZ,tickFormat:FI},Symbol.toStringTag,{value:"Module"}));var tee=Na;function nee(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=t(o);if(a!=null&&(s===void 0?a===a&&!tee(a):n(a,s)))var s=a,l=o}return l}var Gd=nee;function ree(e,t){return e>t}var uO=ree,iee=Gd,oee=uO,aee=ja;function see(e){return e&&e.length?iee(e,aee,oee):void 0}var lee=see;const Hd=_e(lee);function uee(e,t){return e<t}var cO=uee,cee=Gd,fee=cO,dee=ja;function hee(e){return e&&e.length?cee(e,dee,fee):void 0}var pee=hee;const qd=_e(pee);var mee=Cy,gee=Jn,vee=_I,yee=Vt;function _ee(e,t){var n=yee(e)?mee:vee;return n(e,gee(t))}var wee=_ee,bee=vI,See=wee;function xee(e,t){return bee(See(e,t),1)}var Tee=xee;const Eee=_e(Tee);var Aee=Vy;function Cee(e,t){return Aee(e,t)}var Pee=Cee;const zd=_e(Pee);var Ga=1e9,Iee={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},m0,$e=!0,yn="[DecimalError] ",$i=yn+"Invalid argument: ",p0=yn+"Exponent out of range: ",Ha=Math.floor,_i=Math.pow,Oee=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Kt,ot=1e7,Oe=7,fO=9007199254740991,pf=Ha(fO/Oe),X={};X.absoluteValue=X.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};X.comparedTo=X.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(r=o.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};X.decimalPlaces=X.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Oe;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};X.dividedBy=X.div=function(e){return ur(this,new this.constructor(e))};X.dividedToIntegerBy=X.idiv=function(e){var t=this,n=t.constructor;return Se(ur(t,new n(e),0,1),n.precision)};X.equals=X.eq=function(e){return!this.cmp(e)};X.exponent=function(){return Ke(this)};X.greaterThan=X.gt=function(e){return this.cmp(e)>0};X.greaterThanOrEqualTo=X.gte=function(e){return this.cmp(e)>=0};X.isInteger=X.isint=function(){return this.e>this.d.length-2};X.isNegative=X.isneg=function(){return this.s<0};X.isPositive=X.ispos=function(){return this.s>0};X.isZero=function(){return this.s===0};X.lessThan=X.lt=function(e){return this.cmp(e)<0};X.lessThanOrEqualTo=X.lte=function(e){return this.cmp(e)<1};X.logarithm=X.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Kt))throw Error(yn+"NaN");if(n.s<1)throw Error(yn+(n.s?"NaN":"-Infinity"));return n.eq(Kt)?new r(0):($e=!1,t=ur(_l(n,o),_l(e,o),o),$e=!0,Se(t,i))};X.minus=X.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?pO(t,e):dO(t,(e.s=-e.s,e))};X.modulo=X.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(yn+"NaN");return n.s?($e=!1,t=ur(n,e,0,1).times(e),$e=!0,n.minus(t)):Se(new r(n),i)};X.naturalExponential=X.exp=function(){return hO(this)};X.naturalLogarithm=X.ln=function(){return _l(this)};X.negated=X.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};X.plus=X.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?dO(t,e):pO(t,(e.s=-e.s,e))};X.precision=X.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error($i+e);if(t=Ke(i)+1,r=i.d.length-1,n=r*Oe+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};X.squareRoot=X.sqrt=function(){var e,t,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(yn+"NaN")}for(e=Ke(s),$e=!1,i=Math.sqrt(+s),i==0||i==1/0?(t=Vn(s.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Ha((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(ur(s,o,a+2)).times(.5),Vn(o.d).slice(0,a)===(t=Vn(r.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&t=="4999"){if(Se(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(t!="9999")break;a+=4}return $e=!0,Se(r,n)};X.times=X.mul=function(e){var t,n,r,i,o,a,s,l,u,c=this,f=c.constructor,h=c.d,m=(e=new f(e)).d;if(!c.s||!e.s)return new f(0);for(e.s*=c.s,n=c.e+e.e,l=h.length,u=m.length,l<u&&(o=h,h=m,m=o,a=l,l=u,u=a),o=[],a=l+u,r=a;r--;)o.push(0);for(r=u;--r>=0;){for(t=0,i=l+r;i>r;)s=o[i]+m[r]*h[i-r-1]+t,o[i--]=s%ot|0,t=s/ot|0;o[i]=(o[i]+t)%ot|0}for(;!o[--a];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,$e?Se(e,f.precision):e};X.toDecimalPlaces=X.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Wn(e,0,Ga),t===void 0?t=r.rounding:Wn(t,0,8),Se(n,e+Ke(n)+1,t))};X.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Hi(r,!0):(Wn(e,0,Ga),t===void 0?t=i.rounding:Wn(t,0,8),r=Se(new i(r),e+1,t),n=Hi(r,!0,e+1)),n};X.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?Hi(i):(Wn(e,0,Ga),t===void 0?t=o.rounding:Wn(t,0,8),r=Se(new o(i),e+Ke(i)+1,t),n=Hi(r.abs(),!1,e+Ke(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};X.toInteger=X.toint=function(){var e=this,t=e.constructor;return Se(new t(e),Ke(e)+1,t.rounding)};X.toNumber=function(){return+this};X.toPower=X.pow=function(e){var t,n,r,i,o,a,s=this,l=s.constructor,u=12,c=+(e=new l(e));if(!e.s)return new l(Kt);if(s=new l(s),!s.s){if(e.s<1)throw Error(yn+"Infinity");return s}if(s.eq(Kt))return s;if(r=l.precision,e.eq(Kt))return Se(s,r);if(t=e.e,n=e.d.length-1,a=t>=n,o=s.s,a){if((n=c<0?-c:c)<=fO){for(i=new l(Kt),t=Math.ceil(r/Oe+4),$e=!1;n%2&&(i=i.times(s),eT(i.d,t)),n=Ha(n/2),n!==0;)s=s.times(s),eT(s.d,t);return $e=!0,e.s<0?new l(Kt).div(i):Se(i,r)}}else if(o<0)throw Error(yn+"NaN");return o=o<0&&e.d[Math.max(t,n)]&1?-1:1,s.s=1,$e=!1,i=e.times(_l(s,r+u)),$e=!0,i=hO(i),i.s=o,i};X.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?(n=Ke(i),r=Hi(i,n<=o.toExpNeg||n>=o.toExpPos)):(Wn(e,1,Ga),t===void 0?t=o.rounding:Wn(t,0,8),i=Se(new o(i),e,t),n=Ke(i),r=Hi(i,e<=n||n<=o.toExpNeg,e)),r};X.toSignificantDigits=X.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Wn(e,1,Ga),t===void 0?t=r.rounding:Wn(t,0,8)),Se(new r(n),e,t)};X.toString=X.valueOf=X.val=X.toJSON=X[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ke(e),n=e.constructor;return Hi(e,t<=n.toExpNeg||t>=n.toExpPos)};function dO(e,t){var n,r,i,o,a,s,l,u,c=e.constructor,f=c.precision;if(!e.s||!t.s)return t.s||(t=new c(e)),$e?Se(t,f):t;if(l=e.d,u=t.d,a=e.e,i=t.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=u.length):(r=u,i=a,s=l.length),a=Math.ceil(f/Oe),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=u.length,s-o<0&&(o=s,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/ot|0,l[o]%=ot;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=i,$e?Se(t,f):t}function Wn(e,t,n){if(e!==~~e||e<t||e>n)throw Error($i+e)}function Vn(e){var t,n,r,i=e.length-1,o="",a=e[0];if(i>0){for(o+=a,t=1;t<i;t++)r=e[t]+"",n=Oe-r.length,n&&(o+=Rr(n)),o+=r;a=e[t],r=a+"",n=Oe-r.length,n&&(o+=Rr(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var ur=function(){function e(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%ot|0,a=o/ot|0;return a&&r.unshift(a),r}function t(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*ot+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,u,c,f,h,m,g,v,_,y,w,b,T,S,x,E,C,P=r.constructor,O=r.s==i.s?1:-1,R=r.d,k=i.d;if(!r.s)return new P(r);if(!i.s)throw Error(yn+"Division by zero");for(l=r.e-i.e,E=k.length,S=R.length,m=new P(O),g=m.d=[],u=0;k[u]==(R[u]||0);)++u;if(k[u]>(R[u]||0)&&--l,o==null?w=o=P.precision:a?w=o+(Ke(r)-Ke(i))+1:w=o,w<0)return new P(0);if(w=w/Oe+2|0,u=0,E==1)for(c=0,k=k[0],w++;(u<S||c)&&w--;u++)b=c*ot+(R[u]||0),g[u]=b/k|0,c=b%k|0;else{for(c=ot/(k[0]+1)|0,c>1&&(k=e(k,c),R=e(R,c),E=k.length,S=R.length),T=E,v=R.slice(0,E),_=v.length;_<E;)v[_++]=0;C=k.slice(),C.unshift(0),x=k[0],k[1]>=ot/2&&++x;do c=0,s=t(k,v,E,_),s<0?(y=v[0],E!=_&&(y=y*ot+(v[1]||0)),c=y/x|0,c>1?(c>=ot&&(c=ot-1),f=e(k,c),h=f.length,_=v.length,s=t(f,v,h,_),s==1&&(c--,n(f,E<h?C:k,h))):(c==0&&(s=c=1),f=k.slice()),h=f.length,h<_&&f.unshift(0),n(v,f,_),s==-1&&(_=v.length,s=t(k,v,E,_),s<1&&(c++,n(v,E<_?C:k,_))),_=v.length):s===0&&(c++,v=[0]),g[u++]=c,s&&v[0]?v[_++]=R[T]||0:(v=[R[T]],_=1);while((T++<S||v[0]!==void 0)&&w--)}return g[0]||g.shift(),m.e=l,Se(m,a?o+Ke(m)+1:o)}}();function hO(e,t){var n,r,i,o,a,s,l=0,u=0,c=e.constructor,f=c.precision;if(Ke(e)>16)throw Error(p0+Ke(e));if(!e.s)return new c(Kt);for($e=!1,s=f,a=new c(.03125);e.abs().gte(.1);)e=e.times(a),u+=5;for(r=Math.log(_i(2,u))/Math.LN10*2+5|0,s+=r,n=i=o=new c(Kt),c.precision=s;;){if(i=Se(i.times(e),s),n=n.times(++l),a=o.plus(ur(i,n,s)),Vn(a.d).slice(0,s)===Vn(o.d).slice(0,s)){for(;u--;)o=Se(o.times(o),s);return c.precision=f,t==null?($e=!0,Se(o,f)):o}o=a}}function Ke(e){for(var t=e.e*Oe,n=e.d[0];n>=10;n/=10)t++;return t}function dp(e,t,n){if(t>e.LN10.sd())throw $e=!0,n&&(e.precision=n),Error(yn+"LN10 precision limit exceeded");return Se(new e(e.LN10),t)}function Rr(e){for(var t="";e--;)t+="0";return t}function _l(e,t){var n,r,i,o,a,s,l,u,c,f=1,h=10,m=e,g=m.d,v=m.constructor,_=v.precision;if(m.s<1)throw Error(yn+(m.s?"NaN":"-Infinity"));if(m.eq(Kt))return new v(0);if(t==null?($e=!1,u=_):u=t,m.eq(10))return t==null&&($e=!0),dp(v,u);if(u+=h,v.precision=u,n=Vn(g),r=n.charAt(0),o=Ke(m),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(e),n=Vn(m.d),r=n.charAt(0),f++;o=Ke(m),r>1?(m=new v("0."+n),o++):m=new v(r+"."+n.slice(1))}else return l=dp(v,u+2,_).times(o+""),m=_l(new v(r+"."+n.slice(1)),u-h).plus(l),v.precision=_,t==null?($e=!0,Se(m,_)):m;for(s=a=m=ur(m.minus(Kt),m.plus(Kt),u),c=Se(m.times(m),u),i=3;;){if(a=Se(a.times(c),u),l=s.plus(ur(a,new v(i),u)),Vn(l.d).slice(0,u)===Vn(s.d).slice(0,u))return s=s.times(2),o!==0&&(s=s.plus(dp(v,u+2,_).times(o+""))),s=ur(s,new v(f),u),v.precision=_,t==null?($e=!0,Se(s,_)):s;s=l,i+=2}}function Zx(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Ha(n/Oe),e.d=[],r=(n+1)%Oe,n<0&&(r+=Oe),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=Oe;r<i;)e.d.push(+t.slice(r,r+=Oe));t=t.slice(r),r=Oe-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),$e&&(e.e>pf||e.e<-pf))throw Error(p0+n)}else e.s=0,e.e=0,e.d=[0];return e}function Se(e,t,n){var r,i,o,a,s,l,u,c,f=e.d;for(a=1,o=f[0];o>=10;o/=10)a++;if(r=t-a,r<0)r+=Oe,i=t,u=f[c=0];else{if(c=Math.ceil((r+1)/Oe),o=f.length,c>=o)return e;for(u=o=f[c],a=1;o>=10;o/=10)a++;r%=Oe,i=r-Oe+a}if(n!==void 0&&(o=_i(10,a-i-1),s=u/o%10|0,l=t<0||f[c+1]!==void 0||u%o,l=n<4?(s||l)&&(n==0||n==(e.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/_i(10,a-i):0:f[c-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return l?(o=Ke(e),f.length=1,t=t-o-1,f[0]=_i(10,(Oe-t%Oe)%Oe),e.e=Ha(-t/Oe)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=c,o=1,c--):(f.length=c+1,o=_i(10,Oe-r),f[c]=i>0?(u/_i(10,a-i)%_i(10,i)|0)*o:0),l)for(;;)if(c==0){(f[0]+=o)==ot&&(f[0]=1,++e.e);break}else{if(f[c]+=o,f[c]!=ot)break;f[c--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if($e&&(e.e>pf||e.e<-pf))throw Error(p0+Ke(e));return e}function pO(e,t){var n,r,i,o,a,s,l,u,c,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),$e?Se(t,m):t;if(l=e.d,f=t.d,r=t.e,u=e.e,l=l.slice(),a=u-r,a){for(c=a<0,c?(n=l,a=-a,s=f.length):(n=f,r=u,s=l.length),i=Math.max(Math.ceil(m/Oe),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}a=0}for(c&&(n=l,l=f,f=n,t.s=-t.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>a;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=ot-1;--l[o],l[i]+=ot}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,$e?Se(t,m):t):new h(0)}function Hi(e,t,n){var r,i=Ke(e),o=Vn(e.d),a=o.length;return t?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+Rr(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Rr(-i-1)+o,n&&(r=n-a)>0&&(o+=Rr(r))):i>=a?(o+=Rr(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+Rr(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=Rr(r))),e.s<0?"-"+o:o}function eT(e,t){if(e.length>t)return e.length=t,!0}function mO(e){var t,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error($i+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return Zx(a,o.toString())}else if(typeof o!="string")throw Error($i+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,Oee.test(o))Zx(a,o);else throw Error($i+o)}if(i.prototype=X,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=mO,i.config=i.set=kee,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function kee(e){if(!e||typeof e!="object")throw Error(yn+"Object expected");var t,n,r,i=["precision",1,Ga,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Ha(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error($i+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error($i+n+": "+r);return this}var m0=mO(Iee);Kt=new m0(1);const be=m0;function Ree(e){return Dee(e)||$ee(e)||Mee(e)||Nee()}function Nee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mee(e,t){if(e){if(typeof e=="string")return Sg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sg(e,t)}}function $ee(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Dee(e){if(Array.isArray(e))return Sg(e)}function Sg(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Lee=function(t){return t},gO={},vO=function(t){return t===gO},tT=function(t){return function n(){return arguments.length===0||arguments.length===1&&vO(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},Uee=function e(t,n){return t===1?n:tT(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==gO}).length;return a>=t?n.apply(void 0,i):e(t-a,tT(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(f){return vO(f)?l.shift():f});return n.apply(void 0,Ree(c).concat(l))}))})},Wd=function(t){return Uee(t.length,t)},xg=function(t,n){for(var r=[],i=t;i<n;++i)r[i-t]=i;return r},Fee=Wd(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),jee=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return Lee;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},Tg=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},yO=function(t){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=t.apply(void 0,o)),r}};function Bee(e){var t;return e===0?t=1:t=Math.floor(new be(e).abs().log(10).toNumber())+1,t}function Vee(e,t,n){for(var r=new be(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var Gee=Wd(function(e,t,n){var r=+e,i=+t;return r+n*(i-r)}),Hee=Wd(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),qee=Wd(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const Kd={rangeStep:Vee,getDigitCount:Bee,interpolateNumber:Gee,uninterpolateNumber:Hee,uninterpolateTruncation:qee};function Eg(e){return Kee(e)||Wee(e)||_O(e)||zee()}function zee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wee(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Kee(e){if(Array.isArray(e))return Ag(e)}function wl(e,t){return Xee(e)||Yee(e,t)||_O(e,t)||Jee()}function Jee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _O(e,t){if(e){if(typeof e=="string")return Ag(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ag(e,t)}}function Ag(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yee(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=e[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(t&&n.length===t));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function Xee(e){if(Array.isArray(e))return e}function wO(e){var t=wl(e,2),n=t[0],r=t[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function bO(e,t,n){if(e.lte(0))return new be(0);var r=Kd.getDigitCount(e.toNumber()),i=new be(10).pow(r),o=e.div(i),a=r!==1?.05:.1,s=new be(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return t?l:new be(Math.ceil(l))}function Qee(e,t,n){var r=1,i=new be(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new be(10).pow(Kd.getDigitCount(e)-1),i=new be(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new be(Math.floor(e)))}else e===0?i=new be(Math.floor((t-1)/2)):n||(i=new be(Math.floor(e)));var a=Math.floor((t-1)/2),s=jee(Fee(function(l){return i.add(new be(l-a).mul(r)).toNumber()}),xg);return s(0,t)}function SO(e,t,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new be(0),tickMin:new be(0),tickMax:new be(0)};var o=bO(new be(t).sub(e).div(n-1),r,i),a;e<=0&&t>=0?a=new be(0):(a=new be(e).add(t).div(2),a=a.sub(new be(a).mod(o)));var s=Math.ceil(a.sub(e).div(o).toNumber()),l=Math.ceil(new be(t).sub(a).div(o).toNumber()),u=s+l+1;return u>n?SO(e,t,n,r,i+1):(u<n&&(l=t>0?l+(n-u):l,s=t>0?s:s+(n-u)),{step:o,tickMin:a.sub(new be(s).mul(o)),tickMax:a.add(new be(l).mul(o))})}function Zee(e){var t=wl(e,2),n=t[0],r=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=wO([n,r]),l=wl(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var f=c===1/0?[u].concat(Eg(xg(0,i-1).map(function(){return 1/0}))):[].concat(Eg(xg(0,i-1).map(function(){return-1/0})),[c]);return n>r?Tg(f):f}if(u===c)return Qee(u,i,o);var h=SO(u,c,a,o),m=h.step,g=h.tickMin,v=h.tickMax,_=Kd.rangeStep(g,v.add(new be(.1).mul(m)),m);return n>r?Tg(_):_}function ete(e,t){var n=wl(e,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=wO([r,i]),s=wl(a,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(t,2),f=bO(new be(u).sub(l).div(c-1),o,0),h=[].concat(Eg(Kd.rangeStep(new be(l),new be(u).sub(new be(.99).mul(f)),f)),[u]);return r>i?Tg(h):h}var tte=yO(Zee),nte=yO(ete),rte="Invariant failed";function qi(e,t){throw new Error(rte)}var ite=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function ca(e){"@babel/helpers - typeof";return ca=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ca(e)}function mf(){return mf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mf.apply(this,arguments)}function ote(e,t){return ute(e)||lte(e,t)||ste(e,t)||ate()}function ate(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ste(e,t){if(e){if(typeof e=="string")return nT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nT(e,t)}}function nT(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lte(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function ute(e){if(Array.isArray(e))return e}function cte(e,t){if(e==null)return{};var n=fte(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function fte(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function dte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hte(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,EO(r.key),r)}}function pte(e,t,n){return t&&hte(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function mte(e,t,n){return t=gf(t),gte(e,xO()?Reflect.construct(t,n||[],gf(e).constructor):t.apply(e,n))}function gte(e,t){if(t&&(ca(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vte(e)}function vte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xO=function(){return!!e})()}function gf(e){return gf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gf(e)}function yte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cg(e,t)}function Cg(e,t){return Cg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Cg(e,t)}function TO(e,t,n){return t=EO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EO(e){var t=_te(e,"string");return ca(t)=="symbol"?t:t+""}function _te(e,t){if(ca(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ca(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Jd=function(e){function t(){return dte(this,t),mte(this,t,arguments)}return yte(t,e),pte(t,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,f=r.yAxis,h=cte(r,ite),m=re(h,!1);this.props.direction==="x"&&c.type!=="number"&&qi();var g=l.map(function(v){var _=u(v,s),y=_.x,w=_.y,b=_.value,T=_.errorVal;if(!T)return null;var S=[],x,E;if(Array.isArray(T)){var C=ote(T,2);x=C[0],E=C[1]}else x=E=T;if(o==="vertical"){var P=c.scale,O=w+i,R=O+a,k=O-a,$=P(b-x),M=P(b+E);S.push({x1:M,y1:R,x2:M,y2:k}),S.push({x1:$,y1:O,x2:M,y2:O}),S.push({x1:$,y1:R,x2:$,y2:k})}else if(o==="horizontal"){var D=f.scale,F=y+i,V=F-a,N=F+a,j=D(b-x),B=D(b+E);S.push({x1:V,y1:B,x2:N,y2:B}),S.push({x1:F,y1:j,x2:F,y2:B}),S.push({x1:V,y1:j,x2:N,y2:j})}return I.createElement(ve,mf({className:"recharts-errorBar",key:"bar-".concat(S.map(function(W){return"".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))},m),S.map(function(W){return I.createElement("line",mf({},W,{key:"line-".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))}))});return I.createElement(ve,{className:"recharts-errorBars"},g)}}])}(I.Component);TO(Jd,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});TO(Jd,"displayName","ErrorBar");function bl(e){"@babel/helpers - typeof";return bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bl(e)}function rT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ci(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rT(Object(n),!0).forEach(function(r){wte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wte(e,t,n){return t=bte(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bte(e){var t=Ste(e,"string");return bl(t)=="symbol"?t:t+""}function Ste(e,t){if(bl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AO=function(t){var n=t.children,r=t.formattedGraphicalItems,i=t.legendWidth,o=t.legendContent,a=zt(n,Ni);if(!a)return null;var s=Ni.defaultProps,l=s!==void 0?ci(ci({},s),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:o==="children"?u=(r||[]).reduce(function(c,f){var h=f.item,m=f.props,g=m.sectors||m.data||[];return c.concat(g.map(function(v){return{type:a.props.iconType||h.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):u=(r||[]).map(function(c){var f=c.item,h=f.type.defaultProps,m=h!==void 0?ci(ci({},h),f.props):{},g=m.dataKey,v=m.name,_=m.legendType,y=m.hide;return{inactive:y,dataKey:g,type:l.iconType||_||"square",color:g0(f),value:v||g,payload:m}}),ci(ci(ci({},l),Ni.getWithHeight(a,i)),{},{payload:u,item:a})};function Sl(e){"@babel/helpers - typeof";return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sl(e)}function iT(e){return Ate(e)||Ete(e)||Tte(e)||xte()}function xte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tte(e,t){if(e){if(typeof e=="string")return Pg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pg(e,t)}}function Ete(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ate(e){if(Array.isArray(e))return Pg(e)}function Pg(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oT(Object(n),!0).forEach(function(r){Ko(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ko(e,t,n){return t=Cte(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cte(e){var t=Pte(e,"string");return Sl(t)=="symbol"?t:t+""}function Pte(e,t){if(Sl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Sl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function St(e,t,n){return ue(e)||ue(t)?n:rt(t)?Xt(e,t,n):ie(t)?t(e):n}function Ns(e,t,n,r){var i=Eee(e,function(s){return St(s,t)});if(n==="number"){var o=i.filter(function(s){return z(s)||parseFloat(s)});return o.length?[qd(o),Hd(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!ue(s)}):i;return a.map(function(s){return rt(s)||s instanceof Date?s:""})}var Ite=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,f=i[u].coordinate,h=u>=s-1?i[0].coordinate:i[u+1].coordinate,m=void 0;if(Ct(f-c)!==Ct(h-f)){var g=[];if(Ct(h-f)===Ct(l[1]-l[0])){m=h;var v=f+l[1]-l[0];g[0]=Math.min(v,(v+c)/2),g[1]=Math.max(v,(v+c)/2)}else{m=c;var _=h+l[1]-l[0];g[0]=Math.min(f,(_+f)/2),g[1]=Math.max(f,(_+f)/2)}var y=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>y[0]&&t<=y[1]||t>=g[0]&&t<=g[1]){a=i[u].index;break}}else{var w=Math.min(c,h),b=Math.max(c,h);if(t>(w+f)/2&&t<=(b+f)/2){a=i[u].index;break}}}else for(var T=0;T<s;T++)if(T===0&&t<=(r[T].coordinate+r[T+1].coordinate)/2||T>0&&T<s-1&&t>(r[T].coordinate+r[T-1].coordinate)/2&&t<=(r[T].coordinate+r[T+1].coordinate)/2||T===s-1&&t>(r[T].coordinate+r[T-1].coordinate)/2){a=r[T].index;break}return a},g0=function(t){var n,r=t,i=r.type.displayName,o=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Ve(Ve({},t.type.defaultProps),t.props):t.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},Ote=function(t){var n=t.barSize,r=t.totalSize,i=t.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,u=s.length;l<u;l++)for(var c=o[s[l]].stackGroups,f=Object.keys(c),h=0,m=f.length;h<m;h++){var g=c[f[h]],v=g.items,_=g.cateAxisId,y=v.filter(function(E){return lr(E.type).indexOf("Bar")>=0});if(y&&y.length){var w=y[0].type.defaultProps,b=w!==void 0?Ve(Ve({},w),y[0].props):y[0].props,T=b.barSize,S=b[_];a[S]||(a[S]=[]);var x=ue(T)?n:T;a[S].push({item:y[0],stackList:y.slice(1),barSize:ue(x)?void 0:Pt(x,r,0)})}}return a},kte=function(t){var n=t.barGap,r=t.barCategoryGap,i=t.bandSize,o=t.sizeList,a=o===void 0?[]:o,s=t.maxBarSize,l=a.length;if(l<1)return null;var u=Pt(n,i,0,!0),c,f=[];if(a[0].barSize===+a[0].barSize){var h=!1,m=i/l,g=a.reduce(function(T,S){return T+S.barSize||0},0);g+=(l-1)*u,g>=i&&(g-=(l-1)*u,u=0),g>=i&&m>0&&(h=!0,m*=.9,g=l*m);var v=(i-g)/2>>0,_={offset:v-u,size:0};c=a.reduce(function(T,S){var x={item:S.item,position:{offset:_.offset+_.size+u,size:h?m:S.barSize}},E=[].concat(iT(T),[x]);return _=E[E.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(C){E.push({item:C,position:_})}),E},f)}else{var y=Pt(r,i,0,!0);i-2*y-(l-1)*u<=0&&(u=0);var w=(i-2*y-(l-1)*u)/l;w>1&&(w>>=0);var b=s===+s?Math.min(w,s):w;c=a.reduce(function(T,S,x){var E=[].concat(iT(T),[{item:S.item,position:{offset:y+(w+u)*x+(w-b)/2,size:b}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(C){E.push({item:C,position:E[E.length-1].position})}),E},f)}return c},Rte=function(t,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),u=AO({children:o,legendWidth:l});if(u){var c=i||{},f=c.width,h=c.height,m=u.align,g=u.verticalAlign,v=u.layout;if((v==="vertical"||v==="horizontal"&&g==="middle")&&m!=="center"&&z(t[m]))return Ve(Ve({},t),{},Ko({},m,t[m]+(f||0)));if((v==="horizontal"||v==="vertical"&&m==="center")&&g!=="middle"&&z(t[g]))return Ve(Ve({},t),{},Ko({},g,t[g]+(h||0)))}return t},Nte=function(t,n,r){return ue(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},CO=function(t,n,r,i,o){var a=n.props.children,s=pn(a,Jd).filter(function(u){return Nte(i,o,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return t.reduce(function(u,c){var f=St(c,r);if(ue(f))return u;var h=Array.isArray(f)?[qd(f),Hd(f)]:[f,f],m=l.reduce(function(g,v){var _=St(c,v,0),y=h[0]-Math.abs(Array.isArray(_)?_[0]:_),w=h[1]+Math.abs(Array.isArray(_)?_[1]:_);return[Math.min(y,g[0]),Math.max(w,g[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},Mte=function(t,n,r,i,o){var a=n.map(function(s){return CO(t,s,r,o,i)}).filter(function(s){return!ue(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},PO=function(t,n,r,i,o){var a=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&CO(t,l,u,i)||Ns(t,u,r,o)});if(r==="number")return a.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,u){for(var c=0,f=u.length;c<f;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},IO=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},OO=function(t,n,r,i){if(i)return t.map(function(l){return l.coordinate});var o,a,s=t.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(a=!0),l.coordinate});return o||s.push(n),a||s.push(r),s},ar=function(t,n,r){if(!t)return null;var i=t.scale,o=t.duplicateDomain,a=t.type,s=t.range,l=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=t.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Ct(s[0]-s[1])*2*u:u,n&&(t.ticks||t.niceTicks)){var c=(t.ticks||t.niceTicks).map(function(f){var h=o?o.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return c.filter(function(f){return!Jl(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!r?i.ticks(t.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:o?o[f]:f,index:h,offset:u}})},hp=new WeakMap,Bu=function(t,n){if(typeof n!="function")return t;hp.has(t)||hp.set(t,new WeakMap);var r=hp.get(t);if(r.has(n))return r.get(n);var i=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},kO=function(t,n,r){var i=t.scale,o=t.type,a=t.layout,s=t.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:pl(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:cf(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Rs(),realScaleType:"point"}:o==="category"?{scale:pl(),realScaleType:"band"}:{scale:cf(),realScaleType:"linear"};if(Bi(i)){var l="scale".concat(Od(i));return{scale:(Qx[l]||Rs)(),realScaleType:Qx[l]?l:"point"}}return ie(i)?{scale:i}:{scale:Rs(),realScaleType:"point"}},aT=1e-4,RO=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,i=t.range(),o=Math.min(i[0],i[1])-aT,a=Math.max(i[0],i[1])+aT,s=t(n[0]),l=t(n[r-1]);(s<o||s>a||l<o||l>a)&&t.domain([n[0],n[r-1]])}},$te=function(t,n){if(!t)return null;for(var r=0,i=t.length;r<i;r++)if(t[r].item===n)return t[r].position;return null},Dte=function(t,n){if(!n||n.length!==2||!z(n[0])||!z(n[1]))return t;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[t[0],t[1]];return(!z(t[0])||t[0]<r)&&(o[0]=r),(!z(t[1])||t[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},Lte=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=Jl(t[s][r][1])?t[s][r][0]:t[s][r][1];l>=0?(t[s][r][0]=o,t[s][r][1]=o+l,o=t[s][r][1]):(t[s][r][0]=a,t[s][r][1]=a+l,a=t[s][r][1])}},Ute=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=Jl(t[a][r][1])?t[a][r][0]:t[a][r][1];s>=0?(t[a][r][0]=o,t[a][r][1]=o+s,o=t[a][r][1]):(t[a][r][0]=0,t[a][r][1]=0)}},Fte={sign:Lte,expand:i8,none:na,silhouette:o8,wiggle:a8,positive:Ute},jte=function(t,n,r){var i=n.map(function(s){return s.props.dataKey}),o=Fte[r],a=r8().keys(i).value(function(s,l){return+St(s,l,0)}).order(Qm).offset(o);return a(t)},Bte=function(t,n,r,i,o,a){if(!t)return null;var s=a?n.reverse():n,l={},u=s.reduce(function(f,h){var m,g=(m=h.type)!==null&&m!==void 0&&m.defaultProps?Ve(Ve({},h.type.defaultProps),h.props):h.props,v=g.stackId,_=g.hide;if(_)return f;var y=g[r],w=f[y]||{hasStack:!1,stackGroups:{}};if(rt(v)){var b=w.stackGroups[v]||{numericAxisId:r,cateAxisId:i,items:[]};b.items.push(h),w.hasStack=!0,w.stackGroups[v]=b}else w.stackGroups[Yl("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return Ve(Ve({},f),{},Ko({},y,w))},l),c={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var g={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(v,_){var y=m.stackGroups[_];return Ve(Ve({},v),{},Ko({},_,{numericAxisId:r,cateAxisId:i,items:y.items,stackedData:jte(t,y.items,o)}))},g)}return Ve(Ve({},f),{},Ko({},h,m))},c)},NO=function(t,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=t.domain();if(!u.length)return null;var c=tte(u,o,s);return t.domain([qd(c),Hd(c)]),{niceTicks:c}}if(o&&i==="number"){var f=t.domain(),h=nte(f,o,s);return{niceTicks:h}}return null},sT=function(t){var n=t.axis,r=t.ticks,i=t.offset,o=t.bandSize,a=t.entry,s=t.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=St(a,n.dataKey,n.domain[s]);return ue(l)?null:n.scale(l)-o/2+i},Vte=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},Gte=function(t,n){var r,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Ve(Ve({},t.type.defaultProps),t.props):t.props,o=i.stackId;if(rt(o)){var a=n[o];if(a){var s=a.items.indexOf(t);return s>=0?a.stackedData[s]:null}}return null},Hte=function(t){return t.reduce(function(n,r){return[qd(r.concat([n[0]]).filter(z)),Hd(r.concat([n[1]]).filter(z))]},[1/0,-1/0])},MO=function(t,n,r){return Object.keys(t).reduce(function(i,o){var a=t[o],s=a.stackedData,l=s.reduce(function(u,c){var f=Hte(c.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},lT=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,uT=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ig=function(t,n,r){if(ie(t))return t(n,r);if(!Array.isArray(t))return n;var i=[];if(z(t[0]))i[0]=r?t[0]:Math.min(t[0],n[0]);else if(lT.test(t[0])){var o=+lT.exec(t[0])[1];i[0]=n[0]-o}else ie(t[0])?i[0]=t[0](n[0]):i[0]=n[0];if(z(t[1]))i[1]=r?t[1]:Math.max(t[1],n[1]);else if(uT.test(t[1])){var a=+uT.exec(t[1])[1];i[1]=n[1]+a}else ie(t[1])?i[1]=t[1](n[1]):i[1]=n[1];return i},vf=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!r||i>0)return i}if(t&&n&&n.length>=2){for(var o=Hy(n,function(f){return f.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var u=o[s],c=o[s-1];a=Math.min((u.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},cT=function(t,n,r){return!t||!t.length||zd(t,Xt(r,"type.defaultProps.domain"))?n:t},$O=function(t,n){var r=t.type.defaultProps?Ve(Ve({},t.type.defaultProps),t.props):t.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return Ve(Ve({},re(t,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:g0(t),value:St(n,i),type:l,payload:n,chartType:u,hide:c})};function xl(e){"@babel/helpers - typeof";return xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xl(e)}function fT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function er(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fT(Object(n),!0).forEach(function(r){DO(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DO(e,t,n){return t=qte(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qte(e){var t=zte(e,"string");return xl(t)=="symbol"?t:t+""}function zte(e,t){if(xl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(xl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wte(e,t){return Xte(e)||Yte(e,t)||Jte(e,t)||Kte()}function Kte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jte(e,t){if(e){if(typeof e=="string")return dT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dT(e,t)}}function dT(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yte(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Xte(e){if(Array.isArray(e))return e}var yf=Math.PI/180,Qte=function(t){return t*180/Math.PI},Ce=function(t,n,r,i){return{x:t+Math.cos(-yf*i)*r,y:n+Math.sin(-yf*i)*r}},LO=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Zte=function(t,n,r,i,o){var a=t.width,s=t.height,l=t.startAngle,u=t.endAngle,c=Pt(t.cx,a,a/2),f=Pt(t.cy,s,s/2),h=LO(a,s,r),m=Pt(t.innerRadius,h,0),g=Pt(t.outerRadius,h,h*.8),v=Object.keys(n);return v.reduce(function(_,y){var w=n[y],b=w.domain,T=w.reversed,S;if(ue(w.range))i==="angleAxis"?S=[l,u]:i==="radiusAxis"&&(S=[m,g]),T&&(S=[S[1],S[0]]);else{S=w.range;var x=S,E=Wte(x,2);l=E[0],u=E[1]}var C=kO(w,o),P=C.realScaleType,O=C.scale;O.domain(b).range(S),RO(O);var R=NO(O,er(er({},w),{},{realScaleType:P})),k=er(er(er({},w),R),{},{range:S,radius:g,realScaleType:P,scale:O,cx:c,cy:f,innerRadius:m,outerRadius:g,startAngle:l,endAngle:u});return er(er({},_),{},DO({},y,k))},{})},ene=function(t,n){var r=t.x,i=t.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},tne=function(t,n){var r=t.x,i=t.y,o=n.cx,a=n.cy,s=ene({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,u=Math.acos(l);return i>a&&(u=2*Math.PI-u),{radius:s,angle:Qte(u),angleInRadian:u}},nne=function(t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},rne=function(t,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return t+s*360},hT=function(t,n){var r=t.x,i=t.y,o=tne({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,u=n.outerRadius;if(a<l||a>u)return!1;if(a===0)return!0;var c=nne(n),f=c.startAngle,h=c.endAngle,m=s,g;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;g=m>=h&&m<=f}return g?er(er({},n),{},{radius:a,angle:rne(m,n)}):null},UO=function(t){return!U.isValidElement(t)&&!ie(t)&&typeof t!="boolean"?t.className:""};function Tl(e){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tl(e)}var ine=["offset"];function one(e){return une(e)||lne(e)||sne(e)||ane()}function ane(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sne(e,t){if(e){if(typeof e=="string")return Og(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Og(e,t)}}function lne(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function une(e){if(Array.isArray(e))return Og(e)}function Og(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cne(e,t){if(e==null)return{};var n=fne(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function fne(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function pT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pT(Object(n),!0).forEach(function(r){dne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dne(e,t,n){return t=hne(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hne(e){var t=pne(e,"string");return Tl(t)=="symbol"?t:t+""}function pne(e,t){if(Tl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Tl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function El(){return El=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},El.apply(this,arguments)}var mne=function(t){var n=t.value,r=t.formatter,i=ue(t.children)?n:t.children;return ie(r)?r(i):i},gne=function(t,n){var r=Ct(n-t),i=Math.min(Math.abs(n-t),360);return r*i},vne=function(t,n,r){var i=t.position,o=t.viewBox,a=t.offset,s=t.className,l=o,u=l.cx,c=l.cy,f=l.innerRadius,h=l.outerRadius,m=l.startAngle,g=l.endAngle,v=l.clockWise,_=(f+h)/2,y=gne(m,g),w=y>=0?1:-1,b,T;i==="insideStart"?(b=m+w*a,T=v):i==="insideEnd"?(b=g-w*a,T=!v):i==="end"&&(b=g+w*a,T=v),T=y<=0?T:!T;var S=Ce(u,c,_,b),x=Ce(u,c,_,b+(T?1:-1)*359),E="M".concat(S.x,",").concat(S.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(T?0:1,`,
    `).concat(x.x,",").concat(x.y),C=ue(t.id)?Yl("recharts-radial-line-"):t.id;return I.createElement("text",El({},r,{dominantBaseline:"central",className:le("recharts-radial-bar-label",s)}),I.createElement("defs",null,I.createElement("path",{id:C,d:E})),I.createElement("textPath",{xlinkHref:"#".concat(C)},n))},yne=function(t){var n=t.viewBox,r=t.offset,i=t.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,u=o.outerRadius,c=o.startAngle,f=o.endAngle,h=(c+f)/2;if(i==="outside"){var m=Ce(a,s,u+r,h),g=m.x,v=m.y;return{x:g,y:v,textAnchor:g>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var _=(l+u)/2,y=Ce(a,s,_,h),w=y.x,b=y.y;return{x:w,y:b,textAnchor:"middle",verticalAnchor:"middle"}},_ne=function(t){var n=t.viewBox,r=t.parentViewBox,i=t.offset,o=t.position,a=n,s=a.x,l=a.y,u=a.width,c=a.height,f=c>=0?1:-1,h=f*i,m=f>0?"end":"start",g=f>0?"start":"end",v=u>=0?1:-1,_=v*i,y=v>0?"end":"start",w=v>0?"start":"end";if(o==="top"){var b={x:s+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:m};return Qe(Qe({},b),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var T={x:s+u/2,y:l+c+h,textAnchor:"middle",verticalAnchor:g};return Qe(Qe({},T),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(o==="left"){var S={x:s-_,y:l+c/2,textAnchor:y,verticalAnchor:"middle"};return Qe(Qe({},S),r?{width:Math.max(S.x-r.x,0),height:c}:{})}if(o==="right"){var x={x:s+u+_,y:l+c/2,textAnchor:w,verticalAnchor:"middle"};return Qe(Qe({},x),r?{width:Math.max(r.x+r.width-x.x,0),height:c}:{})}var E=r?{width:u,height:c}:{};return o==="insideLeft"?Qe({x:s+_,y:l+c/2,textAnchor:w,verticalAnchor:"middle"},E):o==="insideRight"?Qe({x:s+u-_,y:l+c/2,textAnchor:y,verticalAnchor:"middle"},E):o==="insideTop"?Qe({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:g},E):o==="insideBottom"?Qe({x:s+u/2,y:l+c-h,textAnchor:"middle",verticalAnchor:m},E):o==="insideTopLeft"?Qe({x:s+_,y:l+h,textAnchor:w,verticalAnchor:g},E):o==="insideTopRight"?Qe({x:s+u-_,y:l+h,textAnchor:y,verticalAnchor:g},E):o==="insideBottomLeft"?Qe({x:s+_,y:l+c-h,textAnchor:w,verticalAnchor:m},E):o==="insideBottomRight"?Qe({x:s+u-_,y:l+c-h,textAnchor:y,verticalAnchor:m},E):Ma(o)&&(z(o.x)||Ci(o.x))&&(z(o.y)||Ci(o.y))?Qe({x:s+Pt(o.x,u),y:l+Pt(o.y,c),textAnchor:"end",verticalAnchor:"end"},E):Qe({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},E)},wne=function(t){return"cx"in t&&z(t.cx)};function st(e){var t=e.offset,n=t===void 0?5:t,r=cne(e,ine),i=Qe({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,u=i.content,c=i.className,f=c===void 0?"":c,h=i.textBreakAll;if(!o||ue(s)&&ue(l)&&!U.isValidElement(u)&&!ie(u))return null;if(U.isValidElement(u))return U.cloneElement(u,i);var m;if(ie(u)){if(m=U.createElement(u,i),U.isValidElement(m))return m}else m=mne(i);var g=wne(o),v=re(i,!0);if(g&&(a==="insideStart"||a==="insideEnd"||a==="end"))return vne(i,m,v);var _=g?yne(i):_ne(i);return I.createElement(Gi,El({className:le("recharts-label",f)},v,_,{breakAll:h}),m)}st.displayName="Label";var FO=function(t){var n=t.cx,r=t.cy,i=t.angle,o=t.startAngle,a=t.endAngle,s=t.r,l=t.radius,u=t.innerRadius,c=t.outerRadius,f=t.x,h=t.y,m=t.top,g=t.left,v=t.width,_=t.height,y=t.clockWise,w=t.labelViewBox;if(w)return w;if(z(v)&&z(_)){if(z(f)&&z(h))return{x:f,y:h,width:v,height:_};if(z(m)&&z(g))return{x:m,y:g,width:v,height:_}}return z(f)&&z(h)?{x:f,y:h,width:0,height:0}:z(n)&&z(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:y}:t.viewBox?t.viewBox:{}},bne=function(t,n){return t?t===!0?I.createElement(st,{key:"label-implicit",viewBox:n}):rt(t)?I.createElement(st,{key:"label-implicit",viewBox:n,value:t}):U.isValidElement(t)?t.type===st?U.cloneElement(t,{key:"label-implicit",viewBox:n}):I.createElement(st,{key:"label-implicit",content:t,viewBox:n}):ie(t)?I.createElement(st,{key:"label-implicit",content:t,viewBox:n}):Ma(t)?I.createElement(st,El({viewBox:n},t,{key:"label-implicit"})):null:null},Sne=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var i=t.children,o=FO(t),a=pn(i,st).map(function(l,u){return U.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return a;var s=bne(t.label,n||o);return[s].concat(one(a))};st.parseViewBox=FO;st.renderCallByParent=Sne;function xne(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Tne=xne;const Ene=_e(Tne);function Al(e){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Al(e)}var Ane=["valueAccessor"],Cne=["data","dataKey","clockWise","id","textBreakAll"];function Pne(e){return Rne(e)||kne(e)||One(e)||Ine()}function Ine(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function One(e,t){if(e){if(typeof e=="string")return kg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kg(e,t)}}function kne(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Rne(e){if(Array.isArray(e))return kg(e)}function kg(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _f(){return _f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_f.apply(this,arguments)}function mT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mT(Object(n),!0).forEach(function(r){Nne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nne(e,t,n){return t=Mne(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mne(e){var t=$ne(e,"string");return Al(t)=="symbol"?t:t+""}function $ne(e,t){if(Al(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Al(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vT(e,t){if(e==null)return{};var n=Dne(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Dne(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Lne=function(t){return Array.isArray(t.value)?Ene(t.value):t.value};function Jr(e){var t=e.valueAccessor,n=t===void 0?Lne:t,r=vT(e,Ane),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,u=vT(r,Cne);return!i||!i.length?null:I.createElement(ve,{className:"recharts-label-list"},i.map(function(c,f){var h=ue(o)?n(c,f):St(c&&c.payload,o),m=ue(s)?{}:{id:"".concat(s,"-").concat(f)};return I.createElement(st,_f({},re(c,!0),u,m,{parentViewBox:c.parentViewBox,value:h,textBreakAll:l,viewBox:st.parseViewBox(ue(a)?c:gT(gT({},c),{},{clockWise:a})),key:"label-".concat(f),index:f}))}))}Jr.displayName="LabelList";function Une(e,t){return e?e===!0?I.createElement(Jr,{key:"labelList-implicit",data:t}):I.isValidElement(e)||ie(e)?I.createElement(Jr,{key:"labelList-implicit",data:t,content:e}):Ma(e)?I.createElement(Jr,_f({data:t},e,{key:"labelList-implicit"})):null:null}function Fne(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,i=pn(r,Jr).map(function(a,s){return U.cloneElement(a,{data:t,key:"labelList-".concat(s)})});if(!n)return i;var o=Une(e.label,t);return[o].concat(Pne(i))}Jr.renderCallByParent=Fne;function Cl(e){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cl(e)}function Rg(){return Rg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rg.apply(this,arguments)}function yT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _T(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yT(Object(n),!0).forEach(function(r){jne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jne(e,t,n){return t=Bne(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bne(e){var t=Vne(e,"string");return Cl(t)=="symbol"?t:t+""}function Vne(e,t){if(Cl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Cl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gne=function(t,n){var r=Ct(n-t),i=Math.min(Math.abs(n-t),359.999);return r*i},Vu=function(t){var n=t.cx,r=t.cy,i=t.radius,o=t.angle,a=t.sign,s=t.isExternal,l=t.cornerRadius,u=t.cornerIsExternal,c=l*(s?1:-1)+i,f=Math.asin(l/c)/yf,h=u?o:o+a*f,m=Ce(n,r,c,h),g=Ce(n,r,i,h),v=u?o-a*f:o,_=Ce(n,r,c*Math.cos(f*yf),v);return{center:m,circleTangency:g,lineTangency:_,theta:f}},jO=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,o=t.outerRadius,a=t.startAngle,s=t.endAngle,l=Gne(a,s),u=a+l,c=Ce(n,r,o,a),f=Ce(n,r,o,u),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var m=Ce(n,r,i,a),g=Ce(n,r,i,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},Hne=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,o=t.outerRadius,a=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,u=t.startAngle,c=t.endAngle,f=Ct(c-u),h=Vu({cx:n,cy:r,radius:o,angle:u,sign:f,cornerRadius:a,cornerIsExternal:l}),m=h.circleTangency,g=h.lineTangency,v=h.theta,_=Vu({cx:n,cy:r,radius:o,angle:c,sign:-f,cornerRadius:a,cornerIsExternal:l}),y=_.circleTangency,w=_.lineTangency,b=_.theta,T=l?Math.abs(u-c):Math.abs(u-c)-v-b;if(T<0)return s?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):jO({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c});var S="M ".concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(T>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var x=Vu({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),E=x.circleTangency,C=x.lineTangency,P=x.theta,O=Vu({cx:n,cy:r,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),R=O.circleTangency,k=O.lineTangency,$=O.theta,M=l?Math.abs(u-c):Math.abs(u-c)-P-$;if(M<0&&a===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat(k.x,",").concat(k.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(M>180),",").concat(+(f>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},qne={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},BO=function(t){var n=_T(_T({},qne),t),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,f=n.endAngle,h=n.className;if(a<o||c===f)return null;var m=le("recharts-sector",h),g=a-o,v=Pt(s,g,0,!0),_;return v>0&&Math.abs(c-f)<360?_=Hne({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(v,g/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):_=jO({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:c,endAngle:f}),I.createElement("path",Rg({},re(n,!0),{className:m,d:_,role:"img"}))};function Pl(e){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pl(e)}function Ng(){return Ng=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ng.apply(this,arguments)}function wT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wT(Object(n),!0).forEach(function(r){zne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zne(e,t,n){return t=Wne(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wne(e){var t=Kne(e,"string");return Pl(t)=="symbol"?t:t+""}function Kne(e,t){if(Pl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ST={curveBasisClosed:zz,curveBasisOpen:Wz,curveBasis:qz,curveBumpX:kz,curveBumpY:Rz,curveLinearClosed:Kz,curveLinear:Rd,curveMonotoneX:Jz,curveMonotoneY:Yz,curveNatural:Xz,curveStep:Qz,curveStepAfter:e8,curveStepBefore:Zz},Gu=function(t){return t.x===+t.x&&t.y===+t.y},us=function(t){return t.x},cs=function(t){return t.y},Jne=function(t,n){if(ie(t))return t;var r="curve".concat(Od(t));return(r==="curveMonotone"||r==="curveBump")&&n?ST["".concat(r).concat(n==="vertical"?"Y":"X")]:ST[r]||Rd},Yne=function(t){var n=t.type,r=n===void 0?"linear":n,i=t.points,o=i===void 0?[]:i,a=t.baseLine,s=t.layout,l=t.connectNulls,u=l===void 0?!1:l,c=Jne(r,s),f=u?o.filter(function(v){return Gu(v)}):o,h;if(Array.isArray(a)){var m=u?a.filter(function(v){return Gu(v)}):a,g=f.map(function(v,_){return bT(bT({},v),{},{base:m[_]})});return s==="vertical"?h=Nu().y(cs).x1(us).x0(function(v){return v.base.x}):h=Nu().x(us).y1(cs).y0(function(v){return v.base.y}),h.defined(Gu).curve(c),h(g)}return s==="vertical"&&z(a)?h=Nu().y(cs).x1(us).x0(a):z(a)?h=Nu().x(us).y1(cs).y0(a):h=D1().x(us).y(cs),h.defined(Gu).curve(c),h(f)},Mg=function(t){var n=t.className,r=t.points,i=t.path,o=t.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?Yne(t):i;return U.createElement("path",Ng({},re(t,!1),Vc(t),{className:le("recharts-curve",n),d:a,ref:o}))},VO={exports:{}},Xne="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Qne=Xne,Zne=Qne;function GO(){}function HO(){}HO.resetWarningCache=GO;var ere=function(){function e(r,i,o,a,s,l){if(l!==Zne){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:HO,resetWarningCache:GO};return n.PropTypes=n,n};VO.exports=ere();var tre=VO.exports;const ge=_e(tre),{getOwnPropertyNames:nre,getOwnPropertySymbols:rre}=Object,{hasOwnProperty:ire}=Object.prototype;function pp(e,t){return function(r,i,o){return e(r,i,o)&&t(r,i,o)}}function Hu(e){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,i);const{cache:o}=i,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);const l=e(n,r,i);return o.delete(n),o.delete(r),l}}function ore(e){return e!=null?e[Symbol.toStringTag]:void 0}function xT(e){return nre(e).concat(rre(e))}const are=Object.hasOwn||((e,t)=>ire.call(e,t));function Zi(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const sre="__v",lre="__o",ure="_owner",{getOwnPropertyDescriptor:TT,keys:ET}=Object;function cre(e,t){return e.byteLength===t.byteLength&&wf(new Uint8Array(e),new Uint8Array(t))}function fre(e,t,n){let r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function dre(e,t){return e.byteLength===t.byteLength&&wf(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function hre(e,t){return Zi(e.getTime(),t.getTime())}function pre(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function mre(e,t){return e===t}function AT(e,t,n){const r=e.size;if(r!==t.size)return!1;if(!r)return!0;const i=new Array(r),o=e.entries();let a,s,l=0;for(;(a=o.next())&&!a.done;){const u=t.entries();let c=!1,f=0;for(;(s=u.next())&&!s.done;){if(i[f]){f++;continue}const h=a.value,m=s.value;if(n.equals(h[0],m[0],l,f,e,t,n)&&n.equals(h[1],m[1],h[0],m[0],e,t,n)){c=i[f]=!0;break}f++}if(!c)return!1;l++}return!0}const gre=Zi;function vre(e,t,n){const r=ET(e);let i=r.length;if(ET(t).length!==i)return!1;for(;i-- >0;)if(!qO(e,t,n,r[i]))return!1;return!0}function fs(e,t,n){const r=xT(e);let i=r.length;if(xT(t).length!==i)return!1;let o,a,s;for(;i-- >0;)if(o=r[i],!qO(e,t,n,o)||(a=TT(e,o),s=TT(t,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function yre(e,t){return Zi(e.valueOf(),t.valueOf())}function _re(e,t){return e.source===t.source&&e.flags===t.flags}function CT(e,t,n){const r=e.size;if(r!==t.size)return!1;if(!r)return!0;const i=new Array(r),o=e.values();let a,s;for(;(a=o.next())&&!a.done;){const l=t.values();let u=!1,c=0;for(;(s=l.next())&&!s.done;){if(!i[c]&&n.equals(a.value,s.value,a.value,s.value,e,t,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function wf(e,t){let n=e.byteLength;if(t.byteLength!==n||e.byteOffset!==t.byteOffset)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function wre(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function qO(e,t,n,r){return(r===ure||r===lre||r===sre)&&(e.$$typeof||t.$$typeof)?!0:are(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}const bre="[object ArrayBuffer]",Sre="[object Arguments]",xre="[object Boolean]",Tre="[object DataView]",Ere="[object Date]",Are="[object Error]",Cre="[object Map]",Pre="[object Number]",Ire="[object Object]",Ore="[object RegExp]",kre="[object Set]",Rre="[object String]",Nre={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Mre="[object URL]",$re=Object.prototype.toString;function Dre({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:a,areNumbersEqual:s,areObjectsEqual:l,arePrimitiveWrappersEqual:u,areRegExpsEqual:c,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:m,unknownTagComparators:g}){return function(_,y,w){if(_===y)return!0;if(_==null||y==null)return!1;const b=typeof _;if(b!==typeof y)return!1;if(b!=="object")return b==="number"?s(_,y,w):b==="function"?o(_,y,w):!1;const T=_.constructor;if(T!==y.constructor)return!1;if(T===Object)return l(_,y,w);if(Array.isArray(_))return t(_,y,w);if(T===Date)return r(_,y,w);if(T===RegExp)return c(_,y,w);if(T===Map)return a(_,y,w);if(T===Set)return f(_,y,w);const S=$re.call(_);if(S===Ere)return r(_,y,w);if(S===Ore)return c(_,y,w);if(S===Cre)return a(_,y,w);if(S===kre)return f(_,y,w);if(S===Ire)return typeof _.then!="function"&&typeof y.then!="function"&&l(_,y,w);if(S===Mre)return m(_,y,w);if(S===Are)return i(_,y,w);if(S===Sre)return l(_,y,w);if(Nre[S])return h(_,y,w);if(S===bre)return e(_,y,w);if(S===Tre)return n(_,y,w);if(S===xre||S===Pre||S===Rre)return u(_,y,w);if(g){let x=g[S];if(!x){const E=ore(_);E&&(x=g[E])}if(x)return x(_,y,w)}return!1}}function Lre({circular:e,createCustomConfig:t,strict:n}){let r={areArrayBuffersEqual:cre,areArraysEqual:n?fs:fre,areDataViewsEqual:dre,areDatesEqual:hre,areErrorsEqual:pre,areFunctionsEqual:mre,areMapsEqual:n?pp(AT,fs):AT,areNumbersEqual:gre,areObjectsEqual:n?fs:vre,arePrimitiveWrappersEqual:yre,areRegExpsEqual:_re,areSetsEqual:n?pp(CT,fs):CT,areTypedArraysEqual:n?pp(wf,fs):wf,areUrlsEqual:wre,unknownTagComparators:void 0};if(t&&(r=Object.assign({},r,t(r))),e){const i=Hu(r.areArraysEqual),o=Hu(r.areMapsEqual),a=Hu(r.areObjectsEqual),s=Hu(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:a,areSetsEqual:s})}return r}function Ure(e){return function(t,n,r,i,o,a,s){return e(t,n,s)}}function Fre({circular:e,comparator:t,createState:n,equals:r,strict:i}){if(n)return function(s,l){const{cache:u=e?new WeakMap:void 0,meta:c}=n();return t(s,l,{cache:u,equals:r,meta:c,strict:i})};if(e)return function(s,l){return t(s,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(s,l){return t(s,l,o)}}const jre=oi();oi({strict:!0});oi({circular:!0});oi({circular:!0,strict:!0});oi({createInternalComparator:()=>Zi});oi({strict:!0,createInternalComparator:()=>Zi});oi({circular:!0,createInternalComparator:()=>Zi});oi({circular:!0,createInternalComparator:()=>Zi,strict:!0});function oi(e={}){const{circular:t=!1,createInternalComparator:n,createState:r,strict:i=!1}=e,o=Lre(e),a=Dre(o),s=n?n(a):Ure(a);return Fre({circular:t,comparator:a,createState:r,equals:s,strict:i})}function Bre(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function PT(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>t?(e(o),n=-1):Bre(i)};requestAnimationFrame(r)}function $g(e){"@babel/helpers - typeof";return $g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$g(e)}function Vre(e){return zre(e)||qre(e)||Hre(e)||Gre()}function Gre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hre(e,t){if(e){if(typeof e=="string")return IT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IT(e,t)}}function IT(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qre(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zre(e){if(Array.isArray(e))return e}function Wre(){var e={},t=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=Vre(a),l=s[0],u=s.slice(1);if(typeof l=="number"){PT(i.bind(null,u),l);return}i(l),PT(i.bind(null,u));return}$g(o)==="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return t=o,function(){t=function(){return null}}}}}function Il(e){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Il(e)}function OT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OT(Object(n),!0).forEach(function(r){zO(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zO(e,t,n){return t=Kre(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kre(e){var t=Jre(e,"string");return Il(t)==="symbol"?t:String(t)}function Jre(e,t){if(Il(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Il(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yre=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},Xre=function(t){return t},Qre=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Ms=function(t,n){return Object.keys(n).reduce(function(r,i){return kT(kT({},r),{},zO({},i,t(i,n[i])))},{})},RT=function(t,n,r){return t.map(function(i){return"".concat(Qre(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Zre(e,t){return nie(e)||tie(e,t)||WO(e,t)||eie()}function eie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tie(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function nie(e){if(Array.isArray(e))return e}function rie(e){return aie(e)||oie(e)||WO(e)||iie()}function iie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WO(e,t){if(e){if(typeof e=="string")return Dg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dg(e,t)}}function oie(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aie(e){if(Array.isArray(e))return Dg(e)}function Dg(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var bf=1e-4,KO=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},JO=function(t,n){return t.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},NT=function(t,n){return function(r){var i=KO(t,n);return JO(i,r)}},sie=function(t,n){return function(r){var i=KO(t,n),o=[].concat(rie(i.map(function(a,s){return a*s}).slice(1)),[0]);return JO(o,r)}},MT=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(_){return parseFloat(_)}),c=Zre(u,4);i=c[0],o=c[1],a=c[2],s=c[3]}}}var f=NT(i,a),h=NT(o,s),m=sie(i,a),g=function(y){return y>1?1:y<0?0:y},v=function(y){for(var w=y>1?1:y,b=w,T=0;T<8;++T){var S=f(b)-w,x=m(b);if(Math.abs(S-w)<bf||x<bf)return h(b);b=g(b-S/x)}return h(b)};return v.isStepper=!1,v},lie=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,i=t.damping,o=i===void 0?8:i,a=t.dt,s=a===void 0?17:a,l=function(c,f,h){var m=-(c-f)*r,g=h*o,v=h+(m-g)*s/1e3,_=h*s/1e3+c;return Math.abs(_-f)<bf&&Math.abs(v)<bf?[f,0]:[_,v]};return l.isStepper=!0,l.dt=s,l},uie=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return MT(i);case"spring":return lie();default:if(i.split("(")[0]==="cubic-bezier")return MT(i)}return typeof i=="function"?i:null};function Ol(e){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ol(e)}function $T(e){return die(e)||fie(e)||YO(e)||cie()}function cie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fie(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function die(e){if(Array.isArray(e))return Ug(e)}function DT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ht(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DT(Object(n),!0).forEach(function(r){Lg(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lg(e,t,n){return t=hie(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hie(e){var t=pie(e,"string");return Ol(t)==="symbol"?t:String(t)}function pie(e,t){if(Ol(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ol(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mie(e,t){return yie(e)||vie(e,t)||YO(e,t)||gie()}function gie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YO(e,t){if(e){if(typeof e=="string")return Ug(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ug(e,t)}}function Ug(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vie(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function yie(e){if(Array.isArray(e))return e}var Sf=function(t,n,r){return t+(n-t)*r},Fg=function(t){var n=t.from,r=t.to;return n!==r},_ie=function e(t,n,r){var i=Ms(function(o,a){if(Fg(a)){var s=t(a.from,a.to,a.velocity),l=mie(s,2),u=l[0],c=l[1];return ht(ht({},a),{},{from:u,velocity:c})}return a},n);return r<1?Ms(function(o,a){return Fg(a)?ht(ht({},a),{},{velocity:Sf(a.velocity,i[o].velocity,r),from:Sf(a.from,i[o].from,r)}):a},n):e(t,i,r-1)};const wie=function(e,t,n,r,i){var o=Yre(e,t),a=o.reduce(function(_,y){return ht(ht({},_),{},Lg({},y,[e[y],t[y]]))},{}),s=o.reduce(function(_,y){return ht(ht({},_),{},Lg({},y,{from:e[y],velocity:0,to:t[y]}))},{}),l=-1,u,c,f=function(){return null},h=function(){return Ms(function(y,w){return w.from},s)},m=function(){return!Object.values(s).filter(Fg).length},g=function(y){u||(u=y);var w=y-u,b=w/n.dt;s=_ie(n,s,b),i(ht(ht(ht({},e),t),h())),u=y,m()||(l=requestAnimationFrame(f))},v=function(y){c||(c=y);var w=(y-c)/r,b=Ms(function(S,x){return Sf.apply(void 0,$T(x).concat([n(w)]))},a);if(i(ht(ht(ht({},e),t),b)),w<1)l=requestAnimationFrame(f);else{var T=Ms(function(S,x){return Sf.apply(void 0,$T(x).concat([n(1)]))},a);i(ht(ht(ht({},e),t),T))}};return f=n.isStepper?g:v,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function fa(e){"@babel/helpers - typeof";return fa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fa(e)}var bie=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Sie(e,t){if(e==null)return{};var n=xie(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function xie(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function mp(e){return Cie(e)||Aie(e)||Eie(e)||Tie()}function Tie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eie(e,t){if(e){if(typeof e=="string")return jg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jg(e,t)}}function Aie(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Cie(e){if(Array.isArray(e))return jg(e)}function jg(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function LT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Sn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LT(Object(n),!0).forEach(function(r){_s(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _s(e,t,n){return t=XO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Iie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,XO(r.key),r)}}function Oie(e,t,n){return t&&Iie(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function XO(e){var t=kie(e,"string");return fa(t)==="symbol"?t:String(t)}function kie(e,t){if(fa(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(fa(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bg(e,t)}function Bg(e,t){return Bg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Bg(e,t)}function Nie(e){var t=Mie();return function(){var r=xf(e),i;if(t){var o=xf(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Vg(this,i)}}function Vg(e,t){if(t&&(fa(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gg(e)}function Gg(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mie(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function xf(e){return xf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xf(e)}var yr=function(e){Rie(n,e);var t=Nie(n);function n(r,i){var o;Pie(this,n),o=t.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,u=a.from,c=a.to,f=a.steps,h=a.children,m=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(Gg(o)),o.changeStyle=o.changeStyle.bind(Gg(o)),!s||m<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:c}),Vg(o);if(f&&f.length)o.state={style:f[0].style};else if(u){if(typeof h=="function")return o.state={style:u},Vg(o);o.state={style:l?_s({},l,u):u}}else o.state={style:{}};return o}return Oie(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,c=o.to,f=o.from,h=this.state.style;if(s){if(!a){var m={style:l?_s({},l,c):c};this.state&&h&&(l&&h[l]!==c||!l&&h!==c)&&this.setState(m);return}if(!(jre(i.to,c)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=g||u?f:i.to;if(this.state&&h){var _={style:l?_s({},l,v):v};(l&&h[l]!==v||!l&&h!==v)&&this.setState(_)}this.runAnimation(Sn(Sn({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,m=wie(a,s,uie(u),l,this.changeStyle),g=function(){o.stopJSAnimation=m()};this.manager.start([h,c,g,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,u=a[0],c=u.style,f=u.duration,h=f===void 0?0:f,m=function(v,_,y){if(y===0)return v;var w=_.duration,b=_.easing,T=b===void 0?"ease":b,S=_.style,x=_.properties,E=_.onAnimationEnd,C=y>0?a[y-1]:_,P=x||Object.keys(S);if(typeof T=="function"||T==="spring")return[].concat(mp(v),[o.runJSAnimation.bind(o,{from:C.style,to:S,duration:w,easing:T}),w]);var O=RT(P,w,T),R=Sn(Sn(Sn({},C.style),S),{},{transition:O});return[].concat(mp(v),[R,w,E]).filter(Xre)};return this.manager.start([l].concat(mp(a.reduce(m,[c,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Wre());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,m=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var v=s?_s({},s,l):l,_=RT(Object.keys(v),a,u);g.start([c,o,Sn(Sn({},v),{},{transition:_}),a,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Sie(i,bie),u=U.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!s||u===0||a<=0)return o;var f=function(m){var g=m.props,v=g.style,_=v===void 0?{}:v,y=g.className,w=U.cloneElement(m,Sn(Sn({},l),{},{style:Sn(Sn({},_),c),className:y}));return w};return u===1?f(U.Children.only(o)):I.createElement("div",null,U.Children.map(o,function(h){return f(h)}))}}]),n}(U.PureComponent);yr.displayName="Animate";yr.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};yr.propTypes={from:ge.oneOfType([ge.object,ge.string]),to:ge.oneOfType([ge.object,ge.string]),attributeName:ge.string,duration:ge.number,begin:ge.number,easing:ge.oneOfType([ge.string,ge.func]),steps:ge.arrayOf(ge.shape({duration:ge.number.isRequired,style:ge.object.isRequired,easing:ge.oneOfType([ge.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ge.func]),properties:ge.arrayOf("string"),onAnimationEnd:ge.func})),children:ge.oneOfType([ge.node,ge.func]),isActive:ge.bool,canBegin:ge.bool,onAnimationEnd:ge.func,shouldReAnimate:ge.bool,onAnimationStart:ge.func,onAnimationReStart:ge.func};function kl(e){"@babel/helpers - typeof";return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kl(e)}function Tf(){return Tf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tf.apply(this,arguments)}function $ie(e,t){return Fie(e)||Uie(e,t)||Lie(e,t)||Die()}function Die(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lie(e,t){if(e){if(typeof e=="string")return UT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UT(e,t)}}function UT(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Uie(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Fie(e){if(Array.isArray(e))return e}function FT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FT(Object(n),!0).forEach(function(r){jie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jie(e,t,n){return t=Bie(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bie(e){var t=Vie(e,"string");return kl(t)=="symbol"?t:t+""}function Vie(e,t){if(kl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(kl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BT=function(t,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(a>0&&o instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=o[h]>a?a:o[h];c="M".concat(t,",").concat(n+s*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+l*f[0],",").concat(n)),c+="L ".concat(t+r-l*f[1],",").concat(n),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+r,",").concat(n+s*f[1])),c+="L ".concat(t+r,",").concat(n+i-s*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+r-l*f[2],",").concat(n+i)),c+="L ".concat(t+l*f[3],",").concat(n+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(n+i-s*f[3])),c+="Z"}else if(a>0&&o===+o&&o>0){var g=Math.min(a,o);c="M ".concat(t,",").concat(n+s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+l*g,",").concat(n,`
            L `).concat(t+r-l*g,",").concat(n,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+r,",").concat(n+s*g,`
            L `).concat(t+r,",").concat(n+i-s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+r-l*g,",").concat(n+i,`
            L `).concat(t+l*g,",").concat(n+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(n+i-s*g," Z")}else c="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},Gie=function(t,n){if(!t||!n)return!1;var r=t.x,i=t.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(o,o+s),c=Math.max(o,o+s),f=Math.min(a,a+l),h=Math.max(a,a+l);return r>=u&&r<=c&&i>=f&&i<=h}return!1},Hie={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},v0=function(t){var n=jT(jT({},Hie),t),r=U.useRef(),i=U.useState(-1),o=$ie(i,2),a=o[0],s=o[1];U.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var T=r.current.getTotalLength();T&&s(T)}catch{}},[]);var l=n.x,u=n.y,c=n.width,f=n.height,h=n.radius,m=n.className,g=n.animationEasing,v=n.animationDuration,_=n.animationBegin,y=n.isAnimationActive,w=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||c===0||f===0)return null;var b=le("recharts-rectangle",m);return w?I.createElement(yr,{canBegin:a>0,from:{width:c,height:f,x:l,y:u},to:{width:c,height:f,x:l,y:u},duration:v,animationEasing:g,isActive:w},function(T){var S=T.width,x=T.height,E=T.x,C=T.y;return I.createElement(yr,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:v,isActive:y,easing:g},I.createElement("path",Tf({},re(n,!0),{className:b,d:BT(E,C,S,x,h),ref:r})))}):I.createElement("path",Tf({},re(n,!0),{className:b,d:BT(l,u,c,f,h)}))},qie=["points","className","baseLinePoints","connectNulls"];function No(){return No=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},No.apply(this,arguments)}function zie(e,t){if(e==null)return{};var n=Wie(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Wie(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function VT(e){return Xie(e)||Yie(e)||Jie(e)||Kie()}function Kie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jie(e,t){if(e){if(typeof e=="string")return Hg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hg(e,t)}}function Yie(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Xie(e){if(Array.isArray(e))return Hg(e)}function Hg(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var GT=function(t){return t&&t.x===+t.x&&t.y===+t.y},Qie=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(r){GT(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),GT(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},$s=function(t,n){var r=Qie(t);n&&(r=[r.reduce(function(o,a){return[].concat(VT(o),VT(a))},[])]);var i=r.map(function(o){return o.reduce(function(a,s,l){return"".concat(a).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},Zie=function(t,n,r){var i=$s(t,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat($s(n.reverse(),r).slice(1))},eoe=function(t){var n=t.points,r=t.className,i=t.baseLinePoints,o=t.connectNulls,a=zie(t,qie);if(!n||!n.length)return null;var s=le("recharts-polygon",r);if(i&&i.length){var l=a.stroke&&a.stroke!=="none",u=Zie(n,i,o);return I.createElement("g",{className:s},I.createElement("path",No({},re(a,!0),{fill:u.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:u})),l?I.createElement("path",No({},re(a,!0),{fill:"none",d:$s(n,o)})):null,l?I.createElement("path",No({},re(a,!0),{fill:"none",d:$s(i,o)})):null)}var c=$s(n,o);return I.createElement("path",No({},re(a,!0),{fill:c.slice(-1)==="Z"?a.fill:"none",className:s,d:c}))};function qg(){return qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qg.apply(this,arguments)}var y0=function(t){var n=t.cx,r=t.cy,i=t.r,o=t.className,a=le("recharts-dot",o);return n===+n&&r===+r&&i===+i?U.createElement("circle",qg({},re(t,!1),Vc(t),{className:a,cx:n,cy:r,r:i})):null};function Rl(e){"@babel/helpers - typeof";return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rl(e)}var toe=["x","y","top","left","width","height","className"];function zg(){return zg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zg.apply(this,arguments)}function HT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function noe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HT(Object(n),!0).forEach(function(r){roe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function roe(e,t,n){return t=ioe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ioe(e){var t=ooe(e,"string");return Rl(t)=="symbol"?t:t+""}function ooe(e,t){if(Rl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Rl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aoe(e,t){if(e==null)return{};var n=soe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function soe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var loe=function(t,n,r,i,o,a){return"M".concat(t,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},uoe=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,o=i===void 0?0:i,a=t.top,s=a===void 0?0:a,l=t.left,u=l===void 0?0:l,c=t.width,f=c===void 0?0:c,h=t.height,m=h===void 0?0:h,g=t.className,v=aoe(t,toe),_=noe({x:r,y:o,top:s,left:u,width:f,height:m},v);return!z(r)||!z(o)||!z(f)||!z(m)||!z(s)||!z(u)?null:I.createElement("path",zg({},re(_,!0),{className:le("recharts-cross",g),d:loe(r,o,f,m,s,u)}))},coe=Gd,foe=uO,doe=Jn;function hoe(e,t){return e&&e.length?coe(e,doe(t),foe):void 0}var poe=hoe;const moe=_e(poe);var goe=Gd,voe=Jn,yoe=cO;function _oe(e,t){return e&&e.length?goe(e,voe(t),yoe):void 0}var woe=_oe;const boe=_e(woe);var Soe=["cx","cy","angle","ticks","axisLine"],xoe=["ticks","tick","angle","tickFormatter","stroke"];function da(e){"@babel/helpers - typeof";return da=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},da(e)}function Ds(){return Ds=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ds.apply(this,arguments)}function qT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qT(Object(n),!0).forEach(function(r){Yd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zT(e,t){if(e==null)return{};var n=Toe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Toe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Eoe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ZO(r.key),r)}}function Aoe(e,t,n){return t&&WT(e.prototype,t),n&&WT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Coe(e,t,n){return t=Ef(t),Poe(e,QO()?Reflect.construct(t,n||[],Ef(e).constructor):t.apply(e,n))}function Poe(e,t){if(t&&(da(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ioe(e)}function Ioe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QO=function(){return!!e})()}function Ef(e){return Ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ef(e)}function Ooe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wg(e,t)}function Wg(e,t){return Wg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Wg(e,t)}function Yd(e,t,n){return t=ZO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZO(e){var t=koe(e,"string");return da(t)=="symbol"?t:t+""}function koe(e,t){if(da(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(da(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xd=function(e){function t(){return Eoe(this,t),Coe(this,t,arguments)}return Ooe(t,e),Aoe(t,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,o=this.props,a=o.angle,s=o.cx,l=o.cy;return Ce(s,l,i,a)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,s=r.ticks,l=moe(s,function(c){return c.coordinate||0}),u=boe(s,function(c){return c.coordinate||0});return{cx:i,cy:o,startAngle:a,endAngle:a,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,s=r.ticks,l=r.axisLine,u=zT(r,Soe),c=s.reduce(function(g,v){return[Math.min(g[0],v.coordinate),Math.max(g[1],v.coordinate)]},[1/0,-1/0]),f=Ce(i,o,c[0],a),h=Ce(i,o,c[1],a),m=fi(fi(fi({},re(u,!1)),{},{fill:"none"},re(l,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return I.createElement("line",Ds({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,s=i.angle,l=i.tickFormatter,u=i.stroke,c=zT(i,xoe),f=this.getTickTextAnchor(),h=re(c,!1),m=re(a,!1),g=o.map(function(v,_){var y=r.getTickValueCoord(v),w=fi(fi(fi(fi({textAnchor:f,transform:"rotate(".concat(90-s,", ").concat(y.x,", ").concat(y.y,")")},h),{},{stroke:"none",fill:u},m),{},{index:_},y),{},{payload:v});return I.createElement(ve,Ds({className:le("recharts-polar-radius-axis-tick",UO(a)),key:"tick-".concat(v.coordinate)},Vi(r.props,v,_)),t.renderTickItem(a,w,l?l(v.value,_):v.value))});return I.createElement(ve,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.axisLine,a=r.tick;return!i||!i.length?null:I.createElement(ve,{className:le("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),a&&this.renderTicks(),st.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,o){var a;return I.isValidElement(r)?a=I.cloneElement(r,i):ie(r)?a=r(i):a=I.createElement(Gi,Ds({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),a}}])}(U.PureComponent);Yd(Xd,"displayName","PolarRadiusAxis");Yd(Xd,"axisType","radiusAxis");Yd(Xd,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function ha(e){"@babel/helpers - typeof";return ha=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ha(e)}function Si(){return Si=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Si.apply(this,arguments)}function KT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function di(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KT(Object(n),!0).forEach(function(r){Qd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Roe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tk(r.key),r)}}function Noe(e,t,n){return t&&JT(e.prototype,t),n&&JT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Moe(e,t,n){return t=Af(t),$oe(e,ek()?Reflect.construct(t,n||[],Af(e).constructor):t.apply(e,n))}function $oe(e,t){if(t&&(ha(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Doe(e)}function Doe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ek(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ek=function(){return!!e})()}function Af(e){return Af=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Af(e)}function Loe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kg(e,t)}function Kg(e,t){return Kg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Kg(e,t)}function Qd(e,t,n){return t=tk(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tk(e){var t=Uoe(e,"string");return ha(t)=="symbol"?t:t+""}function Uoe(e,t){if(ha(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ha(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Foe=Math.PI/180,YT=1e-5,Zd=function(e){function t(){return Roe(this,t),Moe(this,t,arguments)}return Loe(t,e),Noe(t,[{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.cx,a=i.cy,s=i.radius,l=i.orientation,u=i.tickSize,c=u||8,f=Ce(o,a,s,r.coordinate),h=Ce(o,a,s+(l==="inner"?-1:1)*c,r.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,o=Math.cos(-r.coordinate*Foe),a;return o>YT?a=i==="outer"?"start":"end":o<-YT?a=i==="outer"?"end":"start":a="middle",a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.radius,s=r.axisLine,l=r.axisLineType,u=di(di({},re(this.props,!1)),{},{fill:"none"},re(s,!1));if(l==="circle")return I.createElement(y0,Si({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:o,r:a}));var c=this.props.ticks,f=c.map(function(h){return Ce(i,o,a,h.coordinate)});return I.createElement(eoe,Si({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,s=i.tickLine,l=i.tickFormatter,u=i.stroke,c=re(this.props,!1),f=re(a,!1),h=di(di({},c),{},{fill:"none"},re(s,!1)),m=o.map(function(g,v){var _=r.getTickLineCoord(g),y=r.getTickTextAnchor(g),w=di(di(di({textAnchor:y},c),{},{stroke:"none",fill:u},f),{},{index:v,payload:g,x:_.x2,y:_.y2});return I.createElement(ve,Si({className:le("recharts-polar-angle-axis-tick",UO(a)),key:"tick-".concat(g.coordinate)},Vi(r.props,g,v)),s&&I.createElement("line",Si({className:"recharts-polar-angle-axis-tick-line"},h,_)),a&&t.renderTickItem(a,w,l?l(g.value,v):g.value))});return I.createElement(ve,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.radius,a=r.axisLine;return o<=0||!i||!i.length?null:I.createElement(ve,{className:le("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,o){var a;return I.isValidElement(r)?a=I.cloneElement(r,i):ie(r)?a=r(i):a=I.createElement(Gi,Si({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),a}}])}(U.PureComponent);Qd(Zd,"displayName","PolarAngleAxis");Qd(Zd,"axisType","angleAxis");Qd(Zd,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var joe=aI,Boe=joe(Object.getPrototypeOf,Object),Voe=Boe,Goe=xr,Hoe=Voe,qoe=Tr,zoe="[object Object]",Woe=Function.prototype,Koe=Object.prototype,nk=Woe.toString,Joe=Koe.hasOwnProperty,Yoe=nk.call(Object);function Xoe(e){if(!qoe(e)||Goe(e)!=zoe)return!1;var t=Hoe(e);if(t===null)return!0;var n=Joe.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&nk.call(n)==Yoe}var Qoe=Xoe;const Zoe=_e(Qoe);var eae=xr,tae=Tr,nae="[object Boolean]";function rae(e){return e===!0||e===!1||tae(e)&&eae(e)==nae}var iae=rae;const oae=_e(iae);function Nl(e){"@babel/helpers - typeof";return Nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nl(e)}function Cf(){return Cf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cf.apply(this,arguments)}function aae(e,t){return cae(e)||uae(e,t)||lae(e,t)||sae()}function sae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lae(e,t){if(e){if(typeof e=="string")return XT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XT(e,t)}}function XT(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function uae(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function cae(e){if(Array.isArray(e))return e}function QT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ZT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QT(Object(n),!0).forEach(function(r){fae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fae(e,t,n){return t=dae(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dae(e){var t=hae(e,"string");return Nl(t)=="symbol"?t:t+""}function hae(e,t){if(Nl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Nl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eE=function(t,n,r,i,o){var a=r-i,s;return s="M ".concat(t,",").concat(n),s+="L ".concat(t+r,",").concat(n),s+="L ".concat(t+r-a/2,",").concat(n+o),s+="L ".concat(t+r-a/2-i,",").concat(n+o),s+="L ".concat(t,",").concat(n," Z"),s},pae={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},mae=function(t){var n=ZT(ZT({},pae),t),r=U.useRef(),i=U.useState(-1),o=aae(i,2),a=o[0],s=o[1];U.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var b=r.current.getTotalLength();b&&s(b)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,f=n.lowerWidth,h=n.height,m=n.className,g=n.animationEasing,v=n.animationDuration,_=n.animationBegin,y=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||h!==+h||c===0&&f===0||h===0)return null;var w=le("recharts-trapezoid",m);return y?I.createElement(yr,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:c,lowerWidth:f,height:h,x:l,y:u},duration:v,animationEasing:g,isActive:y},function(b){var T=b.upperWidth,S=b.lowerWidth,x=b.height,E=b.x,C=b.y;return I.createElement(yr,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:v,easing:g},I.createElement("path",Cf({},re(n,!0),{className:w,d:eE(E,C,T,S,x),ref:r})))}):I.createElement("g",null,I.createElement("path",Cf({},re(n,!0),{className:w,d:eE(l,u,c,f,h)})))},gae=["option","shapeType","propTransformer","activeClassName","isActive"];function Ml(e){"@babel/helpers - typeof";return Ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ml(e)}function vae(e,t){if(e==null)return{};var n=yae(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function yae(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function tE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tE(Object(n),!0).forEach(function(r){_ae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _ae(e,t,n){return t=wae(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wae(e){var t=bae(e,"string");return Ml(t)=="symbol"?t:t+""}function bae(e,t){if(Ml(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ml(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sae(e,t){return Pf(Pf({},t),e)}function xae(e,t){return e==="symbols"}function nE(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return I.createElement(v0,n);case"trapezoid":return I.createElement(mae,n);case"sector":return I.createElement(BO,n);case"symbols":if(xae(t))return I.createElement(Dy,n);break;default:return null}}function Tae(e){return U.isValidElement(e)?e.props:e}function rk(e){var t=e.option,n=e.shapeType,r=e.propTransformer,i=r===void 0?Sae:r,o=e.activeClassName,a=o===void 0?"recharts-active-shape":o,s=e.isActive,l=vae(e,gae),u;if(U.isValidElement(t))u=U.cloneElement(t,Pf(Pf({},l),Tae(t)));else if(ie(t))u=t(l);else if(Zoe(t)&&!oae(t)){var c=i(t,l);u=I.createElement(nE,{shapeType:n,elementProps:c})}else{var f=l;u=I.createElement(nE,{shapeType:n,elementProps:f})}return s?I.createElement(ve,{className:a},u):u}function eh(e,t){return t!=null&&"trapezoids"in e.props}function th(e,t){return t!=null&&"sectors"in e.props}function $l(e,t){return t!=null&&"points"in e.props}function Eae(e,t){var n,r,i=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,o=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return i&&o}function Aae(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function Cae(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function Pae(e,t){var n;return eh(e,t)?n=Eae:th(e,t)?n=Aae:$l(e,t)&&(n=Cae),n}function Iae(e,t){var n;return eh(e,t)?n="trapezoids":th(e,t)?n="sectors":$l(e,t)&&(n="points"),n}function Oae(e,t){if(eh(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(th(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return $l(e,t)?t.payload:{}}function kae(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=Iae(n,t),o=Oae(n,t),a=r.filter(function(l,u){var c=zd(o,l),f=n.props[i].filter(function(g){var v=Pae(n,t);return v(g,t)}),h=n.props[i].indexOf(f[f.length-1]),m=u===h;return c&&m}),s=r.indexOf(a[a.length-1]);return s}var lc;function pa(e){"@babel/helpers - typeof";return pa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pa(e)}function Mo(){return Mo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mo.apply(this,arguments)}function rE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rE(Object(n),!0).forEach(function(r){un(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Rae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ok(r.key),r)}}function Nae(e,t,n){return t&&iE(e.prototype,t),n&&iE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mae(e,t,n){return t=If(t),$ae(e,ik()?Reflect.construct(t,n||[],If(e).constructor):t.apply(e,n))}function $ae(e,t){if(t&&(pa(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dae(e)}function Dae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ik(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ik=function(){return!!e})()}function If(e){return If=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},If(e)}function Lae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jg(e,t)}function Jg(e,t){return Jg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Jg(e,t)}function un(e,t,n){return t=ok(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ok(e){var t=Uae(e,"string");return pa(t)=="symbol"?t:t+""}function Uae(e,t){if(pa(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(pa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Yn=function(e){function t(n){var r;return Rae(this,t),r=Mae(this,t,[n]),un(r,"pieRef",null),un(r,"sectorRefs",[]),un(r,"id",Yl("recharts-pie-")),un(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),ie(i)&&i()}),un(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),ie(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return Lae(t,e),Nae(t,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.label,s=o.labelLine,l=o.dataKey,u=o.valueKey,c=re(this.props,!1),f=re(a,!1),h=re(s,!1),m=a&&a.offsetRadius||20,g=r.map(function(v,_){var y=(v.startAngle+v.endAngle)/2,w=Ce(v.cx,v.cy,v.outerRadius+m,y),b=Te(Te(Te(Te({},c),v),{},{stroke:"none"},f),{},{index:_,textAnchor:t.getTextAnchor(w.x,v.cx)},w),T=Te(Te(Te(Te({},c),v),{},{fill:"none",stroke:v.fill},h),{},{index:_,points:[Ce(v.cx,v.cy,v.outerRadius,y),w]}),S=l;return ue(l)&&ue(u)?S="value":ue(l)&&(S=u),I.createElement(ve,{key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(_)},s&&t.renderLabelLineItem(s,T,"line"),t.renderLabelItem(a,b,St(v,S)))});return I.createElement(ve,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(r){var i=this,o=this.props,a=o.activeShape,s=o.blendStroke,l=o.inactiveShape;return r.map(function(u,c){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var f=i.isActiveIndex(c),h=l&&i.hasActiveIndex()?l:null,m=f?a:h,g=Te(Te({},u),{},{stroke:s?u.fill:u.stroke,tabIndex:-1});return I.createElement(ve,Mo({ref:function(_){_&&!i.sectorRefs.includes(_)&&i.sectorRefs.push(_)},tabIndex:-1,className:"recharts-pie-sector"},Vi(i.props,u,c),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(c)}),I.createElement(rk,Mo({option:m,isActive:f,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,o=i.sectors,a=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,u=i.animationEasing,c=i.animationId,f=this.state,h=f.prevSectors,m=f.prevIsAnimationActive;return I.createElement(yr,{begin:s,duration:l,isActive:a,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(c,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var v=g.t,_=[],y=o&&o[0],w=y.startAngle;return o.forEach(function(b,T){var S=h&&h[T],x=T>0?Xt(b,"paddingAngle",0):0;if(S){var E=kr(S.endAngle-S.startAngle,b.endAngle-b.startAngle),C=Te(Te({},b),{},{startAngle:w+x,endAngle:w+E(v)+x});_.push(C),w=C.endAngle}else{var P=b.endAngle,O=b.startAngle,R=kr(0,P-O),k=R(v),$=Te(Te({},b),{},{startAngle:w+x,endAngle:w+k+x});_.push($),w=$.endAngle}}),I.createElement(ve,null,r.renderSectorsStatically(_))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var a=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,o=r.isAnimationActive,a=this.state.prevSectors;return o&&i&&i.length&&(!a||!zd(a,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,o=i.hide,a=i.sectors,s=i.className,l=i.label,u=i.cx,c=i.cy,f=i.innerRadius,h=i.outerRadius,m=i.isAnimationActive,g=this.state.isAnimationFinished;if(o||!a||!a.length||!z(u)||!z(c)||!z(f)||!z(h))return null;var v=le("recharts-pie",s);return I.createElement(ve,{tabIndex:this.props.rootTabIndex,className:v,ref:function(y){r.pieRef=y}},this.renderSectors(),l&&this.renderLabels(a),st.renderCallByParent(this.props,null,!1),(!m||g)&&Jr.renderCallByParent(this.props,a,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,o){if(I.isValidElement(r))return I.cloneElement(r,i);if(ie(r))return r(i);var a=le("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return I.createElement(Mg,Mo({},i,{key:o,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(r,i,o){if(I.isValidElement(r))return I.cloneElement(r,i);var a=o;if(ie(r)&&(a=r(i),I.isValidElement(a)))return a;var s=le("recharts-pie-label-text",typeof r!="boolean"&&!ie(r)?r.className:"");return I.createElement(Gi,Mo({},i,{alignmentBaseline:"middle",className:s}),a)}}])}(U.PureComponent);lc=Yn;un(Yn,"displayName","Pie");un(Yn,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ba.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});un(Yn,"parseDeltaAngle",function(e,t){var n=Ct(t-e),r=Math.min(Math.abs(t-e),360);return n*r});un(Yn,"getRealPieData",function(e){var t=e.data,n=e.children,r=re(e,!1),i=pn(n,Ql);return t&&t.length?t.map(function(o,a){return Te(Te(Te({payload:o},r),o),i&&i[a]&&i[a].props)}):i&&i.length?i.map(function(o){return Te(Te({},r),o.props)}):[]});un(Yn,"parseCoordinateOfPie",function(e,t){var n=t.top,r=t.left,i=t.width,o=t.height,a=LO(i,o),s=r+Pt(e.cx,i,i/2),l=n+Pt(e.cy,o,o/2),u=Pt(e.innerRadius,a,0),c=Pt(e.outerRadius,a,a*.8),f=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:s,cy:l,innerRadius:u,outerRadius:c,maxRadius:f}});un(Yn,"getComposedData",function(e){var t=e.item,n=e.offset,r=t.type.defaultProps!==void 0?Te(Te({},t.type.defaultProps),t.props):t.props,i=lc.getRealPieData(r);if(!i||!i.length)return null;var o=r.cornerRadius,a=r.startAngle,s=r.endAngle,l=r.paddingAngle,u=r.dataKey,c=r.nameKey,f=r.valueKey,h=r.tooltipType,m=Math.abs(r.minAngle),g=lc.parseCoordinateOfPie(r,n),v=lc.parseDeltaAngle(a,s),_=Math.abs(v),y=u;ue(u)&&ue(f)?($n(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):ue(u)&&($n(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=f);var w=i.filter(function(C){return St(C,y,0)!==0}).length,b=(_>=360?w:w-1)*l,T=_-w*m-b,S=i.reduce(function(C,P){var O=St(P,y,0);return C+(z(O)?O:0)},0),x;if(S>0){var E;x=i.map(function(C,P){var O=St(C,y,0),R=St(C,c,P),k=(z(O)?O:0)/S,$;P?$=E.endAngle+Ct(v)*l*(O!==0?1:0):$=a;var M=$+Ct(v)*((O!==0?m:0)+k*T),D=($+M)/2,F=(g.innerRadius+g.outerRadius)/2,V=[{name:R,value:O,payload:C,dataKey:y,type:h}],N=Ce(g.cx,g.cy,F,D);return E=Te(Te(Te({percent:k,cornerRadius:o,name:R,tooltipPayload:V,midAngle:D,middleRadius:F,tooltipPosition:N},C),g),{},{value:St(C,y),startAngle:$,endAngle:M,payload:C,paddingAngle:Ct(v)*l}),E})}return Te(Te({},g),{},{sectors:x,data:i})});var Fae=Math.ceil,jae=Math.max;function Bae(e,t,n,r){for(var i=-1,o=jae(Fae((t-e)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=e,e+=n;return a}var Vae=Bae,Gae=EI,oE=1/0,Hae=17976931348623157e292;function qae(e){if(!e)return e===0?e:0;if(e=Gae(e),e===oE||e===-oE){var t=e<0?-1:1;return t*Hae}return e===e?e:0}var ak=qae,zae=Vae,Wae=Dd,gp=ak;function Kae(e){return function(t,n,r){return r&&typeof r!="number"&&Wae(t,n,r)&&(n=r=void 0),t=gp(t),n===void 0?(n=t,t=0):n=gp(n),r=r===void 0?t<n?1:-1:gp(r),zae(t,n,r,e)}}var Jae=Kae,Yae=Jae,Xae=Yae(),Qae=Xae;const Of=_e(Qae);function Dl(e){"@babel/helpers - typeof";return Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dl(e)}function aE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aE(Object(n),!0).forEach(function(r){sk(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sk(e,t,n){return t=Zae(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zae(e){var t=ese(e,"string");return Dl(t)=="symbol"?t:t+""}function ese(e,t){if(Dl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Dl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tse=["Webkit","Moz","O","ms"],nse=function(t,n){var r=t.replace(/(\w)/,function(o){return o.toUpperCase()}),i=tse.reduce(function(o,a){return sE(sE({},o),{},sk({},a+r,n))},{});return i[t]=n,i};function ma(e){"@babel/helpers - typeof";return ma=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ma(e)}function kf(){return kf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kf.apply(this,arguments)}function lE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lE(Object(n),!0).forEach(function(r){Ht(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,uk(r.key),r)}}function ise(e,t,n){return t&&uE(e.prototype,t),n&&uE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ose(e,t,n){return t=Rf(t),ase(e,lk()?Reflect.construct(t,n||[],Rf(e).constructor):t.apply(e,n))}function ase(e,t){if(t&&(ma(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sse(e)}function sse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lk=function(){return!!e})()}function Rf(e){return Rf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rf(e)}function lse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yg(e,t)}function Yg(e,t){return Yg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Yg(e,t)}function Ht(e,t,n){return t=uk(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uk(e){var t=use(e,"string");return ma(t)=="symbol"?t:t+""}function use(e,t){if(ma(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ma(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var cse=function(t){var n=t.data,r=t.startIndex,i=t.endIndex,o=t.x,a=t.width,s=t.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=Rs().domain(Of(0,l)).range([o,o+a-s]),c=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},cE=function(t){return t.changedTouches&&!!t.changedTouches.length},ga=function(e){function t(n){var r;return rse(this,t),r=ose(this,t,[n]),Ht(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Ht(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Ht(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),Ht(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Ht(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Ht(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Ht(r,"handleSlideDragStart",function(i){var o=cE(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return lse(t,e),ise(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,f=Math.min(i,o),h=Math.max(i,o),m=t.getIndexInRange(a,f),g=t.getIndexInRange(a,h);return{startIndex:m-m%l,endIndex:g===c?c:g-g%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=St(o[r],s,r);return ie(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,f=l.travellerWidth,h=l.startIndex,m=l.endIndex,g=l.onChange,v=r.pageX-o;v>0?v=Math.min(v,u+c-f-s,u+c-f-a):v<0&&(v=Math.max(v,u-a,u-s));var _=this.getIndex({startX:a+v,endX:s+v});(_.startIndex!==h||_.endIndex!==m)&&g&&g(_),this.setState({startX:a+v,endX:s+v,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=cE(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[a],c=this.props,f=c.x,h=c.width,m=c.travellerWidth,g=c.onChange,v=c.gap,_=c.data,y={startX:this.state.startX,endX:this.state.endX},w=r.pageX-o;w>0?w=Math.min(w,f+h-m-u):w<0&&(w=Math.max(w,f-u)),y[a]=u+w;var b=this.getIndex(y),T=b.startIndex,S=b.endIndex,x=function(){var C=_.length-1;return a==="startX"&&(s>l?T%v===0:S%v===0)||s<l&&S===C||a==="endX"&&(s>l?S%v===0:T%v===0)||s>l&&S===C};this.setState(Ht(Ht({},a,u+w),"brushMoveStartX",r.pageX),function(){g&&x()&&g(b)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,u=a.endX,c=this.state[i],f=s.indexOf(c);if(f!==-1){var h=f+r;if(!(h===-1||h>=s.length)){var m=s[h];i==="startX"&&m>=u||i==="endX"&&m<=l||this.setState(Ht({},i,m),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,u=r.stroke;return I.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,u=r.children,c=r.padding,f=U.Children.only(u);return f?I.cloneElement(f,{x:i,y:o,width:a,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,u=l.y,c=l.travellerWidth,f=l.height,h=l.traveller,m=l.ariaLabel,g=l.data,v=l.startIndex,_=l.endIndex,y=Math.max(r,this.props.x),w=vp(vp({},re(this.props,!1)),{},{x:y,y:u,width:c,height:f}),b=m||"Min value: ".concat((o=g[v])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=g[_])===null||a===void 0?void 0:a.name);return I.createElement(ve,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),s.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,w))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,u=o.travellerWidth,c=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return I.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:a,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,f=c.startX,h=c.endX,m=5,g={pointerEvents:"none",fill:u};return I.createElement(ve,{className:"recharts-brush-texts"},I.createElement(Gi,kf({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:a+s/2},g),this.getTextOfTick(i)),I.createElement(Gi,kf({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+m,y:a+s/2},g),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,u=r.width,c=r.height,f=r.alwaysShowText,h=this.state,m=h.startX,g=h.endX,v=h.isTextActive,_=h.isSlideMoving,y=h.isTravellerMoving,w=h.isTravellerFocused;if(!i||!i.length||!z(s)||!z(l)||!z(u)||!z(c)||u<=0||c<=0)return null;var b=le("recharts-brush",o),T=I.Children.count(a)===1,S=nse("userSelect","none");return I.createElement(ve,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),T&&this.renderPanorama(),this.renderSlide(m,g),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(g,"endX"),(v||_||y||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,u=Math.floor(o+s/2)-1;return I.createElement(I.Fragment,null,I.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),I.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),I.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return I.isValidElement(r)?o=I.cloneElement(r,i):ie(r)?o=r(i):o=t.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,f=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return vp({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a},o&&o.length?cse({data:o,width:a,x:s,travellerWidth:l,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var h=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])}(U.PureComponent);Ht(ga,"displayName","Brush");Ht(ga,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var fse=Gy;function dse(e,t){var n;return fse(e,function(r,i,o){return n=t(r,i,o),!n}),!!n}var hse=dse,pse=Q1,mse=Jn,gse=hse,vse=Vt,yse=Dd;function _se(e,t,n){var r=vse(e)?pse:gse;return n&&yse(e,t,n)&&(t=void 0),r(e,mse(t))}var wse=_se;const bse=_e(wse);var zn=function(t,n){var r=t.alwaysShow,i=t.ifOverflow;return r&&(i="extendDomain"),i===n},fE=wI;function Sse(e,t,n){t=="__proto__"&&fE?fE(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var xse=Sse,Tse=xse,Ese=yI,Ase=Jn;function Cse(e,t){var n={};return t=Ase(t),Ese(e,function(r,i,o){Tse(n,i,t(r,i,o))}),n}var Pse=Cse;const Ise=_e(Pse);function Ose(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}var kse=Ose,Rse=Gy;function Nse(e,t){var n=!0;return Rse(e,function(r,i,o){return n=!!t(r,i,o),n}),n}var Mse=Nse,$se=kse,Dse=Mse,Lse=Jn,Use=Vt,Fse=Dd;function jse(e,t,n){var r=Use(e)?$se:Dse;return n&&Fse(e,t,n)&&(t=void 0),r(e,Lse(t))}var Bse=jse;const ck=_e(Bse);var Vse=["x","y"];function Ll(e){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ll(e)}function Xg(){return Xg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xg.apply(this,arguments)}function dE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ds(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dE(Object(n),!0).forEach(function(r){Gse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gse(e,t,n){return t=Hse(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hse(e){var t=qse(e,"string");return Ll(t)=="symbol"?t:t+""}function qse(e,t){if(Ll(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ll(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zse(e,t){if(e==null)return{};var n=Wse(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Wse(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Kse(e,t){var n=e.x,r=e.y,i=zse(e,Vse),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),u="".concat(t.height||i.height),c=parseInt(u,10),f="".concat(t.width||i.width),h=parseInt(f,10);return ds(ds(ds(ds(ds({},t),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:c,width:h,name:t.name,radius:t.radius})}function hE(e){return I.createElement(rk,Xg({shapeType:"rectangle",propTransformer:Kse,activeClassName:"recharts-active-bar"},e))}var Jse=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof t=="number")return t;var o=z(r)||v4(r);return o?t(r,i):(o||qi(),n)}},Yse=["value","background"],fk;function va(e){"@babel/helpers - typeof";return va=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},va(e)}function Xse(e,t){if(e==null)return{};var n=Qse(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Qse(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Nf(){return Nf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nf.apply(this,arguments)}function pE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pE(Object(n),!0).forEach(function(r){Fr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hk(r.key),r)}}function ele(e,t,n){return t&&mE(e.prototype,t),n&&mE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function tle(e,t,n){return t=Mf(t),nle(e,dk()?Reflect.construct(t,n||[],Mf(e).constructor):t.apply(e,n))}function nle(e,t){if(t&&(va(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rle(e)}function rle(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dk=function(){return!!e})()}function Mf(e){return Mf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mf(e)}function ile(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qg(e,t)}function Qg(e,t){return Qg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Qg(e,t)}function Fr(e,t,n){return t=hk(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hk(e){var t=ole(e,"string");return va(t)=="symbol"?t:t+""}function ole(e,t){if(va(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(va(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var eo=function(e){function t(){var n;Zse(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=tle(this,t,[].concat(i)),Fr(n,"state",{isAnimationFinished:!1}),Fr(n,"id",Yl("recharts-bar-")),Fr(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),Fr(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return ile(t,e),ele(t,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,u=o.activeBar,c=re(this.props,!1);return r&&r.map(function(f,h){var m=h===l,g=m?u:a,v=qe(qe(qe({},c),f),{},{isActive:m,option:g,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return I.createElement(ve,Nf({className:"recharts-bar-rectangle"},Vi(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),I.createElement(hE,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,f=i.animationId,h=this.state.prevData;return I.createElement(yr,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var g=m.t,v=o.map(function(_,y){var w=h&&h[y];if(w){var b=kr(w.x,_.x),T=kr(w.y,_.y),S=kr(w.width,_.width),x=kr(w.height,_.height);return qe(qe({},_),{},{x:b(g),y:T(g),width:S(g),height:x(g)})}if(a==="horizontal"){var E=kr(0,_.height),C=E(g);return qe(qe({},_),{},{y:_.y+_.height-C,height:C})}var P=kr(0,_.width),O=P(g);return qe(qe({},_),{},{width:O})});return I.createElement(ve,null,r.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!zd(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=re(this.props.background,!1);return o.map(function(u,c){u.value;var f=u.background,h=Xse(u,Yse);if(!f)return null;var m=qe(qe(qe(qe(qe({},h),{},{fill:"#eee"},f),l),Vi(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:c,className:"recharts-bar-background-rectangle"});return I.createElement(hE,Nf({key:"background-bar-".concat(c),option:r.props.background,isActive:c===s},m))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,f=pn(c,Jd);if(!f)return null;var h=u==="vertical"?a[0].height/2:a[0].width/2,m=function(_,y){var w=Array.isArray(_.value)?_.value[1]:_.value;return{x:_.x,y:_.y,value:w,errorVal:St(_,y)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return I.createElement(ve,g,f.map(function(v){return I.cloneElement(v,{key:"error-bar-".concat(i,"-").concat(v.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,u=r.left,c=r.top,f=r.width,h=r.height,m=r.isAnimationActive,g=r.background,v=r.id;if(i||!o||!o.length)return null;var _=this.state.isAnimationFinished,y=le("recharts-bar",a),w=s&&s.allowDataOverflow,b=l&&l.allowDataOverflow,T=w||b,S=ue(v)?this.id:v;return I.createElement(ve,{className:y},w||b?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(S)},I.createElement("rect",{x:w?u:u-f/2,y:b?c:c-h/2,width:w?f:f*2,height:b?h:h*2}))):null,I.createElement(ve,{className:"recharts-bar-rectangles",clipPath:T?"url(#clipPath-".concat(S,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(T,S),(!m||_)&&Jr.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(U.PureComponent);fk=eo;Fr(eo,"displayName","Bar");Fr(eo,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ba.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Fr(eo,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,o=e.xAxis,a=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,u=e.stackedData,c=e.dataStartIndex,f=e.displayedData,h=e.offset,m=$te(r,n);if(!m)return null;var g=t.layout,v=n.type.defaultProps,_=v!==void 0?qe(qe({},v),n.props):n.props,y=_.dataKey,w=_.children,b=_.minPointSize,T=g==="horizontal"?a:o,S=u?T.scale.domain():null,x=Vte({numericAxis:T}),E=pn(w,Ql),C=f.map(function(P,O){var R,k,$,M,D,F;u?R=Dte(u[c+O],S):(R=St(P,y),Array.isArray(R)||(R=[x,R]));var V=Jse(b,fk.defaultProps.minPointSize)(R[1],O);if(g==="horizontal"){var N,j=[a.scale(R[0]),a.scale(R[1])],B=j[0],W=j[1];k=sT({axis:o,ticks:s,bandSize:i,offset:m.offset,entry:P,index:O}),$=(N=W??B)!==null&&N!==void 0?N:void 0,M=m.size;var q=B-W;if(D=Number.isNaN(q)?0:q,F={x:k,y:a.y,width:M,height:a.height},Math.abs(V)>0&&Math.abs(D)<Math.abs(V)){var Z=Ct(D||V)*(Math.abs(V)-Math.abs(D));$-=Z,D+=Z}}else{var fe=[o.scale(R[0]),o.scale(R[1])],Ne=fe[0],Ge=fe[1];if(k=Ne,$=sT({axis:a,ticks:l,bandSize:i,offset:m.offset,entry:P,index:O}),M=Ge-Ne,D=m.size,F={x:o.x,y:$,width:o.width,height:D},Math.abs(V)>0&&Math.abs(M)<Math.abs(V)){var tn=Ct(M||V)*(Math.abs(V)-Math.abs(M));M+=tn}}return qe(qe(qe({},P),{},{x:k,y:$,width:M,height:D,value:u?R:R[1],payload:P,background:F},E&&E[O]&&E[O].props),{},{tooltipPayload:[$O(n,P)],tooltipPosition:{x:k+M/2,y:$+D/2}})});return qe({data:C,layout:g},h)});function Ul(e){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ul(e)}function ale(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pk(r.key),r)}}function sle(e,t,n){return t&&gE(e.prototype,t),n&&gE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function vE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vE(Object(n),!0).forEach(function(r){nh(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nh(e,t,n){return t=pk(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pk(e){var t=lle(e,"string");return Ul(t)=="symbol"?t:t+""}function lle(e,t){if(Ul(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ul(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ule=function(t,n,r,i,o){var a=t.width,s=t.height,l=t.layout,u=t.children,c=Object.keys(n),f={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!zt(u,eo);return c.reduce(function(m,g){var v=n[g],_=v.orientation,y=v.domain,w=v.padding,b=w===void 0?{}:w,T=v.mirror,S=v.reversed,x="".concat(_).concat(T?"Mirror":""),E,C,P,O,R;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var k=y[1]-y[0],$=1/0,M=v.categoricalDomain.sort(w4);if(M.forEach(function(fe,Ne){Ne>0&&($=Math.min((fe||0)-(M[Ne-1]||0),$))}),Number.isFinite($)){var D=$/k,F=v.layout==="vertical"?r.height:r.width;if(v.padding==="gap"&&(E=D*F/2),v.padding==="no-gap"){var V=Pt(t.barCategoryGap,D*F),N=D*F/2;E=N-V-(N-V)/F*V}}}i==="xAxis"?C=[r.left+(b.left||0)+(E||0),r.left+r.width-(b.right||0)-(E||0)]:i==="yAxis"?C=l==="horizontal"?[r.top+r.height-(b.bottom||0),r.top+(b.top||0)]:[r.top+(b.top||0)+(E||0),r.top+r.height-(b.bottom||0)-(E||0)]:C=v.range,S&&(C=[C[1],C[0]]);var j=kO(v,o,h),B=j.scale,W=j.realScaleType;B.domain(y).range(C),RO(B);var q=NO(B,Pn(Pn({},v),{},{realScaleType:W}));i==="xAxis"?(R=_==="top"&&!T||_==="bottom"&&T,P=r.left,O=f[x]-R*v.height):i==="yAxis"&&(R=_==="left"&&!T||_==="right"&&T,P=f[x]-R*v.width,O=r.top);var Z=Pn(Pn(Pn({},v),q),{},{realScaleType:W,x:P,y:O,scale:B,width:i==="xAxis"?r.width:v.width,height:i==="yAxis"?r.height:v.height});return Z.bandSize=vf(Z,q),!v.hide&&i==="xAxis"?f[x]+=(R?-1:1)*Z.height:v.hide||(f[x]+=(R?-1:1)*Z.width),Pn(Pn({},m),{},nh({},g,Z))},{})},mk=function(t,n){var r=t.x,i=t.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},cle=function(t){var n=t.x1,r=t.y1,i=t.x2,o=t.y2;return mk({x:n,y:r},{x:i,y:o})},gk=function(){function e(t){ale(this,e),this.scale=t}return sle(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new e(n)}}])}();nh(gk,"EPS",1e-4);var _0=function(t){var n=Object.keys(t).reduce(function(r,i){return Pn(Pn({},r),{},nh({},i,gk.create(t[i])))},{});return Pn(Pn({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return Ise(i,function(l,u){return n[u].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return ck(i,function(o,a){return n[a].isInRange(o)})}})};function fle(e){return(e%180+180)%180}var dle=function(t){var n=t.width,r=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=fle(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},hle=Jn,ple=Xl,mle=Md;function gle(e){return function(t,n,r){var i=Object(t);if(!ple(t)){var o=hle(n);t=mle(t),n=function(s){return o(i[s],s,i)}}var a=e(t,n,r);return a>-1?i[o?t[a]:a]:void 0}}var vle=gle,yle=ak;function _le(e){var t=yle(e),n=t%1;return t===t?n?t-n:t:0}var wle=_le,ble=dI,Sle=Jn,xle=wle,Tle=Math.max;function Ele(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=n==null?0:xle(n);return i<0&&(i=Tle(r+i,0)),ble(e,Sle(t),i)}var Ale=Ele,Cle=vle,Ple=Ale,Ile=Cle(Ple),Ole=Ile;const kle=_e(Ole);var Rle=xq(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),w0=U.createContext(void 0),b0=U.createContext(void 0),vk=U.createContext(void 0),yk=U.createContext({}),_k=U.createContext(void 0),wk=U.createContext(0),bk=U.createContext(0),yE=function(t){var n=t.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=t.clipPathId,s=t.children,l=t.width,u=t.height,c=Rle(o);return I.createElement(w0.Provider,{value:r},I.createElement(b0.Provider,{value:i},I.createElement(yk.Provider,{value:o},I.createElement(vk.Provider,{value:c},I.createElement(_k.Provider,{value:a},I.createElement(wk.Provider,{value:u},I.createElement(bk.Provider,{value:l},s)))))))},Nle=function(){return U.useContext(_k)},Sk=function(t){var n=U.useContext(w0);n==null&&qi();var r=n[t];return r==null&&qi(),r},Mle=function(){var t=U.useContext(w0);return Dr(t)},$le=function(){var t=U.useContext(b0),n=kle(t,function(r){return ck(r.domain,Number.isFinite)});return n||Dr(t)},xk=function(t){var n=U.useContext(b0);n==null&&qi();var r=n[t];return r==null&&qi(),r},Dle=function(){var t=U.useContext(vk);return t},Lle=function(){return U.useContext(yk)},S0=function(){return U.useContext(bk)},x0=function(){return U.useContext(wk)};function ya(e){"@babel/helpers - typeof";return ya=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ya(e)}function Ule(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fle(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ek(r.key),r)}}function jle(e,t,n){return t&&Fle(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ble(e,t,n){return t=$f(t),Vle(e,Tk()?Reflect.construct(t,n||[],$f(e).constructor):t.apply(e,n))}function Vle(e,t){if(t&&(ya(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gle(e)}function Gle(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Tk=function(){return!!e})()}function $f(e){return $f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$f(e)}function Hle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zg(e,t)}function Zg(e,t){return Zg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Zg(e,t)}function _E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_E(Object(n),!0).forEach(function(r){T0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_E(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function T0(e,t,n){return t=Ek(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ek(e){var t=qle(e,"string");return ya(t)=="symbol"?t:t+""}function qle(e,t){if(ya(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ya(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function zle(e,t){return Yle(e)||Jle(e,t)||Kle(e,t)||Wle()}function Wle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kle(e,t){if(e){if(typeof e=="string")return bE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bE(e,t)}}function bE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Jle(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Yle(e){if(Array.isArray(e))return e}function ev(){return ev=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ev.apply(this,arguments)}var Xle=function(t,n){var r;return I.isValidElement(t)?r=I.cloneElement(t,n):ie(t)?r=t(n):r=I.createElement("line",ev({},n,{className:"recharts-reference-line-line"})),r},Qle=function(t,n,r,i,o,a,s,l,u){var c=o.x,f=o.y,h=o.width,m=o.height;if(r){var g=u.y,v=t.y.apply(g,{position:a});if(zn(u,"discard")&&!t.y.isInRange(v))return null;var _=[{x:c+h,y:v},{x:c,y:v}];return l==="left"?_.reverse():_}if(n){var y=u.x,w=t.x.apply(y,{position:a});if(zn(u,"discard")&&!t.x.isInRange(w))return null;var b=[{x:w,y:f+m},{x:w,y:f}];return s==="top"?b.reverse():b}if(i){var T=u.segment,S=T.map(function(x){return t.apply(x,{position:a})});return zn(u,"discard")&&bse(S,function(x){return!t.isInRange(x)})?null:S}return null};function Zle(e){var t=e.x,n=e.y,r=e.segment,i=e.xAxisId,o=e.yAxisId,a=e.shape,s=e.className,l=e.alwaysShow,u=Nle(),c=Sk(i),f=xk(o),h=Dle();if(!u||!h)return null;$n(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=_0({x:c.scale,y:f.scale}),g=rt(t),v=rt(n),_=r&&r.length===2,y=Qle(m,g,v,_,h,e.position,c.orientation,f.orientation,e);if(!y)return null;var w=zle(y,2),b=w[0],T=b.x,S=b.y,x=w[1],E=x.x,C=x.y,P=zn(e,"hidden")?"url(#".concat(u,")"):void 0,O=wE(wE({clipPath:P},re(e,!0)),{},{x1:T,y1:S,x2:E,y2:C});return I.createElement(ve,{className:le("recharts-reference-line",s)},Xle(a,O),st.renderCallByParent(e,cle({x1:T,y1:S,x2:E,y2:C})))}var E0=function(e){function t(){return Ule(this,t),Ble(this,t,arguments)}return Hle(t,e),jle(t,[{key:"render",value:function(){return I.createElement(Zle,this.props)}}])}(I.Component);T0(E0,"displayName","ReferenceLine");T0(E0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function tv(){return tv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tv.apply(this,arguments)}function _a(e){"@babel/helpers - typeof";return _a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_a(e)}function SE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SE(Object(n),!0).forEach(function(r){rh(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ck(r.key),r)}}function nue(e,t,n){return t&&tue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rue(e,t,n){return t=Df(t),iue(e,Ak()?Reflect.construct(t,n||[],Df(e).constructor):t.apply(e,n))}function iue(e,t){if(t&&(_a(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oue(e)}function oue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ak(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ak=function(){return!!e})()}function Df(e){return Df=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Df(e)}function aue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nv(e,t)}function nv(e,t){return nv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nv(e,t)}function rh(e,t,n){return t=Ck(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ck(e){var t=sue(e,"string");return _a(t)=="symbol"?t:t+""}function sue(e,t){if(_a(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(_a(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var lue=function(t){var n=t.x,r=t.y,i=t.xAxis,o=t.yAxis,a=_0({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return zn(t,"discard")&&!a.isInRange(s)?null:s},ih=function(e){function t(){return eue(this,t),rue(this,t,arguments)}return aue(t,e),nue(t,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,u=rt(i),c=rt(o);if($n(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var f=lue(this.props);if(!f)return null;var h=f.x,m=f.y,g=this.props,v=g.shape,_=g.className,y=zn(this.props,"hidden")?"url(#".concat(l,")"):void 0,w=xE(xE({clipPath:y},re(this.props,!0)),{},{cx:h,cy:m});return I.createElement(ve,{className:le("recharts-reference-dot",_)},t.renderDot(v,w),st.renderCallByParent(this.props,{x:h-a,y:m-a,width:2*a,height:2*a}))}}])}(I.Component);rh(ih,"displayName","ReferenceDot");rh(ih,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});rh(ih,"renderDot",function(e,t){var n;return I.isValidElement(e)?n=I.cloneElement(e,t):ie(e)?n=e(t):n=I.createElement(y0,tv({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function rv(){return rv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rv.apply(this,arguments)}function wa(e){"@babel/helpers - typeof";return wa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wa(e)}function TE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function EE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TE(Object(n),!0).forEach(function(r){oh(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ik(r.key),r)}}function fue(e,t,n){return t&&cue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function due(e,t,n){return t=Lf(t),hue(e,Pk()?Reflect.construct(t,n||[],Lf(e).constructor):t.apply(e,n))}function hue(e,t){if(t&&(wa(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pue(e)}function pue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Pk=function(){return!!e})()}function Lf(e){return Lf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lf(e)}function mue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iv(e,t)}function iv(e,t){return iv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},iv(e,t)}function oh(e,t,n){return t=Ik(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ik(e){var t=gue(e,"string");return wa(t)=="symbol"?t:t+""}function gue(e,t){if(wa(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(wa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var vue=function(t,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,u=o.y2,c=o.xAxis,f=o.yAxis;if(!c||!f)return null;var h=_0({x:c.scale,y:f.scale}),m={x:t?h.x.apply(a,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},g={x:n?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return zn(o,"discard")&&(!h.isInRange(m)||!h.isInRange(g))?null:mk(m,g)},ah=function(e){function t(){return uue(this,t),due(this,t,arguments)}return mue(t,e),fue(t,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;$n(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=rt(i),h=rt(o),m=rt(a),g=rt(s),v=this.props.shape;if(!f&&!h&&!m&&!g&&!v)return null;var _=vue(f,h,m,g,this.props);if(!_&&!v)return null;var y=zn(this.props,"hidden")?"url(#".concat(c,")"):void 0;return I.createElement(ve,{className:le("recharts-reference-area",l)},t.renderRect(v,EE(EE({clipPath:y},re(this.props,!0)),_)),st.renderCallByParent(this.props,_))}}])}(I.Component);oh(ah,"displayName","ReferenceArea");oh(ah,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});oh(ah,"renderRect",function(e,t){var n;return I.isValidElement(e)?n=I.cloneElement(e,t):ie(e)?n=e(t):n=I.createElement(v0,rv({},t,{className:"recharts-reference-area-rect"})),n});function Ok(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function yue(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return dle(r,n)}function _ue(e,t,n){var r=n==="width",i=e.x,o=e.y,a=e.width,s=e.height;return t===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function Uf(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function wue(e,t){return Ok(e,t+1)}function bue(e,t,n,r,i){for(var o=(r||[]).slice(),a=t.start,s=t.end,l=0,u=1,c=a,f=function(){var g=r==null?void 0:r[l];if(g===void 0)return{v:Ok(r,u)};var v=l,_,y=function(){return _===void 0&&(_=n(g,v)),_},w=g.coordinate,b=l===0||Uf(e,w,y,c,s);b||(l=0,c=a,u+=1),b&&(c=w+e*(y()/2+i),l+=u)},h;u<=o.length;)if(h=f(),h)return h.v;return[]}function Fl(e){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fl(e)}function AE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _t(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AE(Object(n),!0).forEach(function(r){Sue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sue(e,t,n){return t=xue(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xue(e){var t=Tue(e,"string");return Fl(t)=="symbol"?t:t+""}function Tue(e,t){if(Fl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Eue(e,t,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=t.start,l=t.end,u=function(h){var m=o[h],g,v=function(){return g===void 0&&(g=n(m,h)),g};if(h===a-1){var _=e*(m.coordinate+e*v()/2-l);o[h]=m=_t(_t({},m),{},{tickCoord:_>0?m.coordinate-_*e:m.coordinate})}else o[h]=m=_t(_t({},m),{},{tickCoord:m.coordinate});var y=Uf(e,m.tickCoord,v,s,l);y&&(l=m.tickCoord-e*(v()/2+i),o[h]=_t(_t({},m),{},{isShow:!0}))},c=a-1;c>=0;c--)u(c);return o}function Aue(e,t,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=t.start,u=t.end;if(o){var c=r[s-1],f=n(c,s-1),h=e*(c.coordinate+e*f/2-u);a[s-1]=c=_t(_t({},c),{},{tickCoord:h>0?c.coordinate-h*e:c.coordinate});var m=Uf(e,c.tickCoord,function(){return f},l,u);m&&(u=c.tickCoord-e*(f/2+i),a[s-1]=_t(_t({},c),{},{isShow:!0}))}for(var g=o?s-1:s,v=function(w){var b=a[w],T,S=function(){return T===void 0&&(T=n(b,w)),T};if(w===0){var x=e*(b.coordinate-e*S()/2-l);a[w]=b=_t(_t({},b),{},{tickCoord:x<0?b.coordinate-x*e:b.coordinate})}else a[w]=b=_t(_t({},b),{},{tickCoord:b.coordinate});var E=Uf(e,b.tickCoord,S,l,u);E&&(l=b.tickCoord+e*(S()/2+i),a[w]=_t(_t({},b),{},{isShow:!0}))},_=0;_<g;_++)v(_);return a}function A0(e,t,n){var r=e.tick,i=e.ticks,o=e.viewBox,a=e.minTickGap,s=e.orientation,l=e.interval,u=e.tickFormatter,c=e.unit,f=e.angle;if(!i||!i.length||!r)return[];if(z(l)||Ba.isSsr)return wue(i,typeof l=="number"&&z(l)?l:0);var h=[],m=s==="top"||s==="bottom"?"width":"height",g=c&&m==="width"?ks(c,{fontSize:t,letterSpacing:n}):{width:0,height:0},v=function(b,T){var S=ie(u)?u(b.value,T):b.value;return m==="width"?yue(ks(S,{fontSize:t,letterSpacing:n}),g,f):ks(S,{fontSize:t,letterSpacing:n})[m]},_=i.length>=2?Ct(i[1].coordinate-i[0].coordinate):1,y=_ue(o,_,m);return l==="equidistantPreserveStart"?bue(_,y,v,i,a):(l==="preserveStart"||l==="preserveStartEnd"?h=Aue(_,y,v,i,a,l==="preserveStartEnd"):h=Eue(_,y,v,i,a),h.filter(function(w){return w.isShow}))}var Cue=["viewBox"],Pue=["viewBox"],Iue=["ticks"];function ba(e){"@babel/helpers - typeof";return ba=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ba(e)}function $o(){return $o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$o.apply(this,arguments)}function CE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CE(Object(n),!0).forEach(function(r){C0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yp(e,t){if(e==null)return{};var n=Oue(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Oue(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function kue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Rk(r.key),r)}}function Rue(e,t,n){return t&&PE(e.prototype,t),n&&PE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nue(e,t,n){return t=Ff(t),Mue(e,kk()?Reflect.construct(t,n||[],Ff(e).constructor):t.apply(e,n))}function Mue(e,t){if(t&&(ba(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $ue(e)}function $ue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kk=function(){return!!e})()}function Ff(e){return Ff=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ff(e)}function Due(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ov(e,t)}function ov(e,t){return ov=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ov(e,t)}function C0(e,t,n){return t=Rk(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rk(e){var t=Lue(e,"string");return ba(t)=="symbol"?t:t+""}function Lue(e,t){if(ba(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ba(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qa=function(e){function t(n){var r;return kue(this,t),r=Nue(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return Due(t,e),Rue(t,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=yp(r,Cue),s=this.props,l=s.viewBox,u=yp(s,Pue);return!zo(o,l)||!zo(a,u)||!zo(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,f=i.mirror,h=i.tickMargin,m,g,v,_,y,w,b=f?-1:1,T=r.tickSize||c,S=z(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":m=g=r.coordinate,_=a+ +!f*l,v=_-b*T,w=v-b*h,y=S;break;case"left":v=_=r.coordinate,g=o+ +!f*s,m=g-b*T,y=m-b*h,w=S;break;case"right":v=_=r.coordinate,g=o+ +f*s,m=g+b*T,y=m+b*h,w=S;break;default:m=g=r.coordinate,_=a+ +f*l,v=_+b*T,w=v+b*h,y=S;break}return{line:{x1:m,y1:v,x2:g,y2:_},tick:{x:y,y:w}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,f=Xe(Xe(Xe({},re(this.props,!1)),re(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=Xe(Xe({},f),{},{x1:i,y1:o+h*s,x2:i+a,y2:o+h*s})}else{var m=+(l==="left"&&!u||l==="right"&&u);f=Xe(Xe({},f),{},{x1:i+m*a,y1:o,x2:i+m*a,y2:o+s})}return I.createElement("line",$o({},f,{className:le("recharts-cartesian-axis-line",Xt(c,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,f=s.tickFormatter,h=s.unit,m=A0(Xe(Xe({},this.props),{},{ticks:r}),i,o),g=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),_=re(this.props,!1),y=re(c,!1),w=Xe(Xe({},_),{},{fill:"none"},re(l,!1)),b=m.map(function(T,S){var x=a.getTickLineCoord(T),E=x.line,C=x.tick,P=Xe(Xe(Xe(Xe({textAnchor:g,verticalAnchor:v},_),{},{stroke:"none",fill:u},y),C),{},{index:S,payload:T,visibleTicksCount:m.length,tickFormatter:f});return I.createElement(ve,$o({className:"recharts-cartesian-axis-tick",key:"tick-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},Vi(a.props,T,S)),l&&I.createElement("line",$o({},w,E,{className:le("recharts-cartesian-axis-tick-line",Xt(l,"className"))})),c&&t.renderTickItem(c,P,"".concat(ie(f)?f(T.value,S):T.value).concat(h||"")))});return I.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var f=this.props,h=f.ticks,m=yp(f,Iue),g=h;return ie(l)&&(g=h&&h.length>0?l(this.props):l(m)),a<=0||s<=0||!g||!g.length?null:I.createElement(ve,{className:le("recharts-cartesian-axis",u),ref:function(_){r.layerReference=_}},o&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),st.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a,s=le(i.className,"recharts-cartesian-axis-tick-value");return I.isValidElement(r)?a=I.cloneElement(r,Xe(Xe({},i),{},{className:s})):ie(r)?a=r(Xe(Xe({},i),{},{className:s})):a=I.createElement(Gi,$o({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(U.Component);C0(qa,"displayName","CartesianAxis");C0(qa,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Uue=["x1","y1","x2","y2","key"],Fue=["offset"];function zi(e){"@babel/helpers - typeof";return zi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zi(e)}function IE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IE(Object(n),!0).forEach(function(r){jue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jue(e,t,n){return t=Bue(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bue(e){var t=Vue(e,"string");return zi(t)=="symbol"?t:t+""}function Vue(e,t){if(zi(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(zi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oi(){return Oi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oi.apply(this,arguments)}function OE(e,t){if(e==null)return{};var n=Gue(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Gue(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Hue=function(t){var n=t.fill;if(!n||n==="none")return null;var r=t.fillOpacity,i=t.x,o=t.y,a=t.width,s=t.height,l=t.ry;return I.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Nk(e,t){var n;if(I.isValidElement(e))n=I.cloneElement(e,t);else if(ie(e))n=e(t);else{var r=t.x1,i=t.y1,o=t.x2,a=t.y2,s=t.key,l=OE(t,Uue),u=re(l,!1);u.offset;var c=OE(u,Fue);n=I.createElement("line",Oi({},c,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function que(e){var t=e.x,n=e.width,r=e.horizontal,i=r===void 0?!0:r,o=e.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=bt(bt({},e),{},{x1:t,y1:s,x2:t+n,y2:s,key:"line-".concat(l),index:l});return Nk(i,u)});return I.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function zue(e){var t=e.y,n=e.height,r=e.vertical,i=r===void 0?!0:r,o=e.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=bt(bt({},e),{},{x1:s,y1:t,x2:s,y2:t+n,key:"line-".concat(l),index:l});return Nk(i,u)});return I.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function Wue(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,i=e.y,o=e.width,a=e.height,s=e.horizontalPoints,l=e.horizontal,u=l===void 0?!0:l;if(!u||!t||!t.length)return null;var c=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,m){return h-m});i!==c[0]&&c.unshift(0);var f=c.map(function(h,m){var g=!c[m+1],v=g?i+a-h:c[m+1]-h;if(v<=0)return null;var _=m%t.length;return I.createElement("rect",{key:"react-".concat(m),y:h,x:r,height:v,width:o,stroke:"none",fill:t[_],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Kue(e){var t=e.vertical,n=t===void 0?!0:t,r=e.verticalFill,i=e.fillOpacity,o=e.x,a=e.y,s=e.width,l=e.height,u=e.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(h){return Math.round(h+o-o)}).sort(function(h,m){return h-m});o!==c[0]&&c.unshift(0);var f=c.map(function(h,m){var g=!c[m+1],v=g?o+s-h:c[m+1]-h;if(v<=0)return null;var _=m%r.length;return I.createElement("rect",{key:"react-".concat(m),x:h,y:a,width:v,height:l,stroke:"none",fill:r[_],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Jue=function(t,n){var r=t.xAxis,i=t.width,o=t.height,a=t.offset;return OO(A0(bt(bt(bt({},qa.defaultProps),r),{},{ticks:ar(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,n)},Yue=function(t,n){var r=t.yAxis,i=t.width,o=t.height,a=t.offset;return OO(A0(bt(bt(bt({},qa.defaultProps),r),{},{ticks:ar(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,n)},fo={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Mk(e){var t,n,r,i,o,a,s=S0(),l=x0(),u=Lle(),c=bt(bt({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:fo.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:fo.fill,horizontal:(r=e.horizontal)!==null&&r!==void 0?r:fo.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:fo.horizontalFill,vertical:(o=e.vertical)!==null&&o!==void 0?o:fo.vertical,verticalFill:(a=e.verticalFill)!==null&&a!==void 0?a:fo.verticalFill,x:z(e.x)?e.x:u.left,y:z(e.y)?e.y:u.top,width:z(e.width)?e.width:u.width,height:z(e.height)?e.height:u.height}),f=c.x,h=c.y,m=c.width,g=c.height,v=c.syncWithTicks,_=c.horizontalValues,y=c.verticalValues,w=Mle(),b=$le();if(!z(m)||m<=0||!z(g)||g<=0||!z(f)||f!==+f||!z(h)||h!==+h)return null;var T=c.verticalCoordinatesGenerator||Jue,S=c.horizontalCoordinatesGenerator||Yue,x=c.horizontalPoints,E=c.verticalPoints;if((!x||!x.length)&&ie(S)){var C=_&&_.length,P=S({yAxis:b?bt(bt({},b),{},{ticks:C?_:b.ticks}):void 0,width:s,height:l,offset:u},C?!0:v);$n(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(zi(P),"]")),Array.isArray(P)&&(x=P)}if((!E||!E.length)&&ie(T)){var O=y&&y.length,R=T({xAxis:w?bt(bt({},w),{},{ticks:O?y:w.ticks}):void 0,width:s,height:l,offset:u},O?!0:v);$n(Array.isArray(R),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(zi(R),"]")),Array.isArray(R)&&(E=R)}return I.createElement("g",{className:"recharts-cartesian-grid"},I.createElement(Hue,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),I.createElement(que,Oi({},c,{offset:u,horizontalPoints:x,xAxis:w,yAxis:b})),I.createElement(zue,Oi({},c,{offset:u,verticalPoints:E,xAxis:w,yAxis:b})),I.createElement(Wue,Oi({},c,{horizontalPoints:x})),I.createElement(Kue,Oi({},c,{verticalPoints:E})))}Mk.displayName="CartesianGrid";function Sa(e){"@babel/helpers - typeof";return Sa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sa(e)}function Xue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Que(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Lk(r.key),r)}}function Zue(e,t,n){return t&&Que(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ece(e,t,n){return t=jf(t),tce(e,$k()?Reflect.construct(t,n||[],jf(e).constructor):t.apply(e,n))}function tce(e,t){if(t&&(Sa(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nce(e)}function nce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $k(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($k=function(){return!!e})()}function jf(e){return jf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jf(e)}function rce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&av(e,t)}function av(e,t){return av=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},av(e,t)}function Dk(e,t,n){return t=Lk(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lk(e){var t=ice(e,"string");return Sa(t)=="symbol"?t:t+""}function ice(e,t){if(Sa(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Sa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function sv(){return sv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sv.apply(this,arguments)}function oce(e){var t=e.xAxisId,n=S0(),r=x0(),i=Sk(t);return i==null?null:U.createElement(qa,sv({},i,{className:le("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return ar(a,!0)}}))}var sh=function(e){function t(){return Xue(this,t),ece(this,t,arguments)}return rce(t,e),Zue(t,[{key:"render",value:function(){return U.createElement(oce,this.props)}}])}(U.Component);Dk(sh,"displayName","XAxis");Dk(sh,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function xa(e){"@babel/helpers - typeof";return xa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xa(e)}function ace(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jk(r.key),r)}}function lce(e,t,n){return t&&sce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function uce(e,t,n){return t=Bf(t),cce(e,Uk()?Reflect.construct(t,n||[],Bf(e).constructor):t.apply(e,n))}function cce(e,t){if(t&&(xa(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fce(e)}function fce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Uk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Uk=function(){return!!e})()}function Bf(e){return Bf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bf(e)}function dce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lv(e,t)}function lv(e,t){return lv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lv(e,t)}function Fk(e,t,n){return t=jk(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jk(e){var t=hce(e,"string");return xa(t)=="symbol"?t:t+""}function hce(e,t){if(xa(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(xa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function uv(){return uv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uv.apply(this,arguments)}var pce=function(t){var n=t.yAxisId,r=S0(),i=x0(),o=xk(n);return o==null?null:U.createElement(qa,uv({},o,{className:le("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return ar(s,!0)}}))},lh=function(e){function t(){return ace(this,t),uce(this,t,arguments)}return dce(t,e),lce(t,[{key:"render",value:function(){return U.createElement(pce,this.props)}}])}(U.Component);Fk(lh,"displayName","YAxis");Fk(lh,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function kE(e){return yce(e)||vce(e)||gce(e)||mce()}function mce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gce(e,t){if(e){if(typeof e=="string")return cv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cv(e,t)}}function vce(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yce(e){if(Array.isArray(e))return cv(e)}function cv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var fv=function(t,n,r,i,o){var a=pn(t,E0),s=pn(t,ih),l=[].concat(kE(a),kE(s)),u=pn(t,ah),c="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(v,_){if(_.props[c]===r&&zn(_.props,"extendDomain")&&z(_.props[f])){var y=_.props[f];return[Math.min(v[0],y),Math.max(v[1],y)]}return v},h)),u.length){var m="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(v,_){if(_.props[c]===r&&zn(_.props,"extendDomain")&&z(_.props[m])&&z(_.props[g])){var y=_.props[m],w=_.props[g];return[Math.min(v[0],y,w),Math.max(v[1],y,w)]}return v},h)}return o&&o.length&&(h=o.reduce(function(v,_){return z(_)?[Math.min(v[0],_),Math.max(v[1],_)]:v},h)),h},Bk={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,f,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var m=new i(c,f||l,h),g=n?n+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],m]:l._events[g].push(m):(l._events[g]=m,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)t.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,g=new Array(m);h<m;h++)g[h]=f[h].fn;return g},s.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,c,f,h,m,g){var v=n?n+u:u;if(!this._events[v])return!1;var _=this._events[v],y=arguments.length,w,b;if(_.fn){switch(_.once&&this.removeListener(u,_.fn,void 0,!0),y){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,c),!0;case 3:return _.fn.call(_.context,c,f),!0;case 4:return _.fn.call(_.context,c,f,h),!0;case 5:return _.fn.call(_.context,c,f,h,m),!0;case 6:return _.fn.call(_.context,c,f,h,m,g),!0}for(b=1,w=new Array(y-1);b<y;b++)w[b-1]=arguments[b];_.fn.apply(_.context,w)}else{var T=_.length,S;for(b=0;b<T;b++)switch(_[b].once&&this.removeListener(u,_[b].fn,void 0,!0),y){case 1:_[b].fn.call(_[b].context);break;case 2:_[b].fn.call(_[b].context,c);break;case 3:_[b].fn.call(_[b].context,c,f);break;case 4:_[b].fn.call(_[b].context,c,f,h);break;default:if(!w)for(S=1,w=new Array(y-1);S<y;S++)w[S-1]=arguments[S];_[b].fn.apply(_[b].context,w)}}return!0},s.prototype.on=function(u,c,f){return o(this,u,c,f,!1)},s.prototype.once=function(u,c,f){return o(this,u,c,f,!0)},s.prototype.removeListener=function(u,c,f,h){var m=n?n+u:u;if(!this._events[m])return this;if(!c)return a(this,m),this;var g=this._events[m];if(g.fn)g.fn===c&&(!h||g.once)&&(!f||g.context===f)&&a(this,m);else{for(var v=0,_=[],y=g.length;v<y;v++)(g[v].fn!==c||h&&!g[v].once||f&&g[v].context!==f)&&_.push(g[v]);_.length?this._events[m]=_.length===1?_[0]:_:a(this,m)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&a(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s})(Bk);var _ce=Bk.exports;const wce=_e(_ce);var _p=new wce,wp="recharts.syncMouseEvents";function jl(e){"@babel/helpers - typeof";return jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jl(e)}function bce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Vk(r.key),r)}}function xce(e,t,n){return t&&Sce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bp(e,t,n){return t=Vk(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vk(e){var t=Tce(e,"string");return jl(t)=="symbol"?t:t+""}function Tce(e,t){if(jl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(jl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ece=function(){function e(){bce(this,e),bp(this,"activeIndex",0),bp(this,"coordinateList",[]),bp(this,"layout","horizontal")}return xce(e,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,u=l===void 0?null:l,c=n.offset,f=c===void 0?null:c,h=n.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+u,h=a+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Ace(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e==null?void 0:e[0],i=e==null?void 0:e[1];if(r&&i&&z(r)&&z(i))return!0}return!1}function Cce(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function Gk(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,o=e.endAngle,a=Ce(t,n,r,i),s=Ce(t,n,r,o);return{points:[a,s],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}function Pce(e,t,n){var r,i,o,a;if(e==="horizontal")r=t.x,o=r,i=n.top,a=n.top+n.height;else if(e==="vertical")i=t.y,a=i,r=n.left,o=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,l=t.cy,u=t.innerRadius,c=t.outerRadius,f=t.angle,h=Ce(s,l,u,f),m=Ce(s,l,c,f);r=h.x,i=h.y,o=m.x,a=m.y}else return Gk(t);return[{x:r,y:i},{x:o,y:a}]}function Bl(e){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bl(e)}function RE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RE(Object(n),!0).forEach(function(r){Ice(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ice(e,t,n){return t=Oce(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oce(e){var t=kce(e,"string");return Bl(t)=="symbol"?t:t+""}function kce(e,t){if(Bl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rce(e){var t,n,r=e.element,i=e.tooltipEventType,o=e.isActive,a=e.activeCoordinate,s=e.activePayload,l=e.offset,u=e.activeTooltipIndex,c=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,m=(t=r.props.cursor)!==null&&t!==void 0?t:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!m||!o||!a||h!=="ScatterChart"&&i!=="axis")return null;var g,v=Mg;if(h==="ScatterChart")g=a,v=uoe;else if(h==="BarChart")g=Cce(f,a,l,c),v=v0;else if(f==="radial"){var _=Gk(a),y=_.cx,w=_.cy,b=_.radius,T=_.startAngle,S=_.endAngle;g={cx:y,cy:w,startAngle:T,endAngle:S,innerRadius:b,outerRadius:b},v=BO}else g={points:Pce(f,a,l)},v=Mg;var x=qu(qu(qu(qu({stroke:"#ccc",pointerEvents:"none"},l),g),re(m,!1)),{},{payload:s,payloadIndex:u,className:le("recharts-tooltip-cursor",m.className)});return U.isValidElement(m)?U.cloneElement(m,x):U.createElement(v,x)}var Nce=["item"],Mce=["children","className","width","height","style","compact","title","desc"];function Ta(e){"@babel/helpers - typeof";return Ta=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ta(e)}function Do(){return Do=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Do.apply(this,arguments)}function NE(e,t){return Lce(e)||Dce(e,t)||qk(e,t)||$ce()}function $ce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dce(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Lce(e){if(Array.isArray(e))return e}function ME(e,t){if(e==null)return{};var n=Uce(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Uce(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Fce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zk(r.key),r)}}function Bce(e,t,n){return t&&jce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vce(e,t,n){return t=Vf(t),Gce(e,Hk()?Reflect.construct(t,n||[],Vf(e).constructor):t.apply(e,n))}function Gce(e,t){if(t&&(Ta(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hce(e)}function Hce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Hk=function(){return!!e})()}function Vf(e){return Vf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vf(e)}function qce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dv(e,t)}function dv(e,t){return dv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dv(e,t)}function Ea(e){return Kce(e)||Wce(e)||qk(e)||zce()}function zce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qk(e,t){if(e){if(typeof e=="string")return hv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hv(e,t)}}function Wce(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Kce(e){if(Array.isArray(e))return hv(e)}function hv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$E(Object(n),!0).forEach(function(r){ee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$E(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ee(e,t,n){return t=zk(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zk(e){var t=Jce(e,"string");return Ta(t)=="symbol"?t:t+""}function Jce(e,t){if(Ta(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ta(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yce={xAxis:["bottom","top"],yAxis:["left","right"]},Xce={width:"100%",height:"100%"},Wk={x:0,y:0};function zu(e){return e}var Qce=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},Zce=function(t,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(t==="horizontal")return{x:o.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:o.coordinate};if(t==="centric"){var a=o.coordinate,s=i.radius;return L(L(L({},i),Ce(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,u=i.angle;return L(L(L({},i),Ce(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return Wk},uh=function(t,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(Ea(s),Ea(u)):s},[]);return a.length>0?a:t&&t.length&&z(i)&&z(o)?t.slice(i,o+1):[]};function Kk(e){return e==="number"?[0,"auto"]:void 0}var pv=function(t,n,r,i){var o=t.graphicalItems,a=t.tooltipAxis,s=uh(n,t);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,u){var c,f=(c=u.props.data)!==null&&c!==void 0?c:n;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=r&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(a.dataKey&&!a.allowDuplicatedCategory){var m=f===void 0?s:f;h=Bm(m,a.dataKey,i)}else h=f&&f[r]||s[r];return h?[].concat(Ea(l),[$O(u,h)]):l},[])},DE=function(t,n,r,i){var o=i||{x:t.chartX,y:t.chartY},a=Qce(o,r),s=t.orderedTooltipTicks,l=t.tooltipAxis,u=t.tooltipTicks,c=Ite(a,s,u,l);if(c>=0&&u){var f=u[c]&&u[c].value,h=pv(t,n,c,f),m=Zce(r,s,c,o);return{activeTooltipIndex:c,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},efe=function(t,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=t.layout,f=t.children,h=t.stackOffset,m=IO(c,o);return r.reduce(function(g,v){var _,y=v.type.defaultProps!==void 0?L(L({},v.type.defaultProps),v.props):v.props,w=y.type,b=y.dataKey,T=y.allowDataOverflow,S=y.allowDuplicatedCategory,x=y.scale,E=y.ticks,C=y.includeHidden,P=y[a];if(g[P])return g;var O=uh(t.data,{graphicalItems:i.filter(function(q){var Z,fe=a in q.props?q.props[a]:(Z=q.type.defaultProps)===null||Z===void 0?void 0:Z[a];return fe===P}),dataStartIndex:l,dataEndIndex:u}),R=O.length,k,$,M;Ace(y.domain,T,w)&&(k=Ig(y.domain,null,T),m&&(w==="number"||x!=="auto")&&(M=Ns(O,b,"category")));var D=Kk(w);if(!k||k.length===0){var F,V=(F=y.domain)!==null&&F!==void 0?F:D;if(b){if(k=Ns(O,b,w),w==="category"&&m){var N=_4(k);S&&N?($=k,k=Of(0,R)):S||(k=cT(V,k,v).reduce(function(q,Z){return q.indexOf(Z)>=0?q:[].concat(Ea(q),[Z])},[]))}else if(w==="category")S?k=k.filter(function(q){return q!==""&&!ue(q)}):k=cT(V,k,v).reduce(function(q,Z){return q.indexOf(Z)>=0||Z===""||ue(Z)?q:[].concat(Ea(q),[Z])},[]);else if(w==="number"){var j=Mte(O,i.filter(function(q){var Z,fe,Ne=a in q.props?q.props[a]:(Z=q.type.defaultProps)===null||Z===void 0?void 0:Z[a],Ge="hide"in q.props?q.props.hide:(fe=q.type.defaultProps)===null||fe===void 0?void 0:fe.hide;return Ne===P&&(C||!Ge)}),b,o,c);j&&(k=j)}m&&(w==="number"||x!=="auto")&&(M=Ns(O,b,"category"))}else m?k=Of(0,R):s&&s[P]&&s[P].hasStack&&w==="number"?k=h==="expand"?[0,1]:MO(s[P].stackGroups,l,u):k=PO(O,i.filter(function(q){var Z=a in q.props?q.props[a]:q.type.defaultProps[a],fe="hide"in q.props?q.props.hide:q.type.defaultProps.hide;return Z===P&&(C||!fe)}),w,c,!0);if(w==="number")k=fv(f,k,P,o,E),V&&(k=Ig(V,k,T));else if(w==="category"&&V){var B=V,W=k.every(function(q){return B.indexOf(q)>=0});W&&(k=B)}}return L(L({},g),{},ee({},P,L(L({},y),{},{axisType:o,domain:k,categoricalDomain:M,duplicateDomain:$,originalDomain:(_=y.domain)!==null&&_!==void 0?_:D,isCategorical:m,layout:c})))},{})},tfe=function(t,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=t.layout,f=t.children,h=uh(t.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),m=h.length,g=IO(c,o),v=-1;return r.reduce(function(_,y){var w=y.type.defaultProps!==void 0?L(L({},y.type.defaultProps),y.props):y.props,b=w[a],T=Kk("number");if(!_[b]){v++;var S;return g?S=Of(0,m):s&&s[b]&&s[b].hasStack?(S=MO(s[b].stackGroups,l,u),S=fv(f,S,b,o)):(S=Ig(T,PO(h,r.filter(function(x){var E,C,P=a in x.props?x.props[a]:(E=x.type.defaultProps)===null||E===void 0?void 0:E[a],O="hide"in x.props?x.props.hide:(C=x.type.defaultProps)===null||C===void 0?void 0:C.hide;return P===b&&!O}),"number",c),i.defaultProps.allowDataOverflow),S=fv(f,S,b,o)),L(L({},_),{},ee({},b,L(L({axisType:o},i.defaultProps),{},{hide:!0,orientation:Xt(Yce,"".concat(o,".").concat(v%2),null),domain:S,originalDomain:T,isCategorical:g,layout:c})))}return _},{})},nfe=function(t,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=t.children,f="".concat(i,"Id"),h=pn(c,o),m={};return h&&h.length?m=efe(t,{axes:h,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):a&&a.length&&(m=tfe(t,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),m},rfe=function(t){var n=Dr(t),r=ar(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:Hy(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:vf(n,r)}},LE=function(t){var n=t.children,r=t.defaultShowTooltip,i=zt(n,ga),o=0,a=0;return t.data&&t.data.length!==0&&(a=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},ife=function(t){return!t||!t.length?!1:t.some(function(n){var r=lr(n&&n.type);return r&&r.indexOf("Bar")>=0})},UE=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},ofe=function(t,n){var r=t.props,i=t.graphicalItems,o=t.xAxisMap,a=o===void 0?{}:o,s=t.yAxisMap,l=s===void 0?{}:s,u=r.width,c=r.height,f=r.children,h=r.margin||{},m=zt(f,ga),g=zt(f,Ni),v=Object.keys(l).reduce(function(S,x){var E=l[x],C=E.orientation;return!E.mirror&&!E.hide?L(L({},S),{},ee({},C,S[C]+E.width)):S},{left:h.left||0,right:h.right||0}),_=Object.keys(a).reduce(function(S,x){var E=a[x],C=E.orientation;return!E.mirror&&!E.hide?L(L({},S),{},ee({},C,Xt(S,"".concat(C))+E.height)):S},{top:h.top||0,bottom:h.bottom||0}),y=L(L({},_),v),w=y.bottom;m&&(y.bottom+=m.props.height||ga.defaultProps.height),g&&n&&(y=Rte(y,i,r,n));var b=u-y.left-y.right,T=c-y.top-y.bottom;return L(L({brushBottom:w},y),{},{width:Math.max(b,0),height:Math.max(T,0)})},afe=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},Jk=function(t){var n=t.chartName,r=t.GraphicalChild,i=t.defaultTooltipEventType,o=i===void 0?"axis":i,a=t.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=t.axisComponents,u=t.legendContent,c=t.formatAxisMap,f=t.defaultProps,h=function(y,w){var b=w.graphicalItems,T=w.stackGroups,S=w.offset,x=w.updateId,E=w.dataStartIndex,C=w.dataEndIndex,P=y.barSize,O=y.layout,R=y.barGap,k=y.barCategoryGap,$=y.maxBarSize,M=UE(O),D=M.numericAxisName,F=M.cateAxisName,V=ife(b),N=[];return b.forEach(function(j,B){var W=uh(y.data,{graphicalItems:[j],dataStartIndex:E,dataEndIndex:C}),q=j.type.defaultProps!==void 0?L(L({},j.type.defaultProps),j.props):j.props,Z=q.dataKey,fe=q.maxBarSize,Ne=q["".concat(D,"Id")],Ge=q["".concat(F,"Id")],tn={},Mt=l.reduce(function(ai,si){var ch=w["".concat(si.axisType,"Map")],P0=q["".concat(si.axisType,"Id")];ch&&ch[P0]||si.axisType==="zAxis"||qi();var I0=ch[P0];return L(L({},ai),{},ee(ee({},si.axisType,I0),"".concat(si.axisType,"Ticks"),ar(I0)))},tn),J=Mt[F],ae=Mt["".concat(F,"Ticks")],se=T&&T[Ne]&&T[Ne].hasStack&&Gte(j,T[Ne].stackGroups),G=lr(j.type).indexOf("Bar")>=0,Fe=vf(J,ae),de=[],Je=V&&Ote({barSize:P,stackGroups:T,totalSize:afe(Mt,F)});if(G){var Ye,$t,Ar=ue(fe)?$:fe,to=(Ye=($t=vf(J,ae,!0))!==null&&$t!==void 0?$t:Ar)!==null&&Ye!==void 0?Ye:0;de=kte({barGap:R,barCategoryGap:k,bandSize:to!==Fe?to:Fe,sizeList:Je[Ge],maxBarSize:Ar}),to!==Fe&&(de=de.map(function(ai){return L(L({},ai),{},{position:L(L({},ai.position),{},{offset:ai.position.offset-to/2})})}))}var ru=j&&j.type&&j.type.getComposedData;ru&&N.push({props:L(L({},ru(L(L({},Mt),{},{displayedData:W,props:y,dataKey:Z,item:j,bandSize:Fe,barPosition:de,offset:S,stackedData:se,layout:O,dataStartIndex:E,dataEndIndex:C}))),{},ee(ee(ee({key:j.key||"item-".concat(B)},D,Mt[D]),F,Mt[F]),"animationId",x)),childIndex:k4(j,y.children),item:j})}),N},m=function(y,w){var b=y.props,T=y.dataStartIndex,S=y.dataEndIndex,x=y.updateId;if(!iS({props:b}))return null;var E=b.children,C=b.layout,P=b.stackOffset,O=b.data,R=b.reverseStackOrder,k=UE(C),$=k.numericAxisName,M=k.cateAxisName,D=pn(E,r),F=Bte(O,D,"".concat($,"Id"),"".concat(M,"Id"),P,R),V=l.reduce(function(q,Z){var fe="".concat(Z.axisType,"Map");return L(L({},q),{},ee({},fe,nfe(b,L(L({},Z),{},{graphicalItems:D,stackGroups:Z.axisType===$&&F,dataStartIndex:T,dataEndIndex:S}))))},{}),N=ofe(L(L({},V),{},{props:b,graphicalItems:D}),w==null?void 0:w.legendBBox);Object.keys(V).forEach(function(q){V[q]=c(b,V[q],N,q.replace("Map",""),n)});var j=V["".concat(M,"Map")],B=rfe(j),W=h(b,L(L({},V),{},{dataStartIndex:T,dataEndIndex:S,updateId:x,graphicalItems:D,stackGroups:F,offset:N}));return L(L({formattedGraphicalItems:W,graphicalItems:D,offset:N,stackGroups:F},B),V)},g=function(_){function y(w){var b,T,S;return Fce(this,y),S=Vce(this,y,[w]),ee(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ee(S,"accessibilityManager",new Ece),ee(S,"handleLegendBBoxUpdate",function(x){if(x){var E=S.state,C=E.dataStartIndex,P=E.dataEndIndex,O=E.updateId;S.setState(L({legendBBox:x},m({props:S.props,dataStartIndex:C,dataEndIndex:P,updateId:O},L(L({},S.state),{},{legendBBox:x}))))}}),ee(S,"handleReceiveSyncEvent",function(x,E,C){if(S.props.syncId===x){if(C===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(E)}}),ee(S,"handleBrushChange",function(x){var E=x.startIndex,C=x.endIndex;if(E!==S.state.dataStartIndex||C!==S.state.dataEndIndex){var P=S.state.updateId;S.setState(function(){return L({dataStartIndex:E,dataEndIndex:C},m({props:S.props,dataStartIndex:E,dataEndIndex:C,updateId:P},S.state))}),S.triggerSyncEvent({dataStartIndex:E,dataEndIndex:C})}}),ee(S,"handleMouseEnter",function(x){var E=S.getMouseInfo(x);if(E){var C=L(L({},E),{},{isTooltipActive:!0});S.setState(C),S.triggerSyncEvent(C);var P=S.props.onMouseEnter;ie(P)&&P(C,x)}}),ee(S,"triggeredAfterMouseMove",function(x){var E=S.getMouseInfo(x),C=E?L(L({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(C),S.triggerSyncEvent(C);var P=S.props.onMouseMove;ie(P)&&P(C,x)}),ee(S,"handleItemMouseEnter",function(x){S.setState(function(){return{isTooltipActive:!0,activeItem:x,activePayload:x.tooltipPayload,activeCoordinate:x.tooltipPosition||{x:x.cx,y:x.cy}}})}),ee(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),ee(S,"handleMouseMove",function(x){x.persist(),S.throttleTriggeredAfterMouseMove(x)}),ee(S,"handleMouseLeave",function(x){S.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};S.setState(E),S.triggerSyncEvent(E);var C=S.props.onMouseLeave;ie(C)&&C(E,x)}),ee(S,"handleOuterEvent",function(x){var E=O4(x),C=Xt(S.props,"".concat(E));if(E&&ie(C)){var P,O;/.*touch.*/i.test(E)?O=S.getMouseInfo(x.changedTouches[0]):O=S.getMouseInfo(x),C((P=O)!==null&&P!==void 0?P:{},x)}}),ee(S,"handleClick",function(x){var E=S.getMouseInfo(x);if(E){var C=L(L({},E),{},{isTooltipActive:!0});S.setState(C),S.triggerSyncEvent(C);var P=S.props.onClick;ie(P)&&P(C,x)}}),ee(S,"handleMouseDown",function(x){var E=S.props.onMouseDown;if(ie(E)){var C=S.getMouseInfo(x);E(C,x)}}),ee(S,"handleMouseUp",function(x){var E=S.props.onMouseUp;if(ie(E)){var C=S.getMouseInfo(x);E(C,x)}}),ee(S,"handleTouchMove",function(x){x.changedTouches!=null&&x.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(x.changedTouches[0])}),ee(S,"handleTouchStart",function(x){x.changedTouches!=null&&x.changedTouches.length>0&&S.handleMouseDown(x.changedTouches[0])}),ee(S,"handleTouchEnd",function(x){x.changedTouches!=null&&x.changedTouches.length>0&&S.handleMouseUp(x.changedTouches[0])}),ee(S,"handleDoubleClick",function(x){var E=S.props.onDoubleClick;if(ie(E)){var C=S.getMouseInfo(x);E(C,x)}}),ee(S,"handleContextMenu",function(x){var E=S.props.onContextMenu;if(ie(E)){var C=S.getMouseInfo(x);E(C,x)}}),ee(S,"triggerSyncEvent",function(x){S.props.syncId!==void 0&&_p.emit(wp,S.props.syncId,x,S.eventEmitterSymbol)}),ee(S,"applySyncEvent",function(x){var E=S.props,C=E.layout,P=E.syncMethod,O=S.state.updateId,R=x.dataStartIndex,k=x.dataEndIndex;if(x.dataStartIndex!==void 0||x.dataEndIndex!==void 0)S.setState(L({dataStartIndex:R,dataEndIndex:k},m({props:S.props,dataStartIndex:R,dataEndIndex:k,updateId:O},S.state)));else if(x.activeTooltipIndex!==void 0){var $=x.chartX,M=x.chartY,D=x.activeTooltipIndex,F=S.state,V=F.offset,N=F.tooltipTicks;if(!V)return;if(typeof P=="function")D=P(N,x);else if(P==="value"){D=-1;for(var j=0;j<N.length;j++)if(N[j].value===x.activeLabel){D=j;break}}var B=L(L({},V),{},{x:V.left,y:V.top}),W=Math.min($,B.x+B.width),q=Math.min(M,B.y+B.height),Z=N[D]&&N[D].value,fe=pv(S.state,S.props.data,D),Ne=N[D]?{x:C==="horizontal"?N[D].coordinate:W,y:C==="horizontal"?q:N[D].coordinate}:Wk;S.setState(L(L({},x),{},{activeLabel:Z,activeCoordinate:Ne,activePayload:fe,activeTooltipIndex:D}))}else S.setState(x)}),ee(S,"renderCursor",function(x){var E,C=S.state,P=C.isTooltipActive,O=C.activeCoordinate,R=C.activePayload,k=C.offset,$=C.activeTooltipIndex,M=C.tooltipAxisBandSize,D=S.getTooltipEventType(),F=(E=x.props.active)!==null&&E!==void 0?E:P,V=S.props.layout,N=x.key||"_recharts-cursor";return I.createElement(Rce,{key:N,activeCoordinate:O,activePayload:R,activeTooltipIndex:$,chartName:n,element:x,isActive:F,layout:V,offset:k,tooltipAxisBandSize:M,tooltipEventType:D})}),ee(S,"renderPolarAxis",function(x,E,C){var P=Xt(x,"type.axisType"),O=Xt(S.state,"".concat(P,"Map")),R=x.type.defaultProps,k=R!==void 0?L(L({},R),x.props):x.props,$=O&&O[k["".concat(P,"Id")]];return U.cloneElement(x,L(L({},$),{},{className:le(P,$.className),key:x.key||"".concat(E,"-").concat(C),ticks:ar($,!0)}))}),ee(S,"renderPolarGrid",function(x){var E=x.props,C=E.radialLines,P=E.polarAngles,O=E.polarRadius,R=S.state,k=R.radiusAxisMap,$=R.angleAxisMap,M=Dr(k),D=Dr($),F=D.cx,V=D.cy,N=D.innerRadius,j=D.outerRadius;return U.cloneElement(x,{polarAngles:Array.isArray(P)?P:ar(D,!0).map(function(B){return B.coordinate}),polarRadius:Array.isArray(O)?O:ar(M,!0).map(function(B){return B.coordinate}),cx:F,cy:V,innerRadius:N,outerRadius:j,key:x.key||"polar-grid",radialLines:C})}),ee(S,"renderLegend",function(){var x=S.state.formattedGraphicalItems,E=S.props,C=E.children,P=E.width,O=E.height,R=S.props.margin||{},k=P-(R.left||0)-(R.right||0),$=AO({children:C,formattedGraphicalItems:x,legendWidth:k,legendContent:u});if(!$)return null;var M=$.item,D=ME($,Nce);return U.cloneElement(M,L(L({},D),{},{chartWidth:P,chartHeight:O,margin:R,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),ee(S,"renderTooltip",function(){var x,E=S.props,C=E.children,P=E.accessibilityLayer,O=zt(C,an);if(!O)return null;var R=S.state,k=R.isTooltipActive,$=R.activeCoordinate,M=R.activePayload,D=R.activeLabel,F=R.offset,V=(x=O.props.active)!==null&&x!==void 0?x:k;return U.cloneElement(O,{viewBox:L(L({},F),{},{x:F.left,y:F.top}),active:V,label:D,payload:V?M:[],coordinate:$,accessibilityLayer:P})}),ee(S,"renderBrush",function(x){var E=S.props,C=E.margin,P=E.data,O=S.state,R=O.offset,k=O.dataStartIndex,$=O.dataEndIndex,M=O.updateId;return U.cloneElement(x,{key:x.key||"_recharts-brush",onChange:Bu(S.handleBrushChange,x.props.onChange),data:P,x:z(x.props.x)?x.props.x:R.left,y:z(x.props.y)?x.props.y:R.top+R.height+R.brushBottom-(C.bottom||0),width:z(x.props.width)?x.props.width:R.width,startIndex:k,endIndex:$,updateId:"brush-".concat(M)})}),ee(S,"renderReferenceElement",function(x,E,C){if(!x)return null;var P=S,O=P.clipPathId,R=S.state,k=R.xAxisMap,$=R.yAxisMap,M=R.offset,D=x.type.defaultProps||{},F=x.props,V=F.xAxisId,N=V===void 0?D.xAxisId:V,j=F.yAxisId,B=j===void 0?D.yAxisId:j;return U.cloneElement(x,{key:x.key||"".concat(E,"-").concat(C),xAxis:k[N],yAxis:$[B],viewBox:{x:M.left,y:M.top,width:M.width,height:M.height},clipPathId:O})}),ee(S,"renderActivePoints",function(x){var E=x.item,C=x.activePoint,P=x.basePoint,O=x.childIndex,R=x.isRange,k=[],$=E.props.key,M=E.item.type.defaultProps!==void 0?L(L({},E.item.type.defaultProps),E.item.props):E.item.props,D=M.activeDot,F=M.dataKey,V=L(L({index:O,dataKey:F,cx:C.x,cy:C.y,r:4,fill:g0(E.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},re(D,!1)),Vc(D));return k.push(y.renderActiveDot(D,V,"".concat($,"-activePoint-").concat(O))),P?k.push(y.renderActiveDot(D,L(L({},V),{},{cx:P.x,cy:P.y}),"".concat($,"-basePoint-").concat(O))):R&&k.push(null),k}),ee(S,"renderGraphicChild",function(x,E,C){var P=S.filterFormatItem(x,E,C);if(!P)return null;var O=S.getTooltipEventType(),R=S.state,k=R.isTooltipActive,$=R.tooltipAxis,M=R.activeTooltipIndex,D=R.activeLabel,F=S.props.children,V=zt(F,an),N=P.props,j=N.points,B=N.isRange,W=N.baseLine,q=P.item.type.defaultProps!==void 0?L(L({},P.item.type.defaultProps),P.item.props):P.item.props,Z=q.activeDot,fe=q.hide,Ne=q.activeBar,Ge=q.activeShape,tn=!!(!fe&&k&&V&&(Z||Ne||Ge)),Mt={};O!=="axis"&&V&&V.props.trigger==="click"?Mt={onClick:Bu(S.handleItemMouseEnter,x.props.onClick)}:O!=="axis"&&(Mt={onMouseLeave:Bu(S.handleItemMouseLeave,x.props.onMouseLeave),onMouseEnter:Bu(S.handleItemMouseEnter,x.props.onMouseEnter)});var J=U.cloneElement(x,L(L({},P.props),Mt));function ae(si){return typeof $.dataKey=="function"?$.dataKey(si.payload):null}if(tn)if(M>=0){var se,G;if($.dataKey&&!$.allowDuplicatedCategory){var Fe=typeof $.dataKey=="function"?ae:"payload.".concat($.dataKey.toString());se=Bm(j,Fe,D),G=B&&W&&Bm(W,Fe,D)}else se=j==null?void 0:j[M],G=B&&W&&W[M];if(Ge||Ne){var de=x.props.activeIndex!==void 0?x.props.activeIndex:M;return[U.cloneElement(x,L(L(L({},P.props),Mt),{},{activeIndex:de})),null,null]}if(!ue(se))return[J].concat(Ea(S.renderActivePoints({item:P,activePoint:se,basePoint:G,childIndex:M,isRange:B})))}else{var Je,Ye=(Je=S.getItemByXY(S.state.activeCoordinate))!==null&&Je!==void 0?Je:{graphicalItem:J},$t=Ye.graphicalItem,Ar=$t.item,to=Ar===void 0?x:Ar,ru=$t.childIndex,ai=L(L(L({},P.props),Mt),{},{activeIndex:ru});return[U.cloneElement(to,ai),null,null]}return B?[J,null,null]:[J,null]}),ee(S,"renderCustomized",function(x,E,C){return U.cloneElement(x,L(L({key:"recharts-customized-".concat(C)},S.props),S.state))}),ee(S,"renderMap",{CartesianGrid:{handler:zu,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:zu},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:zu},YAxis:{handler:zu},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((b=w.id)!==null&&b!==void 0?b:Yl("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=AI(S.triggeredAfterMouseMove,(T=w.throttleDelay)!==null&&T!==void 0?T:1e3/60),S.state={},S}return qce(y,_),Bce(y,[{key:"componentDidMount",value:function(){var b,T;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,T=b.children,S=b.data,x=b.height,E=b.layout,C=zt(T,an);if(C){var P=C.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var O=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,R=pv(this.state,S,P,O),k=this.state.tooltipTicks[P].coordinate,$=(this.state.offset.top+x)/2,M=E==="horizontal",D=M?{x:k,y:$}:{y:k,x:$},F=this.state.formattedGraphicalItems.find(function(N){var j=N.item;return j.type.name==="Scatter"});F&&(D=L(L({},D),F.props.points[P].tooltipPosition),R=F.props.points[P].tooltipPayload);var V={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:O,activePayload:R,activeCoordinate:D};this.setState(V),this.renderCursor(C),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,T){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==T.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var S,x;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(x=this.props.margin.top)!==null&&x!==void 0?x:0}})}return null}},{key:"componentDidUpdate",value:function(b){Gm([zt(b.children,an)],[zt(this.props.children,an)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=zt(this.props.children,an);if(b&&typeof b.props.shared=="boolean"){var T=b.props.shared?"axis":"item";return s.indexOf(T)>=0?T:o}return o}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var T=this.container,S=T.getBoundingClientRect(),x=rX(S),E={chartX:Math.round(b.pageX-x.left),chartY:Math.round(b.pageY-x.top)},C=S.width/T.offsetWidth||1,P=this.inRange(E.chartX,E.chartY,C);if(!P)return null;var O=this.state,R=O.xAxisMap,k=O.yAxisMap,$=this.getTooltipEventType(),M=DE(this.state,this.props.data,this.props.layout,P);if($!=="axis"&&R&&k){var D=Dr(R).scale,F=Dr(k).scale,V=D&&D.invert?D.invert(E.chartX):null,N=F&&F.invert?F.invert(E.chartY):null;return L(L({},E),{},{xValue:V,yValue:N},M)}return M?L(L({},E),M):null}},{key:"inRange",value:function(b,T){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,x=this.props.layout,E=b/S,C=T/S;if(x==="horizontal"||x==="vertical"){var P=this.state.offset,O=E>=P.left&&E<=P.left+P.width&&C>=P.top&&C<=P.top+P.height;return O?{x:E,y:C}:null}var R=this.state,k=R.angleAxisMap,$=R.radiusAxisMap;if(k&&$){var M=Dr(k);return hT({x:E,y:C},M)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,T=this.getTooltipEventType(),S=zt(b,an),x={};S&&T==="axis"&&(S.props.trigger==="click"?x={onClick:this.handleClick}:x={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=Vc(this.props,this.handleOuterEvent);return L(L({},E),x)}},{key:"addListener",value:function(){_p.on(wp,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){_p.removeListener(wp,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,T,S){for(var x=this.state.formattedGraphicalItems,E=0,C=x.length;E<C;E++){var P=x[E];if(P.item===b||P.props.key===b.key||T===lr(P.item.type)&&S===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,T=this.state.offset,S=T.left,x=T.top,E=T.height,C=T.width;return I.createElement("defs",null,I.createElement("clipPath",{id:b},I.createElement("rect",{x:S,y:x,height:E,width:C})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(T,S){var x=NE(S,2),E=x[0],C=x[1];return L(L({},T),{},ee({},E,C.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(T,S){var x=NE(S,2),E=x[0],C=x[1];return L(L({},T),{},ee({},E,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var T;return(T=this.state.xAxisMap)===null||T===void 0||(T=T[b])===null||T===void 0?void 0:T.scale}},{key:"getYScaleByAxisId",value:function(b){var T;return(T=this.state.yAxisMap)===null||T===void 0||(T=T[b])===null||T===void 0?void 0:T.scale}},{key:"getItemByXY",value:function(b){var T=this.state,S=T.formattedGraphicalItems,x=T.activeItem;if(S&&S.length)for(var E=0,C=S.length;E<C;E++){var P=S[E],O=P.props,R=P.item,k=R.type.defaultProps!==void 0?L(L({},R.type.defaultProps),R.props):R.props,$=lr(R.type);if($==="Bar"){var M=(O.data||[]).find(function(N){return Gie(b,N)});if(M)return{graphicalItem:P,payload:M}}else if($==="RadialBar"){var D=(O.data||[]).find(function(N){return hT(b,N)});if(D)return{graphicalItem:P,payload:D}}else if(eh(P,x)||th(P,x)||$l(P,x)){var F=kae({graphicalItem:P,activeTooltipItem:x,itemData:k.data}),V=k.activeIndex===void 0?F:k.activeIndex;return{graphicalItem:L(L({},P),{},{childIndex:V}),payload:$l(P,x)?k.data[F]:P.props.data[F]}}}return null}},{key:"render",value:function(){var b=this;if(!iS(this))return null;var T=this.props,S=T.children,x=T.className,E=T.width,C=T.height,P=T.style,O=T.compact,R=T.title,k=T.desc,$=ME(T,Mce),M=re($,!1);if(O)return I.createElement(yE,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},I.createElement(qm,Do({},M,{width:E,height:C,title:R,desc:k}),this.renderClipPath(),aS(S,this.renderMap)));if(this.props.accessibilityLayer){var D,F;M.tabIndex=(D=this.props.tabIndex)!==null&&D!==void 0?D:0,M.role=(F=this.props.role)!==null&&F!==void 0?F:"application",M.onKeyDown=function(N){b.accessibilityManager.keyboardEvent(N)},M.onFocus=function(){b.accessibilityManager.focus()}}var V=this.parseEventsOfWrapper();return I.createElement(yE,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},I.createElement("div",Do({className:le("recharts-wrapper",x),style:L({position:"relative",cursor:"default",width:E,height:C},P)},V,{ref:function(j){b.container=j}}),I.createElement(qm,Do({},M,{width:E,height:C,title:R,desc:k,style:Xce}),this.renderClipPath(),aS(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(U.Component);ee(g,"displayName",n),ee(g,"defaultProps",L({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),ee(g,"getDerivedStateFromProps",function(_,y){var w=_.dataKey,b=_.data,T=_.children,S=_.width,x=_.height,E=_.layout,C=_.stackOffset,P=_.margin,O=y.dataStartIndex,R=y.dataEndIndex;if(y.updateId===void 0){var k=LE(_);return L(L(L({},k),{},{updateId:0},m(L(L({props:_},k),{},{updateId:0}),y)),{},{prevDataKey:w,prevData:b,prevWidth:S,prevHeight:x,prevLayout:E,prevStackOffset:C,prevMargin:P,prevChildren:T})}if(w!==y.prevDataKey||b!==y.prevData||S!==y.prevWidth||x!==y.prevHeight||E!==y.prevLayout||C!==y.prevStackOffset||!zo(P,y.prevMargin)){var $=LE(_),M={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},D=L(L({},DE(y,b,E)),{},{updateId:y.updateId+1}),F=L(L(L({},$),M),D);return L(L(L({},F),m(L({props:_},F),y)),{},{prevDataKey:w,prevData:b,prevWidth:S,prevHeight:x,prevLayout:E,prevStackOffset:C,prevMargin:P,prevChildren:T})}if(!Gm(T,y.prevChildren)){var V,N,j,B,W=zt(T,ga),q=W&&(V=(N=W.props)===null||N===void 0?void 0:N.startIndex)!==null&&V!==void 0?V:O,Z=W&&(j=(B=W.props)===null||B===void 0?void 0:B.endIndex)!==null&&j!==void 0?j:R,fe=q!==O||Z!==R,Ne=!ue(b),Ge=Ne&&!fe?y.updateId:y.updateId+1;return L(L({updateId:Ge},m(L(L({props:_},y),{},{updateId:Ge,dataStartIndex:q,dataEndIndex:Z}),y)),{},{prevChildren:T,dataStartIndex:q,dataEndIndex:Z})}return null}),ee(g,"renderActiveDot",function(_,y,w){var b;return U.isValidElement(_)?b=U.cloneElement(_,y):ie(_)?b=_(y):b=I.createElement(y0,y),I.createElement(ve,{className:"recharts-active-dot",key:w},b)});var v=U.forwardRef(function(y,w){return I.createElement(g,Do({},y,{ref:w}))});return v.displayName=g.displayName,v},sfe=Jk({chartName:"BarChart",GraphicalChild:eo,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:sh},{axisType:"yAxis",AxisComp:lh}],formatAxisMap:ule}),Yk=Jk({chartName:"PieChart",GraphicalChild:Yn,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Zd},{axisType:"radiusAxis",AxisComp:Xd}],formatAxisMap:Zte,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const Wu=["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899","#6366f1","#14b8a6"],Xk=({annotations:e,title:t="Analysis Statistics"})=>{const n=U.useMemo(()=>{const r={},i={};e.forEach(s=>{r[s.macro_code]=(r[s.macro_code]||0)+1,i[s.error_code]=(i[s.error_code]||0)+1});const o=Object.entries(r).map(([s,l])=>({name:s,value:l})).sort((s,l)=>l.value-s.value),a=Object.entries(i).map(([s,l])=>({name:s,value:l})).sort((s,l)=>l.value-s.value);return{macroData:o,microData:a,total:e.length}},[e]);return n.total===0?A.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm h-full",children:[A.jsx("h3",{className:"font-bold text-slate-700 mb-4 border-b border-slate-100 pb-2",children:t}),A.jsx("div",{className:"flex flex-col items-center justify-center h-40 text-slate-400",children:A.jsx("p",{children:"No errors found"})})]}):A.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm h-full flex flex-col",children:[A.jsxs("div",{className:"flex justify-between items-center border-b border-slate-100 pb-4 mb-4",children:[A.jsx("h3",{className:"font-bold text-slate-700",children:t}),A.jsxs("span",{className:"bg-red-100 text-red-700 text-xs font-bold px-3 py-1 rounded-full",children:[n.total," Errors"]})]}),A.jsxs("div",{className:"space-y-6 flex-grow",children:[A.jsxs("div",{children:[A.jsx("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-3",children:"Macro Categories"}),A.jsxs("div",{className:"flex items-start gap-4",children:[A.jsx("div",{className:"h-24 w-24 flex-shrink-0",children:A.jsx(dg,{width:"100%",height:"100%",children:A.jsxs(Yk,{children:[A.jsx(Yn,{data:n.macroData,cx:"50%",cy:"50%",innerRadius:15,outerRadius:35,paddingAngle:2,dataKey:"value",stroke:"none",children:n.macroData.map((r,i)=>A.jsx(Ql,{fill:Wu[i%Wu.length]},`cell-${i}`))}),A.jsx(an,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)",fontSize:"12px"}})]})})}),A.jsx("div",{className:"flex-grow space-y-1.5 overflow-y-auto max-h-32 custom-scrollbar pr-2",children:n.macroData.map((r,i)=>A.jsxs("div",{className:"flex items-center justify-between text-sm",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:Wu[i%Wu.length]}}),A.jsx("span",{className:"text-slate-600 font-medium",children:r.name})]}),A.jsx("span",{className:"text-slate-900 font-semibold",children:r.value})]},r.name))})]})]}),A.jsxs("div",{children:[A.jsx("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-3",children:"Error Codes"}),A.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto custom-scrollbar pr-2",children:n.microData.map(r=>A.jsxs("div",{className:"flex items-center justify-between text-sm bg-slate-50 p-2 rounded border border-slate-100",children:[A.jsx("span",{className:"font-mono text-xs font-bold text-blue-600",children:r.name}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("div",{className:"w-24 h-1.5 bg-slate-200 rounded-full overflow-hidden",children:A.jsx("div",{className:"h-full bg-blue-500 rounded-full",style:{width:`${r.value/n.total*100}%`}})}),A.jsx("span",{className:"text-xs font-bold text-slate-600 w-4 text-right",children:r.value})]})]},r.name))})]})]})]})},lfe=e=>{const t=[];let n="",r=!1;const i=e.replace(/\r\n/g,`
`).replace(/\r/g,`
`);for(let o=0;o<i.length;o++){const a=i[o];r?a==='"'?o+1<i.length&&i[o+1]==='"'?(n+='"',o++):r=!1:n+=a:a==='"'?r=!0:a===`
`?(n.trim()&&t.push(n.trim()),n=""):n+=a}return n.trim()&&t.push(n.trim()),t},ufe=({onComplete:e,onProcessingStateChange:t})=>{const[n,r]=U.useState("text"),[i,o]=U.useState(""),[a,s]=U.useState(!1),[l,u]=U.useState(!1),[c,f]=U.useState({current:0,total:0,success:0,failed:0}),[h,m]=U.useState([]),[g,v]=U.useState([]),[_,y]=U.useState(null),w=U.useRef(!1),b=U.useRef(!1);U.useEffect(()=>{t&&t(a)},[a,t]),U.useEffect(()=>{const R=k=>{if(a&&!l){const $="Batch processing is active. Closing this tab will stop the process.";return k.preventDefault(),k.returnValue=$,$}};return window.addEventListener("beforeunload",R),()=>window.removeEventListener("beforeunload",R)},[a,l]),U.useEffect(()=>{b.current=l},[l]);const T=async R=>{s(!0),w.current=!1,b.current=!1,u(!1);const k=100;for(const $ of R){if(w.current)break;for(;b.current&&!w.current;)await new Promise(M=>setTimeout(M,500));try{const M=await HP($);await l1(M),y(M),m(D=>[M,...D].slice(0,k)),v(D=>[...D,...M.annotations]),f(D=>({...D,current:D.current+1,success:D.success+1}))}catch(M){console.error("Error processing item:",M);const D={original_text:$,corrected_text:"Error processing this item.",annotations:[]};m(F=>[D,...F].slice(0,k)),f(F=>({...F,current:F.current+1,failed:F.failed+1}))}await new Promise(M=>setTimeout(M,100))}s(!1),e()},S=R=>{m([]),v([]),y(null),f({current:0,total:R.length,success:0,failed:0}),T(R)},x=()=>{const R=i.split(`
`).filter(k=>k.trim().length>0);R.length!==0&&S(R)},E=R=>{var M;const k=(M=R.target.files)==null?void 0:M[0];if(!k)return;const $=new FileReader;$.onload=D=>{var j;const F=(j=D.target)==null?void 0:j.result;let V=[];if(k.name.endsWith(".json"))try{const B=JSON.parse(F);Array.isArray(B)&&(V=B.map(W=>typeof W=="string"?W:JSON.stringify(W)))}catch{alert("Invalid JSON file");return}else V=lfe(F);const N=V.filter(B=>B.trim().length>0);N.length>0?S(N):alert("No valid text found in file.")},$.readAsText(k)},C=()=>{confirm("Are you sure you want to stop processing? Progress will be saved, but the remaining queue will be cleared.")&&(w.current=!0,s(!1))},P=()=>{u(!l)},O=()=>{m([]),v([]),y(null),f({current:0,total:0,success:0,failed:0})};return A.jsxs("div",{className:"space-y-6 h-full flex flex-col",children:[!a&&h.length===0&&A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"flex gap-4 border-b border-slate-200 pb-4",children:[A.jsx("button",{onClick:()=>r("text"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${n==="text"?"bg-blue-50 text-blue-700":"text-slate-600 hover:bg-slate-50"}`,children:"Paste Text"}),A.jsx("button",{onClick:()=>r("file"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${n==="file"?"bg-blue-50 text-blue-700":"text-slate-600 hover:bg-slate-50"}`,children:"Upload CSV/TXT"})]}),A.jsx("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm",children:n==="text"?A.jsxs("div",{className:"space-y-4",children:[A.jsx("textarea",{className:"w-full h-48 p-4 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none resize-none font-mono text-sm",placeholder:"Enter multiple sentences, one per line...",value:i,onChange:R=>o(R.target.value)}),A.jsxs("button",{onClick:x,disabled:!i.trim(),className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex justify-center items-center gap-2",children:[A.jsx(OG,{size:18}),"Start Batch Processing"]})]}):A.jsxs("div",{className:"border-2 border-dashed border-slate-300 rounded-xl p-12 text-center hover:bg-slate-50 transition-colors cursor-pointer relative",children:[A.jsx("input",{type:"file",accept:".txt,.csv,.json",onChange:E,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),A.jsx(FG,{className:"mx-auto h-12 w-12 text-slate-400 mb-4"}),A.jsx("p",{className:"text-slate-600 font-medium",children:"Click to upload or drag and drop"}),A.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"CSV (text column), TXT (one per line), or JSON array"})]})})]}),(a||h.length>0)&&A.jsxs("div",{className:"flex flex-col gap-6",children:[a&&A.jsxs("div",{className:"bg-amber-50 border border-amber-200 text-amber-800 px-4 py-3 rounded-lg flex items-center gap-2 text-sm animate-pulse",children:[A.jsx(xG,{size:16}),A.jsx("strong",{children:"Do not close this tab."})," Processing is running locally in your browser. Closing the tab will stop the batch."]}),A.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm flex flex-wrap items-center justify-between gap-4 sticky top-20 z-30",children:[A.jsxs("div",{className:"flex items-center gap-4 flex-grow",children:[a?A.jsx(jm,{className:"h-6 w-6 text-blue-600 animate-spin"}):A.jsx(Gb,{className:"h-6 w-6 text-green-500"}),A.jsxs("div",{className:"flex-grow",children:[A.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[A.jsx("span",{className:"font-semibold text-slate-700",children:a?l?"Paused":"Processing...":"Batch Complete"}),A.jsxs("span",{className:"text-slate-500",children:[c.current," / ",c.total]})]}),A.jsx("div",{className:"w-full bg-slate-100 rounded-full h-2 overflow-hidden",children:A.jsx("div",{className:`h-full transition-all duration-300 ${l?"bg-amber-400":"bg-blue-600"}`,style:{width:`${c.current/c.total*100}%`}})})]})]}),A.jsxs("div",{className:"flex items-center gap-2",children:[a&&A.jsxs(A.Fragment,{children:[A.jsx("button",{onClick:P,className:"p-2 hover:bg-slate-100 rounded-full text-slate-600 transition-colors",title:l?"Resume":"Pause",children:l?A.jsx(DG,{size:24}):A.jsx(NG,{size:24})}),A.jsx("button",{onClick:C,className:"p-2 hover:bg-red-50 rounded-full text-red-500 transition-colors",title:"Stop",children:A.jsx(UG,{size:24})})]}),!a&&A.jsx("button",{onClick:O,className:"px-4 py-2 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-lg text-sm font-medium transition-colors",children:"New Batch"})]})]}),A.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[A.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[_&&A.jsxs("div",{className:"bg-white rounded-xl border border-blue-200 shadow-sm overflow-hidden animate-in fade-in slide-in-from-top-4",children:[A.jsxs("div",{className:"bg-blue-50 px-4 py-2 border-b border-blue-100 flex items-center gap-2",children:[A.jsx(IG,{size:16,className:"text-blue-600"}),A.jsx("span",{className:"text-sm font-bold text-blue-800 uppercase tracking-wider",children:"Latest Analysis"})]}),A.jsxs("div",{className:"p-4 space-y-4",children:[A.jsxs("div",{children:[A.jsx("h4",{className:"text-xs font-semibold text-slate-400 uppercase mb-2",children:"Original"}),A.jsx(c1,{originalText:_.original_text,annotations:_.annotations})]}),A.jsxs("div",{children:[A.jsx("h4",{className:"text-xs font-semibold text-slate-400 uppercase mb-2",children:"Corrected"}),A.jsx("div",{className:"p-4 bg-green-50 rounded-lg border border-green-100 text-slate-800 font-serif",children:_.corrected_text})]})]})]}),A.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden",children:[A.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 flex justify-between items-center",children:[A.jsx("h3",{className:"font-bold text-slate-700",children:"Processed Items"}),A.jsxs("span",{className:"text-xs text-slate-400",children:["Showing last ",Math.min(h.length,100)," items"]})]}),A.jsx("div",{className:"overflow-x-auto max-h-[500px] overflow-y-auto custom-scrollbar",children:A.jsxs("table",{className:"w-full text-left text-sm",children:[A.jsx("thead",{className:"bg-slate-50 border-b border-slate-200 sticky top-0 z-10",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-6 py-3 font-semibold text-slate-600 w-1/3",children:"Original"}),A.jsx("th",{className:"px-6 py-3 font-semibold text-slate-600 w-1/3",children:"Corrected"}),A.jsx("th",{className:"px-6 py-3 font-semibold text-slate-600 w-1/3",children:"Errors"})]})}),A.jsx("tbody",{className:"divide-y divide-slate-100",children:h.map((R,k)=>A.jsxs("tr",{className:"hover:bg-slate-50",children:[A.jsx("td",{className:"px-6 py-4 text-slate-800 align-top",children:A.jsx("div",{className:"line-clamp-2",title:R.original_text,children:R.original_text})}),A.jsx("td",{className:"px-6 py-4 text-slate-600 align-top",children:A.jsx("div",{className:"line-clamp-2",title:R.corrected_text,children:R.corrected_text})}),A.jsx("td",{className:"px-6 py-4 align-top",children:A.jsx("div",{className:"flex flex-wrap gap-1",children:R.annotations.length>0?R.annotations.map(($,M)=>A.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-red-100 text-red-800",children:$.error_code},M)):A.jsxs("span",{className:"text-green-600 flex items-center gap-1 text-xs",children:[A.jsx(Gb,{size:12})," None"]})})})]},k))})]})})]})]}),A.jsx("div",{className:"lg:col-span-1",children:A.jsxs("div",{className:"sticky top-24 space-y-4",children:[A.jsx(Xk,{annotations:g,title:`Batch Statistics (${c.current})`}),A.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[A.jsx("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-3",children:"Status"}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("div",{className:"text-center p-2 bg-green-50 rounded-lg border border-green-100",children:[A.jsx("div",{className:"text-xl font-bold text-green-600",children:c.success}),A.jsx("div",{className:"text-xs text-green-800",children:"Successful"})]}),A.jsxs("div",{className:"text-center p-2 bg-red-50 rounded-lg border border-red-100",children:[A.jsx("div",{className:"text-xl font-bold text-red-600",children:c.failed}),A.jsx("div",{className:"text-xs text-red-800",children:"Failed"})]})]})]})]})})]})]})]})},FE=["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899","#6366f1","#14b8a6"],cfe=({history:e})=>{const[t,n]=U.useState("all"),r=U.useMemo(()=>t==="all"?e:e.filter(o=>{var a;return((a=o.id)==null?void 0:a.toString())===t}),[e,t]),i=U.useMemo(()=>{let o=0;const a={},s={};r.forEach(c=>{o+=c.annotations.length,c.annotations.forEach(f=>{a[f.error_code]=(a[f.error_code]||0)+1,s[f.macro_code]=(s[f.macro_code]||0)+1})});const l=Object.entries(a).map(([c,f])=>({name:c,value:f})).sort((c,f)=>f.value-c.value).slice(0,10),u=Object.entries(s).map(([c,f])=>({name:c,value:f})).sort((c,f)=>f.value-c.value);return{totalRecords:r.length,totalErrors:o,avgErrors:r.length?(o/r.length).toFixed(1):0,topErrorCodes:l,macroCodeData:u}},[r]);return e.length===0?A.jsxs("div",{className:"text-center py-12 bg-white rounded-xl border border-slate-200 border-dashed",children:[A.jsx(Bb,{className:"mx-auto h-12 w-12 text-slate-300 mb-3"}),A.jsx("p",{className:"text-slate-500",children:"No data available for statistics. Start analyzing texts!"})]}):A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm flex items-center gap-3",children:[A.jsx(kG,{className:"text-slate-400",size:20}),A.jsxs("select",{value:t,onChange:o=>n(o.target.value),className:"flex-grow p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none text-sm text-slate-700",children:[A.jsxs("option",{value:"all",children:["All Combined Statistics (",e.length," items)"]}),e.map(o=>{var a;return A.jsxs("option",{value:(a=o.id)==null?void 0:a.toString(),children:["#",o.id," - ",o.original_text.substring(0,50),o.original_text.length>50?"...":""]},o.id)})]})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[A.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm",children:[A.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[A.jsx("div",{className:"p-2 bg-blue-100 rounded-lg text-blue-600",children:A.jsx(Bb,{size:20})}),A.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Total Analyzed"})]}),A.jsx("p",{className:"text-3xl font-bold text-slate-800",children:i.totalRecords}),A.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Texts processed"})]}),A.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm",children:[A.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[A.jsx("div",{className:"p-2 bg-red-100 rounded-lg text-red-600",children:A.jsx(SG,{size:20})}),A.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Total Errors"})]}),A.jsx("p",{className:"text-3xl font-bold text-slate-800",children:i.totalErrors}),A.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Errors identified"})]}),A.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm",children:[A.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[A.jsx("div",{className:"p-2 bg-green-100 rounded-lg text-green-600",children:A.jsx(Vb,{size:20})}),A.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Avg. Errors"})]}),A.jsx("p",{className:"text-3xl font-bold text-slate-800",children:i.avgErrors}),A.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Per text submission"})]})]}),A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[A.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm",children:[A.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-6 flex items-center gap-2",children:[A.jsx(Vb,{className:"text-slate-400",size:20}),"Top 10 Error Types"]}),A.jsx("div",{className:"h-80 w-full",children:i.totalErrors>0?A.jsx(dg,{width:"100%",height:"100%",children:A.jsxs(sfe,{data:i.topErrorCodes,layout:"vertical",margin:{top:5,right:30,left:40,bottom:5},children:[A.jsx(Mk,{strokeDasharray:"3 3",horizontal:!0,vertical:!1}),A.jsx(sh,{type:"number"}),A.jsx(lh,{dataKey:"name",type:"category",width:40,tick:{fontSize:12}}),A.jsx(an,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},cursor:{fill:"#f1f5f9"}}),A.jsx(eo,{dataKey:"value",fill:"#3b82f6",radius:[0,4,4,0],barSize:20,name:"Count"})]})}):A.jsx("div",{className:"h-full flex items-center justify-center text-slate-400",children:"No errors to display"})})]}),A.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm",children:[A.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-6 flex items-center gap-2",children:[A.jsx($G,{className:"text-slate-400",size:20}),"Error Category Distribution"]}),A.jsx("div",{className:"h-80 w-full",children:i.totalErrors>0?A.jsx(dg,{width:"100%",height:"100%",children:A.jsxs(Yk,{children:[A.jsx(Yn,{data:i.macroCodeData,cx:"50%",cy:"50%",labelLine:!1,outerRadius:100,fill:"#8884d8",dataKey:"value",label:({name:o,percent:a})=>`${o} ${(a*100).toFixed(0)}%`,children:i.macroCodeData.map((o,a)=>A.jsx(Ql,{fill:FE[a%FE.length]},`cell-${a}`))}),A.jsx(an,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),A.jsx(Ni,{verticalAlign:"bottom",height:36,iconType:"circle"})]})}):A.jsx("div",{className:"h-full flex items-center justify-center text-slate-400",children:"No errors to display"})})]})]})]})},ffe=()=>{const[e,t]=U.useState("single"),[n,r]=U.useState(""),[i,o]=U.useState(!1),[a,s]=U.useState(null),[l,u]=U.useState([]),[c,f]=U.useState(null),[h,m]=U.useState(!1),[g,v]=U.useState(!1),[_,y]=U.useState("");U.useEffect(()=>{w();const x=localStorage.getItem("gemini_api_key");x&&y(x)},[]);const w=async()=>{const x=await _G();u(x)},b=()=>{localStorage.setItem("gemini_api_key",_.trim()),v(!1),f(null)},T=async()=>{var x;if(n.trim()){o(!0),f(null),s(null);try{const E=await HP(n);s(E),await l1(E),await w()}catch(E){f(E.message||"An error occurred during analysis."),(x=E.message)!=null&&x.includes("API Key")&&v(!0)}finally{o(!1)}}},S=x=>{s({original_text:x.original_text,corrected_text:x.corrected_text,annotations:x.annotations}),t("single"),window.scrollTo({top:0,behavior:"smooth"})};return A.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col",children:[A.jsx("header",{className:"bg-white border-b border-slate-200 sticky top-0 z-40",children:A.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("div",{className:"bg-blue-600 p-2 rounded-lg",children:A.jsx(MG,{className:"text-white h-5 w-5"})}),A.jsx("h1",{className:"text-xl font-bold text-slate-800 tracking-tight",children:"ESL Annotator"})]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsxs("nav",{className:"flex items-center gap-1 bg-slate-100 p-1 rounded-lg overflow-x-auto",children:[A.jsx("button",{onClick:()=>t("single"),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-all whitespace-nowrap ${e==="single"?"bg-white text-blue-600 shadow-sm":"text-slate-600 hover:text-slate-900"}`,children:"Single"}),A.jsxs("button",{onClick:()=>t("batch"),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-all whitespace-nowrap flex items-center gap-1 ${e==="batch"?"bg-white text-blue-600 shadow-sm":"text-slate-600 hover:text-slate-900"}`,children:["Batch",h&&A.jsx(jm,{size:12,className:"animate-spin text-blue-500"})]}),A.jsx("button",{onClick:()=>t("history"),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-all whitespace-nowrap ${e==="history"?"bg-white text-blue-600 shadow-sm":"text-slate-600 hover:text-slate-900"}`,children:"History"}),A.jsx("button",{onClick:()=>t("statistics"),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-all whitespace-nowrap ${e==="statistics"?"bg-white text-blue-600 shadow-sm":"text-slate-600 hover:text-slate-900"}`,children:"Statistics"})]}),A.jsx("button",{onClick:()=>v(!0),className:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-full transition-colors",title:"Settings",children:A.jsx(Hb,{size:20})})]})]})}),A.jsxs("main",{className:"flex-grow max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8 w-full",children:[e==="single"&&A.jsxs("div",{className:"space-y-8",children:[A.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[A.jsxs("div",{className:"p-4 border-b border-slate-100 bg-slate-50 flex justify-between items-center",children:[A.jsxs("h2",{className:"font-semibold text-slate-700 flex items-center gap-2",children:[A.jsx(AG,{size:18})," Input Text"]}),A.jsx("span",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:"RAG Powered"})]}),A.jsxs("div",{className:"p-4",children:[A.jsx("textarea",{value:n,onChange:x=>r(x.target.value),placeholder:"Enter English text to analyze (e.g., 'He go to school yesterday.')",className:"w-full h-32 p-3 text-lg border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none resize-none placeholder:text-slate-300"}),A.jsx("div",{className:"mt-4 flex justify-end",children:A.jsx("button",{onClick:T,disabled:i||!n.trim(),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2.5 rounded-lg font-semibold transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 shadow-sm hover:shadow-md",children:i?A.jsxs(A.Fragment,{children:[A.jsx(jm,{className:"animate-spin",size:18})," Analyzing..."]}):A.jsxs(A.Fragment,{children:["Analyze Text ",A.jsx(TG,{size:18})]})})})]})]}),c&&A.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-4 rounded-lg flex items-start gap-3 shadow-sm animate-in fade-in slide-in-from-top-2",children:[A.jsx(jG,{className:"flex-shrink-0 mt-0.5",size:20}),A.jsxs("div",{children:[A.jsx("h3",{className:"font-bold text-sm",children:"Analysis Failed"}),A.jsx("p",{className:"text-sm mt-1",children:c}),c.includes("API Key")&&A.jsx("button",{onClick:()=>v(!0),className:"text-sm font-semibold underline mt-2 hover:text-red-800",children:"Configure API Key"})]})]}),a&&A.jsxs("div",{className:"grid lg:grid-cols-3 gap-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[A.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[A.jsxs("div",{className:"space-y-3",children:[A.jsx("h3",{className:"text-sm font-bold text-slate-500 uppercase tracking-wider",children:"Annotated Original"}),A.jsx(c1,{originalText:a.original_text,annotations:a.annotations}),A.jsx("p",{className:"text-xs text-slate-400 italic text-center mt-2",children:"Click highlighted text for details"})]}),A.jsxs("div",{className:"space-y-3",children:[A.jsx("h3",{className:"text-sm font-bold text-slate-500 uppercase tracking-wider",children:"Corrected Version"}),A.jsx("div",{className:"p-6 bg-green-50 rounded-lg border border-green-100 text-lg text-slate-800 leading-relaxed font-serif",children:a.corrected_text})]})]}),A.jsx("div",{className:"lg:col-span-1",children:A.jsx("div",{className:"sticky top-24",children:A.jsx(Xk,{annotations:a.annotations})})})]})]}),A.jsxs("div",{style:{display:e==="batch"?"block":"none"},className:"max-w-5xl mx-auto",children:[A.jsxs("div",{className:"mb-6",children:[A.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-2",children:"Batch Processing"}),A.jsx("p",{className:"text-slate-500",children:"Analyze multiple sentences or upload a file for bulk annotation."})]}),A.jsx(ufe,{onComplete:w,onProcessingStateChange:m})]}),e==="history"&&A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("h2",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[A.jsx(RG,{className:"text-slate-400"})," Analysis History"]}),A.jsx("button",{onClick:w,className:"text-sm text-blue-600 hover:underline",children:"Refresh"})]}),l.length===0?A.jsxs("div",{className:"text-center py-12 bg-white rounded-xl border border-slate-200 border-dashed",children:[A.jsx(PG,{className:"mx-auto h-12 w-12 text-slate-300 mb-3"}),A.jsx("p",{className:"text-slate-500",children:"No history found. Start analyzing!"})]}):A.jsx("div",{className:"grid gap-4",children:l.map(x=>A.jsxs("div",{onClick:()=>S(x),className:"bg-white p-4 rounded-lg border border-slate-200 shadow-sm hover:shadow-md transition-all cursor-pointer group relative overflow-hidden",children:[A.jsxs("div",{className:"flex justify-between items-start mb-2",children:[A.jsx("span",{className:"text-xs font-mono text-slate-400",children:x.created_at?new Date(x.created_at).toLocaleString():"Just now"}),A.jsxs("span",{className:`text-xs px-2 py-1 rounded-full font-medium transition-colors ${(x.error_count??x.annotations.length)>0?"bg-red-100 text-red-700 group-hover:bg-red-200":"bg-green-100 text-green-700 group-hover:bg-green-200"}`,children:[x.error_count??x.annotations.length," Errors"]})]}),A.jsxs("div",{className:"flex justify-between items-center gap-4",children:[A.jsxs("div",{className:"flex-grow min-w-0",children:[A.jsx("p",{className:"text-slate-800 font-medium truncate mb-1",children:x.original_text}),A.jsx("p",{className:"text-slate-500 text-sm truncate",children:x.corrected_text})]}),A.jsx(CG,{className:"text-slate-300 group-hover:text-blue-500 transition-colors flex-shrink-0",size:20})]})]},x.id))})]}),e==="statistics"&&A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("h2",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[A.jsx(EG,{className:"text-slate-400"})," Error Statistics"]}),A.jsx("button",{onClick:w,className:"text-sm text-blue-600 hover:underline",children:"Refresh Data"})]}),A.jsx(cfe,{history:l})]})]}),A.jsx("footer",{className:"bg-white border-t border-slate-200 py-6 mt-auto",children:A.jsxs("div",{className:"max-w-5xl mx-auto px-4 text-center text-slate-400 text-sm",children:[A.jsxs("p",{children:["ESL Error Annotator  ",new Date().getFullYear()]}),A.jsx("p",{className:"text-xs mt-1",children:"Powered by Gemini & Supabase"})]})}),g&&A.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:A.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full overflow-hidden border border-slate-100 animate-in fade-in zoom-in-95 duration-200",children:[A.jsxs("div",{className:"bg-slate-50 px-4 py-3 border-b border-slate-100 flex justify-between items-center",children:[A.jsxs("h3",{className:"font-bold text-slate-700 flex items-center gap-2",children:[A.jsx(Hb,{size:18})," Settings"]}),A.jsx("button",{onClick:()=>v(!1),className:"text-slate-400 hover:text-slate-600",children:A.jsx(u1,{size:20})})]}),A.jsxs("div",{className:"p-6 space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Google Gemini API Key"}),A.jsx("input",{type:"password",value:_,onChange:x=>y(x.target.value),placeholder:"AIzaSy...",className:"w-full p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none text-sm font-mono"}),A.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Your API key is stored locally in your browser and is only used to communicate with Google's servers."})]}),A.jsx("div",{className:"flex justify-end pt-2",children:A.jsxs("button",{onClick:b,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium text-sm flex items-center gap-2 transition-colors",children:[A.jsx(LG,{size:16})," Save Configuration"]})})]})]})})]})},Qk=document.getElementById("root");if(!Qk)throw new Error("Could not find root element to mount to");const dfe=Sp.createRoot(Qk);dfe.render(A.jsx(I.StrictMode,{children:A.jsx(ffe,{})}));
